;/*FB_PKG_DELIM*/

__d("LSShimCompleteThreadCutover.nop",["I64","MAWBridgeFireAndForget","MAWDbChatId__UNSAFE_DO_NOT_USE","ReQL","asyncToGeneratorRuntime","cr:6679"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f,g){c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.cutover_threads).getKeyRange(f)));if(c!=null){e=c.showOpenMessageHistory===!1;if(e)return[(h||(h=d("I64"))).one];e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(c.armadilloThreadId)));c=e==null?void 0:e.clientThreadPk;if(c!=null){e=d("MAWDbChatId__UNSAFE_DO_NOT_USE").unsafeCoerceToChatId__DEPRECATED((h||(h=d("I64"))).to_int32(c));if(b("cr:6679")==null){a=(c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.e2ee_threads).getKeyRange(d("MAWDbChatId__UNSAFE_DO_NOT_USE").convertToChatId64__DEPRECATED(e)))))==null?void 0:c.jid}else a=(yield b("cr:6679").getThreadJidByChatId({threadId:e}));if(a==null)return[(h||(h=d("I64"))).one];d("MAWBridgeFireAndForget").fireAndForget("backend","insertAdminMessageInCutoverThreads",{openThreadId:h.to_string(f),threadJid:a,traceId:g});return[h.zero]}return[(h||(h=d("I64"))).one]}return[(h||(h=d("I64"))).one]});function c(b,c,d,e,f){return a.apply(this,arguments)}return c}();g["default"]=a}),98);
__d("LSCompleteThreadCutover",["LSShimCompleteThreadCutover.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.nativeOperation(b("LSShimCompleteThreadCutover.nop"),a[0],a[1],a[2]).then(function(a){return a=a,d[0]=a[0],a})},function(a){return c.resolve(e)}])}e.exports=a}),null);