;/*FB_PKG_DELIM*/

__d("BotFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{children:[i.jsx("path",{d:"M104.255 922c-.41 0-.755.458-.755 1s.346 1 .755 1c.409 0 .755-.458.755-1s-.346-1-.755-1m-3.505.36v-.234a.126.126 0 0 0-.126-.126H100v.486h.624c.07 0 .126-.057.126-.126m.033 1.14H100v.5h.843a.155.155 0 0 0 .157-.153v-.136c0-.115-.1-.211-.217-.211",transform:"translate(352 156.5)"}),i.jsx("path",{d:"M108.5 922h-.5v2.5a.5.5 0 1 1-1 0V922h-.5a.5.5 0 1 1 0-1h2a.5.5 0 1 1 0 1zm-4.245 3c-.968 0-1.755-.897-1.755-2s.787-2 1.755-2c.968 0 1.755.897 1.755 2s-.788 2-1.755 2zM102 923.843c0 .638-.519 1.157-1.156 1.157H99.5a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5h1.124c.621 0 1.126.505 1.126 1.126v.234c0 .172-.042.333-.111.479.223.22.361.526.361.863v.141zm7.94-2.486v-.002c-.067-.835-.145-1.332-.416-1.916a3.458 3.458 0 0 0-1.58-1.505l-.026-.008c-.475-.214-.917-.277-1.792-.346a28.09 28.09 0 0 0-4.254 0c-.768.061-1.278.116-1.882.382a3.465 3.465 0 0 0-1.541 1.538l-.013.033c-.236.498-.309.985-.377 1.825a25.389 25.389 0 0 0 0 3.287c.069.837.147 1.334.417 1.916.326.629.883 1.17 1.532 1.486a.597.597 0 0 0 .049.02l.025.007c.475.214.918.277 1.792.346a28.103 28.103 0 0 0 4.254 0c.767-.061 1.277-.116 1.882-.382a3.469 3.469 0 0 0 1.541-1.538l.013-.034c.235-.497.309-.983.377-1.824.07-.936.07-2.349 0-3.285z",transform:"translate(352 156.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("ClockFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx("path",{d:"M457.655 1081.405a.748.748 0 0 1-1.06 0l-1.375-1.375a.75.75 0 0 1-.22-.53v-2.75a.75.75 0 0 1 1.5 0v2.44l1.155 1.155a.75.75 0 0 1 0 1.06M456 1073.5c-3.309 0-6 2.691-6 6s2.691 6 6 6 6-2.691 6-6-2.691-6-6-6"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5428046370622309"}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters",["CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogContentQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7242992795798414"}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters",["CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogNUXQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceCreateDiscountedPriceDialog.entrypoint",["CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters","CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=d("WebPixelRatio").get();return{queries:{cometMarketplaceCreateDiscountedPriceDialogContentQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters"),variables:{thread_id:a.threadId}},cometMarketplaceCreateDiscountedPriceDialogNUXQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters"),variables:{contentParams:{pixelRatio:b},scale:b}}}}},root:c("JSResourceForInteraction")("CometMarketplaceCreateDiscountedPriceDialog.react").__setRef("CometMarketplaceCreateDiscountedPriceDialog.entrypoint")};g["default"]=a}),98);
__d("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1746398");b=d("FalcoLoggerInternal").create("ctm_multi_photo_carousel_msgr_multi_photo_carousel_click",a);e=b;g["default"]=e}),98);
__d("Dots3VerticalOutline20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsx("path",{d:"M456 410a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0-12a2 2 0 1 1 0-4 2 2 0 0 1 0 4"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBP2MCheckoutDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("FBP2MCheckoutDialog.react").__setRef("FBP2MCheckoutDialog.entrypoint")};g["default"]=a}),98);
__d("FBP2MECPCheckoutDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("FBP2MECPCheckoutDialog.react").__setRef("FBP2MECPCheckoutDialog.entrypoint")};g["default"]=a}),98);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4973572169363354"}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql",["GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerPlatformCtaPostHandlingResponsePayload",kind:"LinkedField",name:"messenger_platform_cta_post_handling",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:c},params:{id:b("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"),metadata:{},name:"GraphQLMessengerPlatformCtaPostHandlingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7239517286173978"}),null);
__d("GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters",["CometImmersivePhotoCanUserDisable3DMotion.relayprovider","GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation","IsMergQAPolls.relayprovider","IsWorkUser.relayprovider"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdmodChatsPendingPostReviewDialogQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:b("CometImmersivePhotoCanUserDisable3DMotion.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider")}}};e.exports=a}),null);
__d("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint",["GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.authorID,e=a.groupID,f=a.postID;a=a.scale;return{queries:{queryReference:{parameters:c("GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters"),variables:{authorID:b,feedLocation:"GROUP_PENDING",focusCommentID:null,groupID:e,postID:f,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"group_pending_queue",scale:a?a:d("WebPixelRatio").get(),useDefaultActor:!1}}}}},root:c("JSResourceForInteraction")("GroupsCometAdmodChatsPendingPostReviewDialog.react").__setRef("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint")};b=a;g["default"]=b}),98);
__d("GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7478272285588457"}),null);
__d("GroupsCometAdmodChatsReviewDialogQuery$Parameters",["GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdmodChatsReviewDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometAdmodChatsReviewDialog.entrypoint",["GroupsCometAdmodChatsReviewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID,e=a.profileID;a=a.scale;return{queries:{queryReference:{parameters:c("GroupsCometAdmodChatsReviewDialogQuery$Parameters"),variables:{groupID:b,profileID:e,scale:a?a:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupsCometAdmodChatsReviewDialog.react").__setRef("GroupsCometAdmodChatsReviewDialog.entrypoint")};b=a;g["default"]=b}),98);
__d("IGDDisappearingMessagesStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a="https://help.instagram.com/491565145294150/";b=h._("__JHASH__2OBcaB7QAZn__JHASH__");g.LEARN_MORE_LINK=a;g.DM_SECURITY_NOTICE=b}),226);
__d("InfoCircleFilled20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M10 2a8 8 0 1 0 8 8 8.009 8.009 0 0 0-8-8zm1 11.5a.75.75 0 0 1-1.5 0v-3h-.25a.75.75 0 0 1 0-1.5h1a.75.75 0 0 1 .75.75zM10 8a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSAddMessengerContact",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"add_messenger_contact",c.i64.cast([0,308]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSAddMessengerContactStoredProcedure",["LSAddMessengerContact","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.contactId;return c("LSAddMessengerContact").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSCTAIconType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,FB:1,FB_ALWAYS_WHITE:2,DOTS_THREE_HORIZONTAL:3,CHEVRON_DOWN:4,FB_INFO_SMALL:5,CAMERA:6,CIRCLED_X:7,PENCIL:8});f["default"]=a}),66);
__d("LSCommunityInviteStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({IN_COMMUNITY:0,INVITED:1,REQUEST_PENDING:2,UNENGAGED_MEMBER:4,UNREQUESTED:3});f["default"]=a}),66);
__d("LSContactReachabilityStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({REACHABLE:0,UNREACHABLE_USER_TYPE:1,UNREACHABLE_ADULT_TYPE:2,REACHABLE_INVITE_BANNER:3,UNREACHABLE_INVITE_BLOCK:4,UNREACHABLE_INTEROP_THIRD_PARTY_USER:5,UNREACHABLE_INTEROP_USER_OPT_OUT:6,UNREACHABLE_INTEROP_THIRD_PARTY_APP_NOT_SUPPORTED:7,UNREACHABLE_INTEROP_USER_REMOVED_THIRD_PARTY_APP:8,UNREACHABLE_NULL_INTEROP_USER:9,UNREACHABLE_MR_LIMIT_BLOCK:10,UNREACHABLE_RS_UPSELL_ELIGIBLE:11});f["default"]=a}),66);
__d("LSCustomUpdateMuteManagement",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=new c.Map(),d[1].set("game_id",a[1]),d[1].set("muted_user_id",a[0]),d[1].set("owner_id",d[0]),d[1].set("user_action_type",a[2]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"instant_game_custom_update_mute_management",c.i64.cast([0,759]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSCustomUpdateMuteManagementStoredProcedure",["LSCustomUpdateMuteManagement","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.mutedUserId;d[1]=b.gameId;d[2]=b.userActionType;return c("LSCustomUpdateMuteManagement").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSFetchMessageSeenCount",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_id",a[0]),d[0].set("message_id",a[1]),d[1]=d[0].get("thread_id"),d[0],d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),["cm_message_seen_count",c.i64.to_string(d[1])].join(""),c.i64.cast([0,540]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSFetchMessageSeenCountStoredProcedure",["LSFetchMessageSeenCount","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.messageId;return c("LSFetchMessageSeenCount").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSInsertNewMediaSend",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(51).add({offlineAttachmentId:a[0],offlineThreadingId:a[1],inMessageIndex:a[2],attachmentType:a[3],shouldTranscode:a[4],useDoublePhase:a[5],sendByServer:a[6],isSecure:a[7],state:a[4]?b.i64.cast([0,1]):b.i64.cast([0,3])})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSInsertNewMediaSendStoredProcedure",["LSInsertNewMediaSend","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.offlineAttachmentId;d[1]=b.offlineThreadingId;d[2]=b.inMessageIndex;d[3]=b.attachmentType;d[4]=b.shouldTranscode;d[5]=b.useDoublePhase;d[6]=b.sendByServer;d[7]=b.isSecure;return c("LSInsertNewMediaSend").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSLocalApplyOptimisticMessageWithAttachments",["LSArrayGetObjectAt","LSLocalApplyOptimisticMessage","LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],void 0,a[7],a[8],a[9],a[10],void 0,a[12],!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],c.i64.cast([0,0]))?c.loopAsync(d[2],function(e){return d[3]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[11],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return d[6]=d[4].get("attachment_fbid"),d[4],d[7]=d[4].get("offline_attachment_id"),d[4],d[8]=d[4].get("attachment_type"),d[4],d[9]=d[4].get("filename"),d[4],d[10]=d[4].get("filesize"),d[4],d[11]=d[4].get("attachment_index"),d[4],d[12]=d[4].get("has_media"),d[4],d[13]=d[4].get("has_xma"),d[4],d[14]=d[4].get("playable_url"),d[4],d[15]=d[4].get("playable_url_mime_type"),d[4],d[16]=d[4].get("playable_duration_ms"),d[4],d[17]=d[4].get("preview_url"),d[4],d[18]=d[4].get("preview_url_mime_type"),d[4],d[19]=d[4].get("mini_preview"),d[4],d[20]=d[4].get("preview_width"),d[4],d[21]=d[4].get("preview_height"),d[4],d[22]=d[4].get("xma_layout_type"),d[4],d[23]=d[4].get("xmas_template_type"),d[4],d[24]=d[4].get("cta1_title"),d[4],d[25]=d[4].get("cta2_title"),d[4],d[26]=d[4].get("cta3_title"),d[4],d[27]=d[4].get("image_url"),d[4],d[28]=d[4].get("action_url"),d[4],d[29]=d[4].get("title_text"),d[4],d[30]=d[4].get("subtitle_text"),d[4],d[31]=d[4].get("description_text"),d[4],d[32]=d[4].get("source_text"),d[4],d[33]=d[4].get("original_file_hash"),d[4],d[34]=d[4].get("sound_bite_client_sound_key"),d[4],d[35]=d[4].get("sound_bite_visual"),d[4],d[36]=d[4].get("ephemeral_media_state"),d[4],d[37]=d[4].get("waveform_data"),d[4],d[38]=d[4].get("sampling_frequency_hz"),d[4],c.filter(c.db.table(16).fetch([[[a[1],d[0],d[6]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===d[0]&&b.attachmentFbid===d[6]&&c.i64.gt(b.authorityLevel,c.i64.cast([0,20]))}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(16).put({threadKey:a[1],messageId:d[0],attachmentFbid:d[6],timestampMs:d[1],offlineAttachmentId:d[7],attachmentType:d[8],filename:d[9],filesize:d[10],attachmentIndex:d[11],hasMedia:d[12],hasXma:d[13],isSharable:!1,playableUrl:d[14],playableUrlMimeType:d[15],playableDurationMs:d[16],previewUrl:d[17],previewUrlMimeType:d[18],miniPreview:d[19],previewWidth:d[20],previewHeight:d[21],xmaLayoutType:d[22],xmasTemplateType:d[23],cta1Title:d[24],cta2Title:d[25],cta3Title:d[26],imageUrl:d[27],actionUrl:d[28],titleText:d[29],subtitleText:d[30],descriptionText:d[31],sourceText:d[32],ephemeralMediaState:d[36],originalFileHash:d[33],authorityLevel:c.i64.cast([0,20]),samplingFrequencyHz:d[38],waveformData:d[37]}):0})}])}):c.resolve()},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],c.i64.cast([0,0]))?c.storedProcedure(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[1],a[3],!1,c.i64.neq(a[6],void 0)):c.resolve()},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure",["LSLocalApplyOptimisticMessageWithAttachments","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.senderId;d[1]=b.threadKey;d[2]=b.threadType;d[3]=b.text;d[4]=b.snippet;d[5]=b.snippetHasEmoji;d[6]=b.stickerId;d[7]=b.replySourceId;d[8]=b.replySourceType;d[9]=b.replySourceTypeV2;d[10]=b.isForwarded;d[11]=b.attachments;d[12]=b.mentionData;return c("LSLocalApplyOptimisticMessageWithAttachments").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSSetClientCTAType",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(19).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({type_:a[1]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSMarkAsX",["LSIssueNewTask","LSSetClientCTAType"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.storedProcedure(b("LSSetClientCTAType"),a[0],"xma_disabled_cta")},function(e){return d[0]=new c.Map(),d[0].set("cta_id",a[0]),d[0].set("order_id",a[1]),d[0].set("cta_type",a[2]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"p2m_mark_as_x",c.i64.cast([0,808]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSMarkAsXStoredProcedure",["LSMarkAsX","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.ctaId;d[1]=b.orderId;d[2]=b.ctaType;return c("LSMarkAsX").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSMediaUrlAttachmentItem",["LSMediaUrlUtils","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.previewUrlFallback):a.previewUrl}function b(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.previewUrlFallback):a.previewUrlLarge}function e(a){var b=a.playableUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.playableUrlFallback):a.playableUrl}function f(a){var b=a.faviconUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.faviconUrlFallback):a.faviconUrl}g.previewUrl=a;g.previewUrlLarge=b;g.playableUrl=e;g.faviconUrl=f}),98);
__d("LSMessagePointQueryStoredProcedure",["LSMessagePointQuery","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.messageId;d[2]=b.threadType;d[3]=b.numContextMessages;return c("LSMessagePointQuery").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSOptimisticAcceptMessageRequest",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(e,f){f=e.done;e=e.value;return f?0:(e.item,c.sequence([function(b){return c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var d=b.update;b.item;return d({folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),igFolder:a[1]})})},function(b){return c.db.table(173).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?0:(b=a.item,d[4]=b.clientThreadPk,c.db.table(276).fetch([[[d[4]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?0:(a.item,c.forEach(c.db.table(276).fetch([[[d[4]]]]),function(a){var b=a.update;a.item;return b({folderType:c.i64.cast([0,0])})}))}))})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],void 0)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("sync_group",d[0]),d[2].set("ig_folder",a[1]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"message_request",c.i64.cast([0,66]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))}]))})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticAcceptMessageRequestStoredProcedure",["LSOptimisticAcceptMessageRequest","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.igFolder;return c("LSOptimisticAcceptMessageRequest").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSOptimisticProcessMarketplaceCallFunctionCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],void 0)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("action_type",a[4]),d[2].set("attachment_fbid",a[2]),d[2].set("message_id",a[0]),d[2].set("target_id",a[3]),d[2].set("thread_key",a[1]),d[2].set("sync_group",d[0]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),"process_marketplace_xma_cta",c.i64.cast([0,185]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure",["LSOptimisticProcessMarketplaceCallFunctionCTA","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.messageId;d[1]=b.threadKey;d[2]=b.attachmentFbid;d[3]=b.targetId;d[4]=b.actionType;return c("LSOptimisticProcessMarketplaceCallFunctionCTA").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSOptimisticSendXMAMessageForwardFromSecureThread",["LSArrayGetObjectAt","LSIssueNewTaskWithExtraOperationsAndGetTaskID","LSLocalApplyOptimisticMessage","LSSetMessageDisplayedContentTypes","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[3],void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,3]),a[4],void 0,void 0,!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[3]=c.i64.of_int32(a[6].length),c.i64.gt(d[3],c.i64.cast([0,0]))?c.loopAsync(d[3],function(e){return d[4]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[6],d[4]).then(function(a){return a=a,d[5]=a[0],d[6]=a[1],a})},function(e){return d[7]=d[5].get("attachment_fbid"),d[5],d[8]=d[5].get("offline_attachment_id"),d[5],d[9]=d[5].get("attachment_type"),d[5],d[10]=d[5].get("filename"),d[5],d[11]=d[5].get("filesize"),d[5],d[12]=d[5].get("attachment_index"),d[5],d[13]=d[5].get("has_media"),d[5],d[14]=d[5].get("has_xma"),d[5],d[15]=d[5].get("playable_url"),d[5],d[16]=d[5].get("playable_url_mime_type"),d[5],d[17]=d[5].get("playable_duration_ms"),d[5],d[18]=d[5].get("preview_url"),d[5],d[19]=d[5].get("preview_url_mime_type"),d[5],d[20]=d[5].get("mini_preview"),d[5],d[21]=d[5].get("preview_width"),d[5],d[22]=d[5].get("preview_height"),d[5],d[23]=d[5].get("xma_layout_type"),d[5],d[24]=d[5].get("xmas_template_type"),d[5],d[25]=d[5].get("cta1_title"),d[5],d[26]=d[5].get("cta2_title"),d[5],d[27]=d[5].get("cta3_title"),d[5],d[28]=d[5].get("image_url"),d[5],d[29]=d[5].get("action_url"),d[5],d[30]=d[5].get("title_text"),d[5],d[31]=d[5].get("subtitle_text"),d[5],d[32]=d[5].get("description_text"),d[5],d[33]=d[5].get("source_text"),d[5],d[34]=d[5].get("original_file_hash"),d[5],d[35]=d[5].get("sound_bite_client_sound_key"),d[5],d[36]=d[5].get("sound_bite_visual"),d[5],d[37]=d[5].get("ephemeral_media_state"),d[5],c.sequence([function(b){return c.forEach(c.filter(c.db.table(16).fetch([[[a[1],d[0],d[7]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===d[0]&&b.attachmentFbid===d[7]&&c.i64.lt(b.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(16).add({threadKey:a[1],messageId:d[0],attachmentFbid:d[7],timestampMs:d[1],offlineAttachmentId:d[8],attachmentType:d[9],filename:d[10],filesize:d[11],attachmentIndex:d[12],hasMedia:d[13],hasXma:d[14],isSharable:!1,playableUrl:d[15],playableUrlMimeType:d[16],playableDurationMs:d[17],previewUrl:d[18],previewUrlMimeType:d[19],miniPreview:d[20],previewWidth:d[21],previewHeight:d[22],xmaLayoutType:d[23],xmasTemplateType:d[24],cta1Title:d[25],cta2Title:d[26],cta3Title:d[27],imageUrl:d[28],actionUrl:d[29],titleText:d[30],subtitleText:d[31],descriptionText:d[32],sourceText:d[33],ephemeralMediaState:d[37],originalFileHash:d[34],authorityLevel:c.i64.cast([0,20])})},function(e){return c.storedProcedure(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[1],a[3],!1,!1)},function(e){return c.storedProcedure(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[7],d[15],void 0,void 0,d[16],d[18],void 0,void 0,d[19],d[21],d[22])}])}])}):c.resolve()},function(e){return c.storedProcedure(b("LSIssueNewTaskWithExtraOperationsAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[2]=a[0],a})},function(b){return c.db.table(31).add({taskId:d[2],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[5],sendType:c.i64.cast([0,11]),markThreadRead:!1})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticSendXMAMessageForwardFromSecureThreadStoredProcedure",["LSOptimisticSendXMAMessageForwardFromSecureThread","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.senderId;d[1]=b.threadKey;d[2]=b.threadType;d[3]=b.text;d[4]=b.isForwarded;d[5]=b.source;d[6]=b.attachments;return c("LSOptimisticSendXMAMessageForwardFromSecureThread").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSUpdateBotSubscription",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("user_action_type",a[1]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"game_messenger_updates_management_xmat",c.i64.cast([0,755]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpdateBotSubscriptionStoredProcedure",["LSUpdateBotSubscription","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.userActionType;return c("LSUpdateBotSubscription").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSVerifiedType",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_VERIFIED:0,DEFAULT:1,VERIFIED_FOOTER:2});f["default"]=a}),66);
__d("MAWEphemeralMessageTimer.react",["fbt","CometScreenReaderText.react","I64","MAWEphemeralConsts","MWXText.react","WATimeUtils","react","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useState;function n(a){if(a<d("MAWEphemeralConsts").oneMinuteInSeconds)return h._("__JHASH__A4ingmAx2be__JHASH__",[h._param("seconds",String(a).concat("s"))]);if(a<d("MAWEphemeralConsts").oneHourInSeconds)return h._("__JHASH__vWI2ZlgwXQb__JHASH__",[h._param("minutes",String(Math.floor(a/d("MAWEphemeralConsts").oneMinuteInSeconds)).concat("m"))]);return a<d("MAWEphemeralConsts").oneDayInSeconds?h._("__JHASH__25PcZ3MKsFM__JHASH__",[h._param("hours",String(Math.floor(a/d("MAWEphemeralConsts").oneHourInSeconds)).concat("h"))]):h._("__JHASH__eRreAbYsreU__JHASH__",[h._param("days",String(Math.floor(a/d("MAWEphemeralConsts").oneDayInSeconds)).concat("d"))])}function o(a,b){a=(j||(j=d("I64"))).to_int32(j.sub(a,j.of_float(d("WATimeUtils").unixTime())));return b!=null&&a>(j||(j=d("I64"))).to_int32(b)?(j||(j=d("I64"))).to_int32(b):a}function a(a){var b=a.ephemeralDurationInSec,e=a.expirationTimestamp,f=a.handleMessageExpired;a=m(function(){return o(e,b)});var g=a[0],i=a[1];a=n(g);var j=h._("__JHASH__LNXEmV_oB6W__JHASH__",[h._param("time",a)]);l(function(){g>0&&c("setTimeout")(function(){return i(g-1)},d("MAWEphemeralConsts").msPerSec),g===0&&(f==null?void 0:f())},[g,e,f]);return g>0?k.jsxs("div",{className:"x2b8uid xbkr7qi",children:[k.jsx(c("CometScreenReaderText.react"),{text:j}),k.jsx("div",{"aria-hidden":!0,children:k.jsx(c("MWXText.react"),{testid:void 0,type:"meta1",children:a})})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MAWFetchXMABlob",["FBLogger","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,d){return a==null||a===""?(h||(h=b("Promise"))).resolve():window.fetch(a).then(function(a){return a.blob()})["catch"](function(){c("FBLogger")("messenger_web_sharing").mustfix("Error fetching url in xma share from %s",d);return(h||(h=b("Promise"))).resolve()})}g.fetchBlob=a}),98);
__d("MAWFetchXMAData_LinkPreviewQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7846909995359316"}),null);
__d("MAWFetchXMAData_LinkPreviewQuery.graphql",["MAWFetchXMAData_LinkPreviewQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"url"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"url",variableName:"url"}],kind:"ObjectValue",name:"params"}],kind:"ScalarField",name:"post_reshare_xma",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MAWFetchXMAData_LinkPreviewQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MAWFetchXMAData_LinkPreviewQuery",selections:c},params:{id:b("MAWFetchXMAData_LinkPreviewQuery_facebookRelayOperation"),metadata:{},name:"MAWFetchXMAData_LinkPreviewQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MAWUnshimUrl",["CometLinkShimUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return void 0;var b=d("CometLinkShimUtils").getLinkShimInfo(a,void 0,void 0,void 0,void 0,!0);return!b.shimmed?a:b.unshimmedHref}g.unshimUrl=a}),98);
__d("MAWFetchXMAData",["fbt","CometRelay","ConstUriUtils","FBLogger","LSXmaContentType","MAWFetchXMABlob","MAWFetchXMAData_LinkPreviewQuery.graphql","MAWGetImageSpec","MAWParseXMAFBConfig","MAWUnshimUrl","MWQPLMarkers","Promise","WAArmadilloXMA.pb","asyncToGeneratorRuntime","qex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function k(a){var b=new Blob([],{type:"image/jpeg"});return{defaultCTA:{actionUrl:d("MAWUnshimUrl").unshimUrl(a),buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:d("MAWUnshimUrl").unshimUrl(a),title:h._("__JHASH__Xv8OyXI6-mU__JHASH__").toString()},linkType:"internal",overlayIconGlyph:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE,preview_blob:b,title_text:h._("__JHASH__2usVu04y012__JHASH__").toString()}}function l(a){var b=Object.entries(c("LSXmaContentType")).find(function(b){var c=b[0];b=b[1];return a===b&&d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE[c]!=null});b=b!=null?d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE[b[0]]:void 0;if(b===void 0)return void 0;if(!d("MAWParseXMAFBConfig").FB_SUPPORTED_TARGET_TYPES.has(b)){c("FBLogger")("messenger_web_sharing").mustfix("Unsupported XMA Target Type in sending path: "+b);return d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE}return b}function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){var h;try{h=JSON.parse(e)}catch(a){g(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAILED_TO_PARSE_JSON_FOR_XMA_SHARE,{});throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Failed to fetch blob xma data for MAWShareAttachent")}e=h;g=e.action_url;var i=e.ctas,k=e.default_cta_title,m=e.favicon_url,n=e.header_image_url,o=e.header_title,p=e.image_url,q=e.preview_url,r=e.subtitle_text,s=e.title_text;e=e.xma_content_type;m=(yield (j||(j=b("Promise"))).all([m,p,q,n].map(function(a){return d("MAWFetchXMABlob").fetchBlob(a,"MAWFetchXMAData")}))["catch"](function(a){f(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAILED_TO_FETCH_BLOB_FOR_XMA_SHARE);c("FBLogger")("messenger_web_sharing").mustfix("Failed to fetch blob xma data for MAWShareAttachent");return[void 0,void 0,void 0]}));p=m[0];q=m[1];n=m[2];m=m[3];i=i;e=e;e=l(e);var t=i==null?void 0:i[0];g=d("MAWUnshimUrl").unshimUrl((g=(g=g)!=null?g:t==null?void 0:t.action_url)!=null?g:a);a=d("MAWUnshimUrl").unshimUrl((t==null?void 0:t.native_url)!=null&&(t==null?void 0:t.native_url)!==""?t==null?void 0:t.native_url:g);g={actionUrl:g,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:a,title:(t=k)!=null?t:void 0};f(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.RETURN_PUBLIC_XMA_DATA);a=c("qex")._("1494")===!0;return{ctas:i==null?void 0:i.map(function(a){return{actionUrl:d("MAWUnshimUrl").unshimUrl(a.action_url!=null&&a.action_url!==""?a.action_url:void 0),buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:d("MAWUnshimUrl").unshimUrl(a.native_url!=null&&a.native_url!==""?a.native_url:void 0),title:(a=a.title)!=null?a:void 0}}),defaultCTA:g,favicon_blob:(k=p)!=null?k:void 0,header_image_blob:a?(t=m)!=null?t:void 0:void 0,header_title:a?(i=o)!=null?i:void 0:void 0,image_blob:(g=q)!=null?g:void 0,linkType:"internal",preview_blob:(p=n)!=null?p:void 0,subtitle_text:(k=r)!=null?k:void 0,title_text:(m=s)!=null?m:void 0,xma_message_type:e}});return n.apply(this,arguments)}function o(a,c){return d("CometRelay").fetchQuery(a,i!==void 0?i:i=b("MAWFetchXMAData_LinkPreviewQuery.graphql"),{url:c}).toPromise()}function a(a,b,c,d){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){e(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.XMA_DATA_FETCH_BEGIN);b=d("ConstUriUtils").getUri(b);b=b==null?void 0:(b=b.setSubDomain("www"))==null?void 0:b.toString();if(b==null)return{linkType:"unknown"};e(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.XMA_DATA_QUERY_BEGIN);a=(yield o(a,b)["catch"](function(a){f(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAILED_TO_FETCH_QUERY_DATA_FOR_XMA_SHARE,{}),c("FBLogger")("messenger_web_sharing").mustfix("Failed execute MAWShareAttachment_LinkPreviewQuery for MAWShareAttachent")}));e(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.XMA_DATA_QUERY_COMPLETE);if(a==null){e(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.MISSING_XMA_DATA);return{linkType:"unknown"}}a=a.post_reshare_xma;if(a==null){e(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.MISSING_XMA_DATA);return{linkType:"external"}}if(a==="private"){e(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.RETURN_PRIVATE_XMA_DATA);return k(b)}return m(b,a,e,f)});return p.apply(this,arguments)}function e(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=a.favicon_blob,f=a.header_image_blob,g=a.overlayIconGlyph;a=a.preview_blob;a=a==null?void 0:new File([a],"preview",{type:a.type});e=e==null?void 0:new File([e],"favicon",{type:e.type});f=f==null?void 0:new File([f],"header",{type:f.type});g=g===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE?(j||(j=b("Promise"))).resolve({height:2,width:2}):a!=null?d("MAWGetImageSpec").getImageSpec_DEPRECATED(a):(j||(j=b("Promise"))).resolve();var h=e!=null?d("MAWGetImageSpec").getImageSpec_DEPRECATED(e):(j||(j=b("Promise"))).resolve(),i=f!=null?d("MAWGetImageSpec").getImageSpec_DEPRECATED(f):(j||(j=b("Promise"))).resolve();g=(yield (j||(j=b("Promise"))).all([g,h,i]));h=g[0];i=g[1];g=g[2];c(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.PREVIEW_FAVICON_SPEC_READY);c=a==null||h==null?void 0:{file:a,height:h.height,width:h.width};a=e==null||i==null?void 0:{file:e,height:i.height,width:i.width};h=f==null||g==null?void 0:{file:f,height:g.height,width:g.width};return{faviconFileArgs:a,headerImageFileArgs:h,previewFileArgs:c}});return q.apply(this,arguments)}g.fetchXMAData=a;g.makeXMAFileArgs=e}),226);
__d("MAWForwardMessage",["MAWBridgeSendAndReceive","MAWCreateOneToOneThread","MAWGetEphemeralSettings","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWThreadId","MAWTimedJob","WAJobOrchestratorTypes","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(yield d("MAWThreadId").isSecureThreadId(a.tables,b)),f=!1;e||(yield d("MAWCreateOneToOneThread").call(a,b,void 0,"maybeCreateNewThreadAndCallback"),f=!0);return d("MAWMiActOnActThreadReady").onActThreadReady(a.tables,b,"MAWForwardMessage",function(a,b,d){return c(b,d,f)})});return i.apply(this,arguments)}function a(a,b,e,f,g){c("promiseDone")(h(a,b,function(a,c,h){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:e}).then(function(a){if(a!=null)return d("MAWGetEphemeralSettings").getEphemeralSetting(c,b).then(function(b){return d("MAWTimedJob").TimedUIJobStarters.waitUntilPersisted(d("MAWJobDefinitions").jobSerializers.forwardMsg(c,a,(b=b)!=null?b:void 0,void 0,h,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},{s2sInstanceKey:g,source:f}))})})}))}g.maybeCreateNewThreadAndCallback=h;g.forwardMessage=a}),98);
__d("MAWForwardMessageFromSecureThread.react",["I64","LSFactory","LSHotEmojiSize","LSInsertNewMediaSendStoredProcedure","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMailboxType","LSMarkSubJobCompletedV2StoredProcedure","LSOptimisticSendMessageV2StoredProcedure","LSOptimisticSendXMAMessageForwardFromSecureThreadStoredProcedure","LSShape","LSVec","MAWBridgeSendAndReceive","MAWDbMedia","MAWDbXMA","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","MessagePowerUp","MessagingAttachmentType","OfflineThreadingId","Promise","ReQL","WAHashUtils","asyncToGeneratorRuntime","cr:2472","gkx","promiseDone","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,c){return{action_url:void 0,attachment_fbid:b,attachment_index:(j||(j=d("I64"))).zero,attachment_type:a.attachmentType,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:a.filename,filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:b,original_file_hash:void 0,playable_duration_ms:a.playableDurationMs,playable_url:URL.createObjectURL(c),playable_url_mime_type:c.type,preview_height:void 0,preview_url:void 0,preview_url_mime_type:void 0,preview_width:void 0,source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0}}function l(a,b,c,e){var f;return{action_url:(f=b==null?void 0:b.actionUrl)!=null?f:b==null?void 0:b.nativeUrl,attachment_fbid:c,attachment_index:(j||(j=d("I64"))).zero,attachment_type:a.attachmentType,cta1_title:a.cta1Title,cta2_title:a.cta2Title,cta3_title:a.cta3Title,description_text:a.descriptionText,filename:a.filename,filesize:a.filesize,has_media:!1,has_xma:!0,image_url:void 0,mini_preview:void 0,offline_attachment_id:c,original_file_hash:void 0,playable_duration_ms:void 0,playable_url:e!=null?URL.createObjectURL(e):void 0,playable_url_mime_type:e==null?void 0:e.type,preview_height:void 0,preview_url:e!=null?URL.createObjectURL(e):void 0,preview_url_mime_type:e==null?void 0:e.type,preview_width:void 0,source_text:a.sourceText,subtitle_text:a.subtitleText,title_text:a.titleText,xma_layout_type:a.xmaLayoutType,xmas_template_type:a.xmasTemplateType}}function m(a,e,f,g,i,j,k,l){l=c("LSFactory")(l);return c("LSOptimisticSendXMAMessageForwardFromSecureThreadStoredProcedure")(l,{attachments:c("LSVec").ofArray([d("LSShape").ofRecord(j)]),isForwarded:i,senderId:a,source:k,text:(l=g)!=null?l:void 0,threadKey:e,threadType:f}).then(function(){return(h||(h=b("Promise"))).resolve()})}function n(a,b){return a==null||b==null?void 0:{amplitudes:b.split(",").map(parseFloat),sampling_freq:a}}function o(a,e,g,k,l,m,o,p,q){var r=c("LSFactory")(p);return c("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure")(r,{attachments:c("LSVec").ofArray([d("LSShape").ofRecord(e)]),isForwarded:m,senderId:o,threadKey:l,threadType:k}).then(function(a){var c=a[0];a[1];return p.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:void 0,markThreadRead:!1,messageId:void 0,offlineThreadingId:c,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(j||(j=d("I64"))).of_string(c),threadAttributionSource:q,threadKey:l}).then(function(){return(h||(h=b("Promise"))).resolve(c)})}).then(function(a){var f=e.attachment_fbid;return c("LSInsertNewMediaSendStoredProcedure")(r,{attachmentType:e.attachment_type,inMessageIndex:(j||(j=d("I64"))).zero,isSecure:!1,offlineAttachmentId:f,offlineThreadingId:a,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1}).then(function(){return(h||(h=b("Promise"))).resolve([a,f])})}).then(function(b){var h=b[0],k=b[1];b=function(b,e){if(e==null)return;c("promiseDone")(a.runInTransaction(function(a){var b=c("LSFactory")(a);return c("LSMarkSubJobCompletedV2StoredProcedure")(b,{fbid:(j||(j=d("I64"))).of_string(e),offlineAttachmentId:k}).then(function(){return d("MWPOpenComposerUtils").resumeSendJob(b,h)})},"readwrite",void 0,void 0,f.id+":222"))};return d("MWPComposerMediaUploadUtil").startUpload(void 0,void 0,b,void 0,(j||(j=d("I64"))).equal(e.attachment_type,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)),[g],[k],void 0,void 0,n(e.sampling_frequency_hz,e.waveform_data),void 0,void 0)})}function a(a,b,c,d,e,f,g,h){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g,p,q,r,s,t){if(r!=null){var u=r.attachmentType;if(!((j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO))||(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))||(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))||(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE))||(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))))throw c("unrecoverableViolation")("We do not support forwarding this type","messenger_web_sharing");var v=null;if(!(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))){!c("gkx")("2419")||isFinite(r.attachmentFbid)?v=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByMediaId",{description:"MAWForwardMessageFromSecureThread",mediaId:d("MAWDbMedia").convertNumberToMediaId(Number.parseInt(r.attachmentFbid,10))})):v=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByHashedPlaintextHash",{description:"MAWForwardMessageFromSecureThread",plaintextHash:d("WAHashUtils").stringToPlaintextHash(r.attachmentFbid)}));if(v==null)return}yield a.runInTransaction(function(f){switch(!0){case(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)):if(v==null)throw c("unrecoverableViolation")("Blob can not be null for MessagingAttachmentType.AUDIO","messenger_web_sharing");var w=new File([v],"mediaForwardedFromSecureThread",{type:v.type}),x=d("OfflineThreadingId").createOfflineThreadingID();x=d("MWPComposerMediaUploadUtil").getAudioAttachment(x,w,(j||(j=d("I64"))).to_int32((x=r.playableDurationMs)!=null?x:(j||(j=d("I64"))).zero)/1e3,n(r.samplingFrequencyHz!=null?(j||(j=d("I64"))).to_int32(r.samplingFrequencyHz):void 0,r.waveformData));return o(a,x,w,g,e,q,s,f,t);case(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)):return d("ReQL").firstAsync(d("ReQL").fromTableDescending(f.attachment_ctas).getKeyRange((x=r.defaultCtaId)!=null?x:(j||(j=d("I64"))).zero)).then(function(a){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByXMAId",{description:"MAWForwardMessageFromSecureThread",infoType:"preview",xmaId:d("MAWDbXMA").convertNumberToXMAId(Number.parseInt(r.attachmentFbid,10))}).then(function(c){return(h||(h=b("Promise"))).resolve([a,c])})["catch"](function(d){c("recoverableViolation")("Unable to getBlobDataUrlByXMAId, from MAWForwardMessageFromSecureThread","messenger_e2ee_web",{error:d},{trackOnly:!0});return(h||(h=b("Promise"))).resolve([a,void 0])})}).then(function(a){var c=a[0];a=a[1];var h=null;a!=null&&(h=new File([a],"xmaForwardedFromSecureThread",{type:a.type}));a=d("OfflineThreadingId").createOfflineThreadingID();c=l(r,c,a,h);a=p.text;h=b("cr:2472")==null||a==null?a:b("cr:2472").unvault(a);return m(s,e,g,h,q,c,t,f)});case(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)):case(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)):case(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)):case(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)):if(v==null)throw c("unrecoverableViolation")("Blob can not be null for MessagingAttachmentType.AUDIO","messenger_web_sharing");x=new File([v],(w=r.filename)!=null?w:"mediaForwardedFromSecureThread",{type:v.type});w=d("OfflineThreadingId").createOfflineThreadingID();w=k(r,w,x);return o(a,w,x,g,e,q,s,f,t);default:throw c("unrecoverableViolation")("We do not support forwarding this type","messenger_web_sharing")}},"readwrite",void 0,void 0,f.id+":332")}else{var w=p.text;if(w==null)throw c("unrecoverableViolation")("We do not support forwarding this type","messenger_web_sharing");var x=b("cr:2472")==null?w:b("cr:2472").unvault(w),y=x==="\ud83d\udc4d"&&p.hotEmojiSize!=null&&(j||(j=d("I64"))).equal(p.hotEmojiSize,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL)),z=y?(j||(j=d("I64"))).of_string("369239263222822"):void 0;yield a.runInTransaction(function(a){return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(a),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!1,is_forwarded:q,mark_read:!1,power_up_style:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),source:t,sticker_id:z}),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),senderId:s,text:y?void 0:x,threadKey:e,threadType:g})},"readwrite",void 0,void 0,f.id+":511")}});return p.apply(this,arguments)}g.getMediaAttachment=k;g.uploadAndSendMediaToOpenThread=o;g.forwardMessage=a}),98);
__d("MAWShareAttachmentQPLFunctions",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=function(b){c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),b,{instanceKey:a})},d=function(b,d){d===void 0&&(d={}),c("QPLUserFlow").endFailure(c("qpl")._(25313175,"1551"),b,{annotations:d,instanceKey:a})};return{addQplPoint:b,failS2S:d}}g.getQPLFunctions=a}),98);
__d("MAWFowardMessageFromOpenThread",["I64","LSIntEnum","MAWDocumentPreProcess","MAWExternalId","MAWFetchXMABlob","MAWFetchXMAData","MAWForwardMessage","MAWGetEphemeralSettings","MAWGetImageSpec","MAWImagePreProcess","MAWJobDefinitions","MAWShareAttachmentQPLFunctions","MAWUIJob","MAWUnshimUrl","MAWVideoUtils","MessagingAttachmentType","Promise","ReQL","WAArmadilloXMA.pb","WAJobOrchestratorTypes","asyncToGeneratorRuntime","promiseDone","qpl","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,c){return(j||(j=b("Promise"))).all([d("MAWGetImageSpec").getImageSpec_DEPRECATED(a),j.resolve(a),c.arrayBuffer(),d("MAWGetImageSpec").getImageSpec_DEPRECATED(c)]).then(function(a){var c=a[0],d=a[1],e=a[2];a=a[3];return(j||(j=b("Promise"))).resolve({file:d,imageSpec:c,thumbnailUrlAndSpec:{duration:void 0,height:a.height,jpegThumbnail:e,width:a.width},type:"image"})})}function l(a){return d("MAWVideoUtils").getVideoThumbnailUrlAndSpec(a).then(function(c){return(j||(j=b("Promise"))).resolve({file:a,thumbnailUrlAndSpec:c,type:"video"})})}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("MAWFetchXMABlob").fetchBlob(a,"MAWFowardMessageFromOpenThread"));b=a==null?void 0:new File([a],b,{type:a.type});a=b!=null?yield d("MAWGetImageSpec").getImageSpec_DEPRECATED(b):null;return b!=null&&a!=null?{file:b,height:a.height,width:a.width}:void 0});return n.apply(this,arguments)}function o(a,b,c){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.tables.attachment_ctas).getKeyRange(a)));return c==null||b==null&&c.actionUrl==null?null:{actionUrl:(a=c==null?void 0:c.actionUrl)!=null?a:void 0,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:(a=c==null?void 0:c.actionUrl)!=null?a:void 0,title:(c=b)!=null?c:void 0}});return p.apply(this,arguments)}function q(a,b,c,d){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){f=d("MAWShareAttachmentQPLFunctions").getQPLFunctions(f);var g=f.addQplPoint;f=f.failS2S;var h=(yield s(b,e));if((h==null?void 0:h.actionUrl)==null)throw c("unrecoverableViolation")("Cannot forward XMA to secure threads without a defaultCTA and actionUrl","messenger_web_sharing");a=(yield d("MAWFetchXMAData").fetchXMAData(a,h.actionUrl,g,f));if(a.linkType==="unknown")throw c("unrecoverableViolation")("Cannot forward XMA to secure threads with an unknown link type","messenger_web_sharing");if(a.linkType==="external")return w(b,h,e,a);else return u(a,g)});return r.apply(this,arguments)}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a.actionUrl,e=a.defaultCtaId;a=a.defaultCtaTitle;if(e==null)return null;e=(yield o(e,a,b));return(b=e)!=null?b:{actionUrl:(e=c)!=null?e:void 0,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:(b=c)!=null?b:void 0,title:(e=a)!=null?e:void 0}});return t.apply(this,arguments)}function u(a,b){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=(yield d("MAWFetchXMAData").makeXMAFileArgs(a,b));var c=a.ctas,e=a.defaultCTA,f=a.overlayIconGlyph,g=a.subtitle_text,h=a.title_text;a=a.xma_message_type;c={ctas:c,defaultCTA:e,overlayIconGlyph:f,subtitleText:g,titleText:h};return babelHelpers["extends"]({},b,{xmaArgs:c,xmaMessageType:(e=a)!=null?e:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE})});return v.apply(this,arguments)}function w(a,b,c,d){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){var g=a.attachmentCta1Id,i=a.attachmentCta2Id,k=a.attachmentCta3Id,l=a.cta1Title,n=a.cta2Title,p=a.cta3Title,q=a.faviconUrl,r=a.headerImageUrl,s=a.headerTitle,t=a.maxSubtitleNumOfLines,u=a.maxTitleNumOfLines,v=a.previewUrl,w=a.subtitleText;a=a.titleText;q=(yield (j||(j=b("Promise"))).all([[q,"favicon"],[r,"headerImage"],[v,"preview"]].map(function(a){return m(a[0],a[1])})));r=q[0];v=q[1];q=q[2];var x=[];if(g!=null){g=(yield o(g,l,e));g!=null&&x.push(g)}if(i!=null){l=(yield o(i,n,e));l!=null&&x.push(l)}if(k!=null){g=(yield o(k,p,e));g!=null&&x.push(g)}l={ctas:x.map(function(a){return babelHelpers["extends"]({},a,{actionUrl:d("MAWUnshimUrl").unshimUrl(a.actionUrl),nativeUrl:d("MAWUnshimUrl").unshimUrl(a.nativeUrl)})}),defaultCTA:babelHelpers["extends"]({},c,{actionUrl:d("MAWUnshimUrl").unshimUrl(c.actionUrl),nativeUrl:d("MAWUnshimUrl").unshimUrl(c.nativeUrl)}),headerTitle:s,maxSubtitleNumOfLines:(h||(h=d("I64"))).to_int32((i=t)!=null?i:(h||(h=d("I64"))).zero),maxTitleNumOfLines:h.to_int32((n=u)!=null?n:(h||(h=d("I64"))).zero),overlayIconGlyph:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.NONE,subtitleText:w,titleText:a};return{faviconFileArgs:r,headerFileArgs:v,previewFileArgs:q,xmaArgs:l,xmaMessageType:f.xma_message_type}});return x.apply(this,arguments)}function y(a){var e=a.attachmentType,f=a.filename,g=a.playableDurationMs,m=a.playableUrl,n=a.playableUrlMimeType,o=a.previewUrl,p=a.previewUrlMimeType;if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))||(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))||(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE))){if(m==null)throw c("unrecoverableViolation")("If you see this error, there is no playableUrl for this attachment","messenger_web_sharing");var q=(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE));if(o!=null){a=q?o+"&":m;var r=q?o+"&":o;return(j||(j=b("Promise"))).all([window.fetch(a).then(function(a){return a.blob()}),window.fetch(r).then(function(a){return a.blob()})]).then(function(a){var b=a[0];a=a[1];b=new File([b],"mediaForwardedFromOpenThread",{type:q?p:n});a=new File([a],"previewForwardedFromOpenThread",{type:p});if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return k(b,a);if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return l(b);if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return k(b,a);throw c("unrecoverableViolation")("shouldn't have this error in forward message from open thread","messenger_web_sharing")})}a=q?m+"&":m;return window.fetch(a).then(function(a){return a.blob()}).then(function(a){if(q&&n==="video/mp4")throw c("unrecoverableViolation")("If you see this error, there is only mp4 url for gif","messenger_web_sharing");a=new File([a],(a=f)!=null?a:"mediaForwardedFromOpenThread",{type:n});if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return d("MAWImagePreProcess").imagePreprocess(a,!1);if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return l(a);if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)))return d("MAWDocumentPreProcess").documentPreprocess(a);if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return(j||(j=b("Promise"))).all([d("MAWImagePreProcess").getJpegThumbnailInfo(a,400),d("MAWGetImageSpec").getImageSpec_DEPRECATED(a),j.resolve(a)]).then(function(a){var c=a[0],d=a[1];a=a[2];return(j||(j=b("Promise"))).resolve({file:a,imageSpec:d,thumbnailUrlAndSpec:c,type:"image"})});throw c("unrecoverableViolation")("shouldn't have this error in forward message from open thread","messenger_web_sharing")})}if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO))){if(m!=null)return window.fetch(m+"&").then(function(a){return a.blob()}).then(function(a){var c;a=new File([a],"mediaForwardedFromOpenThread",{type:n});return(j||(j=b("Promise"))).resolve({durations:(h||(h=d("I64"))).to_int32((c=g)!=null?c:(h||(h=d("I64"))).zero)/1e3,file:a,isPtt:!0,type:"audio"})});throw c("unrecoverableViolation")("If you see this error, there is no playableUrl for this audio attachment","messenger_web_sharing")}if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER))){if(m==null&&o==null)throw c("unrecoverableViolation")("If you see this error, there is no url for this sticker","messenger_web_sharing");return m!=null?o!=null?(j||(j=b("Promise"))).all([window.fetch(m).then(function(a){return a.blob()}),window.fetch(o).then(function(a){return a.blob()})]).then(function(a){var b=a[0];a=a[1];b=new File([b],"mediaForwardedFromOpenThread",{type:n});a=new File([a],"previewForwardedFromOpenThread",{type:p});return k(b,a)}):window.fetch(m).then(function(a){return a.blob()}).then(function(a){a=new File([a],"mediaForwardedFromOpenThread",{type:n});return k(a,a)}):window.fetch(o).then(function(a){return a.blob()}).then(function(a){return d("MAWImagePreProcess").imagePreprocess(new File([a],"previewForwardedFromOpenThread",{type:p}),!0)})}throw c("unrecoverableViolation")("We do not support forwarding other media types","messenger_web_sharing")}function a(a,e,f,g,k,l,m,n){c("promiseDone")(d("MAWForwardMessage").maybeCreateNewThreadAndCallback(e,f,function(o,p,r){o=d("MAWGetEphemeralSettings").getEphemeralSetting(p,f);var s=r;return o.then(function(f){if(l!=null){if(l.attachmentFbid==="369239263222822"||l.attachmentFbid==="369239343222814"||l.attachmentFbid==="369239383222810"){var o;return d("MAWUIJob").UIJobStarters.waitUntilPersisted(d("MAWJobDefinitions").createStartJobInfo("sendMsg",{args:{content:"\ud83d\udc4d",ephemeralSetting:(o=f)!=null?o:void 0,isFirstMsg:s,isForwarded:k,s2sInstanceKey:n,source:m,specialTextSize:1},chatJid:p,externalId:d("MAWExternalId").generateExternalId(),scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}))}return(h||(h=d("I64"))).equal(l.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))?q(a,l,e,n).then(function(a){var b,e=a.faviconFileArgs,g=a.headerFileArgs,h=a.previewFileArgs,i=a.xmaArgs;a=a.xmaMessageType;return d("MAWUIJob").UIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("sendXMAShareMsg",{args:{ephemeralSetting:(b=f)!=null?b:void 0,isFirstMsg:s,isForwarded:!0,s2sInstanceKey:n,s2sUserFlowQPLEvent:c("qpl")._(25313175,"1551"),xmaMessageType:(b=a)!=null?b:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE},chatJid:p,faviconFile:e,headerFile:g,previewFile:h,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},xmaArgs:i,xmaMsgExternalId:d("MAWExternalId").generateExternalId()}))}):y(l).then(function(a){switch(a.type){case"image":var c,e=a.imageSpec,g=a.thumbnailUrlAndSpec;d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").createStartJobInfo("sendMediaMsg",{args:{ephemeralSetting:(c=f)!=null?c:void 0,height:e.height,isFirstMsg:s,isForwarded:k,jpegThumbnail:g.jpegThumbnail,jpegThumbnailHeight:g.height,jpegThumbnailWidth:g.width,s2sInstanceKey:n,source:m,width:e.width},chatJid:p,externalId:d("MAWExternalId").generateExternalId(),file:a.file,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}));break;case"video":c=a.thumbnailUrlAndSpec;d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").createStartJobInfo("sendMediaMsg",{args:{duration:c.duration,ephemeralSetting:(g=f)!=null?g:void 0,height:c.height,isFirstMsg:s,isForwarded:k,jpegThumbnail:c.jpegThumbnail,jpegThumbnailHeight:c.height,jpegThumbnailWidth:c.width,s2sInstanceKey:n,source:m,width:c.width},chatJid:p,externalId:d("MAWExternalId").generateExternalId(),file:a.file,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}));break;case"audio":e=a.durations;g=a.isPtt;d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").createStartJobInfo("sendMediaMsg",{args:{duration:Math.round(e),ephemeralSetting:(c=f)!=null?c:void 0,isFirstMsg:s,isForwarded:k,isPtt:g,s2sInstanceKey:n,source:m},chatJid:p,externalId:d("MAWExternalId").generateExternalId(),file:a.file,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}));break;case"document":d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").createStartJobInfo("sendMediaMsg",{args:{ephemeralSetting:(e=f)!=null?e:void 0,filename:a.filename,isFirstMsg:s,isForwarded:k,s2sInstanceKey:n,source:m},chatJid:p,externalId:d("MAWExternalId").generateExternalId(),file:a.file,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}));break}return(j||(j=b("Promise"))).resolve()})}o=g.text;if(o!=null){return d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").createStartJobInfo("sendMsg",{args:{content:g.text,ephemeralSetting:(o=f)!=null?o:void 0,isFirstMsg:s,isForwarded:k,s2sInstanceKey:n,source:m},chatJid:p,externalId:d("MAWExternalId").generateExternalId(),scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}))}throw c("unrecoverableViolation")("We do not support forwarding this types","messenger_web_sharing")})}))}g.downloadMediaByUrl=y;g.forwardMessage=a}),98);
__d("MDSAccountSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:i.jsx("path",{clipRule:"evenodd",d:"M18 29c6.075 0 11-4.925 11-11S24.075 7 18 7 7 11.925 7 18s4.925 11 11 11zm5.824-6.132c.408.316.431.91.059 1.268A8.472 8.472 0 0118 26.5c-2.283 0-4.355-.9-5.883-2.364a.834.834 0 01.059-1.268C13.654 21.719 15.746 21 18 21c2.255 0 4.346.719 5.824 1.868zM18 19c-1.882 0-3.5-1.304-3.5-4.142C14.5 12.544 15.974 11 18 11s3.5 1.544 3.5 3.858C21.5 17.696 19.882 19 18 19z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSCautionTriangleSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:i.jsx("path",{clipRule:"evenodd",d:"M19.747 8.027c-.764-1.367-2.73-1.367-3.494 0L6.757 25.025C6.012 26.358 6.977 28 8.504 28h18.992c1.528 0 2.492-1.642 1.747-2.975L19.747 8.027zm-3.159 5.97a1.414 1.414 0 112.824 0l-.353 6.005a1.06 1.06 0 01-2.118 0l-.353-6.005zm2.662 9.753a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSSvgDocumentCompleteIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[i.jsx("path",{clipRule:"evenodd",d:"M18 8c0-.6-.4-1-1-1h-6a2 2 0 00-2 2v18c0 1.1.9 2 2 2h14a2 2 0 002-2V17c0-.6-.4-1-1-1h-4a4 4 0 01-4-4V8zm-6 7c0-.6.4-1 1-1h2a1 1 0 110 2h-2a1 1 0 01-1-1zm1 3.5a1 1 0 100 2h10a1 1 0 100-2H13zm0 4.5a1 1 0 100 2h10a1 1 0 100-2H13z",fillRule:"evenodd"}),i.jsx("path",{d:"M22 14h4a1 1 0 00.7-1.7l-5-5A1 1 0 0020 8v4c0 1.1.9 2 2 2z"})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerPlatformClientTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};c.setIsemployee=function(a){this.$1.isemployee=a;return this};c.setLoggingToken=function(a){this.$1.logging_token=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setRawclienttime=function(a){this.$1.rawclienttime=a;return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};return a}();c={appid:!0,appversion:!0,client_userid:!0,clienttime:!0,country:!0,deviceid:!0,extra_client_data:!0,isemployee:!0,logging_token:!0,name:!0,rawclienttime:!0,sessionid:!0,thread_id:!0};f["default"]=a}),66);
__d("PopupWindow",["DOMDimensions","DOMQuery","FlowMigrationUtilsForLegacyFiles","Layer","Popup","getViewportDimensions","isFalsey"],(function(a,b,c,d,e,f,g){var h={allowShrink:!0,strategy:"vector",timeout:100,widthElement:null};function b(a){Object.assign(h,a),window.setInterval(i,h.timeout)}function i(){var a=c("getViewportDimensions")(),b=j(),e=c("Layer").getTopmostLayer();if(e){e=(e=e.getRoot())==null?void 0:e.firstChild;e||d("FlowMigrationUtilsForLegacyFiles").invariantViolation("topMostLayer.getRoot().firstChild is null.");var f=d("DOMDimensions").getElementDimensions(e);f.height+=d("DOMDimensions").measureElementBox(e,"height",!0,!0,!0);f.width+=d("DOMDimensions").measureElementBox(e,"width",!0,!0,!0);b.height=Math.max(b.height,f.height);b.width=Math.max(b.width,f.width)}e=b.height-a.height;f=b.width-a.width;f<0&&c("isFalsey")(h.widthElement)&&(f=0);f=f>1?f:0;c("isFalsey")(h.allowShrink)&&e<0&&(e=0);if(e||f)try{window.console&&window.console.firebug,window.resizeBy(f,e),f&&window.moveBy(f/-2,0)}catch(a){}}function j(){var b=d("DOMDimensions").getDocumentDimensions();if(h.strategy==="offsetHeight"){var e=document.body;if(!e)d("FlowMigrationUtilsForLegacyFiles").invariantViolation("document.body is null.");else{b.height=(e=e.offsetHeight)!=null?e:0}}if(c("isFalsey")(h.widthElement)&&typeof h.widthElement==="string"){e=d("DOMQuery").scry(document.body,h.widthElement)[0];e&&(b.width=d("DOMDimensions").getElementDimensions(e).width)}e=a.Dialog;e&&e.max_bottom&&e.max_bottom>b.height&&(b.height=e.max_bottom);return b}function e(a,b,c,e){return d("Popup").open(a,c,b,e)}g._opts=h;g.init=b;g._resizeCheck=i;g._getDocumentSize=j;g.open=e}),98);
__d("XWebGraphQLMutationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/webgraphql/mutation/",{query_id:{type:"FBID"},variables:{type:"String"},doc_id:{type:"FBID"},legacy_response_format:{type:"Bool",defaultValue:!1}})}),null);
__d("base62",[],(function(a,b,c,d,e,f){"use strict";var g="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function a(a){if(!a)return"0";var b="";while(a>0)b=g[a%62]+b,a=Math.floor(a/62);return b}f["default"]=a}),66);
__d("WebGraphQLMutationHelper",["CurrentUser","WebGraphQLLegacyHelper","XWebGraphQLMutationController","base62"],(function(a,b,c,d,e,f,g){"use strict";var h=0;function a(a,b){return d("WebGraphQLLegacyHelper").getURI({controller:c("XWebGraphQLMutationController"),docID:a,variables:{input:babelHelpers["extends"]({client_mutation_id:c("base62")(h++),actor_id:c("CurrentUser").getID()},b)}})}g.getMutationURI=a}),98);
__d("XMNCommerceCTAPostProcessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/cta/postprocess/",{cta_id:{type:"String",required:!0},message_id:{type:"String"}})}),null);
__d("MNCommerceCTAProcessor",["AsyncRequest","CurrentUser","GraphQLMessengerPlatformCtaPostHandlingMutation.graphql","MessengerPlatformClientTypedLogger","PopupWindow","WebGraphQLMutationHelper","XMNCommerceCTAPostProcessController","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.process=function(a,b){b===void 0&&(b=null);var e=d("PopupWindow").open("",500,1024);a=c("XMNCommerceCTAPostProcessController").getURIBuilder().setString("cta_id",a).setString("message_id",b).getURI();new(c("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){return e.location=a.payload}).send()};b.postHandle=function(a,b){a=d("WebGraphQLMutationHelper").getMutationURI(c("nullthrows")(c("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql").params.id),{cta_id:a,message_id:b});new(c("AsyncRequest"))().setURI(a).send()};b.logCTAClick=function(a){var b,d;d=(d=a)!=null?d.logging_token:d;var e=d?JSON.parse(d).click_source:"UNKNOWN";e={action_id:(b=a)!=null?b.id:b,action_type:(b=a)!=null?b.action_type:b,action_url:((b=a)!=null?b.action_url:b)||((b=a)!=null?b.action_link:b),click_source:e,page_id:(b=a)!=null?b.page_id:b};new(c("MessengerPlatformClientTypedLogger"))().setClientUserID(c("CurrentUser").getID()).setName("did_tap_call_to_action").setExtraClientData(JSON.stringify(e)).setLoggingToken(d).log()};return a}();b=new a();g["default"]=b}),98);
__d("MNCommerceCTAProcessor.bs",["MNCommerceCTAProcessor"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("MNCommerceCTAProcessor").logCTAClick(a)}function b(a,b){c("MNCommerceCTAProcessor").process(a,(a=b)!=null?a:void 0)}g.logCTAClick=a;g.$$process=b}),98);
__d("MNXMASubtitleDecorationType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,THREADS_ICON:1,FACEBOOK_ICON:2,EXTERNAL_LINK_ICON:3,MESSENGER_ICON:4,INSTAGRAM_ICON:5});f["default"]=a}),66);
__d("MWAdminMsgCtaLink.react",["MWXLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","xstyle"]);return i.jsx(c("MWXLink.react"),babelHelpers["extends"]({style:{color:"var(--mwp-primary-theme-color)"},weight:"bold",xstyle:d},a,{children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAdminTextLayout.react",["CometTextWithEntities.react","LSMessagingThreadTypeUtil","MAWVault","MWChatTextTransform","ReQL","ReQLSuspense","react","useReStore","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.cta,e=a.message,g=(h||(h=c("useReStore")))();a=(a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.threads,["threadType"]).getKeyRange(e.threadKey)},[g,e.threadKey],f.id+":29"))==null?void 0:a.threadType;a=a==null?!1:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a);var i=e.text==null?null:d("MAWVault").unvault(e.text);a=(a=d("useStringWithSubstitutions").useStringWithSubstitutions(a?i:null,e.threadKey))!=null?a:i;if(a!=null)if(b!=null)return j.jsxs(j.Fragment,{children:[j.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").textTransformsNoVault})," ",b]});else return j.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").textTransformsNoVault});else if(b!=null)return b;else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatImageStyles",["MWXMessageBubbleCornerStyles.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){e=e===!0?"right":"left";e=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:e,connectBottom:a,connectTop:b,flatten:c===!0?"bottom":"none"});c=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({connectBottom:a,connectTop:b,corners:"unset"});return{imageStyles:e,insetShadowStyles:c}}g.calculateBorderStyles=a}),98);
__d("MWPAudioPlayerIcons.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("path",{d:"M10 25.5v-15a1.5 1.5 0 012.17-1.34l15 7.5a1.5 1.5 0 010 2.68l-15 7.5A1.5 1.5 0 0110 25.5z",fill:a})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("rect",{fill:a,height:"18",rx:"2",width:"18",x:"9",y:"9"})})}b.displayName=b.name+" [from "+f.id+"]";function c(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("path",{d:"M11 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4zM21 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4z",fill:a})})}c.displayName=c.name+" [from "+f.id+"]";g.PlayIcon=a;g.StopIcon=b;g.PauseIcon=c}),98);
__d("MWPAudioPlaybackThreadContext.react",["I64","Int64Hooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));c=h;e=c.createContext;var k=c.useContext;c={threadKey:(i||(i=d("I64"))).zero};var l=e(c);function a(){return k(l).threadKey}function b(a){var b=a.children,c=a.threadKey;a=d("Int64Hooks").useMemoInt64(function(){return{threadKey:c}},[c]);return j.jsx(l.Provider,{value:a,children:b})}b.displayName=b.name+" [from "+f.id+"]";g.useMWPAudioPlaybackThreadKey=a;g.MWPAudioPlaybackThreadContextProvider=b}),98);
__d("MWPAudioPlaybackContext.react",["fbt","$InternalEnum","I64","Int64Hooks","MWPAudioPlaybackThreadContext.react","ReQL","ReQLSuspense","bx","emptyFunction","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react")),m=j,n=m.createContext,o=m.useCallback,p=m.useContext,q=m.useEffect,r=m.useMemo,s=m.useRef,t=m.useState,u=b("$InternalEnum")({SLOW:.5,NORMAL:1,FAST:1.5,DOUBLE:2});function v(a){var b=new Audio();b.preload="auto";b.src=a;b.load();return b}function w(){return v(c("bx").getURL(c("bx")("577")))}function x(a){var b=Array.from(u.members()),c=b.findIndex(function(b){return b===a});c=c+1;return b[c%b.length]}function y(a){return h._("__JHASH__T0e3ZJkGlxz__JHASH__",[h._param("playback rate",a,[0])])}y.displayName=y.name+" [from "+f.id+"]";m={activeAudio:null,activeThreadKey:(k||(k=d("I64"))).zero,addMessageId:c("emptyFunction"),addNextPlayableUrl:c("emptyFunction"),clearActiveAudio:c("emptyFunction"),clearNextPlayableUrl:c("emptyFunction"),getMessageId:c("emptyFunction"),getNewOrExistingAudio:v,getNextPlayableUrl:c("emptyFunction"),onChangePlaybackRate:c("emptyFunction"),playbackRateLabel:y(u.NORMAL),setUseOutOfChatPlayback:c("emptyFunction")};var z=n(m);function a(a,b,c,e,f){var g=p(z),h=g.activeAudio,i=g.activeThreadKey,j=g.addMessageId,l=g.addNextPlayableUrl,m=g.clearNextPlayableUrl,n=g.getNewOrExistingAudio,o=g.setUseOutOfChatPlayback,q=d("MWPAudioPlaybackThreadContext.react").useMWPAudioPlaybackThreadKey();d("Int64Hooks").useEffectInt64(function(){if(!f||(k||(k=d("I64"))).is_zero(i)||(k||(k=d("I64"))).is_zero(q))return;o(!(k||(k=d("I64"))).equal(i,q));return function(){o((k||(k=d("I64"))).equal(i,q))}},[h,i,o,f,q]);return d("Int64Hooks").useMemoInt64(function(){if(a!=null&&a!==""){c!=null&&j(a,c);if(!f)return v(a);b!=null&&b!==""?(l(a,b),e!=null&&j(b,e)):m(a);return n(a,q)}},[j,l,m,n,c,e,b,a,f,q])}function e(){var a=p(z),b=a.onChangePlaybackRate;a=a.playbackRateLabel;return[a,b]}function A(){var a=p(z),b=a.activeAudio,e=a.activeThreadKey,g=a.clearActiveAudio,h=a.clearNextPlayableUrl,j=a.getMessageId;a=a.getNextPlayableUrl;var k=(i||(i=c("useReStore")))(),l=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(k.tables.threads).getKeyRange(e)},[k,e],f.id+":202"),m=b==null?void 0:b.src,n=m==null?null:a(m);a=d("ReQLSuspense").useFirst(function(){var a=n==null?null:j(n);return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(k.tables.messages.index("messageId"),["isUnsent"]).getKeyRange(a).filter(function(a){return!a.isUnsent})},[k,j,n],f.id+":211");m!=null&&n!=null&&a==null&&h(m);return[b,g,l]}function B(a){a=a.children;var b=s(new Map()),c=s(new Map()),e=s([]),f=s(new Map());q(function(){var a=e.current;return function(){while(a.length>0){var b=a.pop(),c=b[0],d=b[1];b=b[2];c.removeEventListener(d,b);c.pause()}}},[]);var g=t(u.NORMAL),h=g[0],i=g[1],j=r(function(){return y(h)},[h]);g=t((k||(k=d("I64"))).zero);var m=g[0],n=g[1];g=t(null);var p=g[0],A=g[1];g=t(!1);var B=g[0],C=g[1],D=(p==null?void 0:p.paused)===!1,E=r(function(){return B&&D?p:null},[p,D,B]),F=o(function(a,b){f.current.set(a,b)},[]),G=o(function(a){return f.current.get(a)},[]),H=o(function(){A(function(a){a!=null&&a.pause();return null})},[]),I=o(function(a){c.current["delete"](a)},[]),J=o(function(a,d){var f,g=(f=b.current.get(a))!=null?f:v(a);g.playbackRate=h;f=function(a,b){g.addEventListener(a,b),e.current.push([g,a,b])};var i=function(){var d=c.current.get(a);if(d!=null){var e=b.current.get(d);if(e!=null&&e.paused)return void w().play().then(function(){A(e);return e.play()["catch"](function(){return A(null)})})}A(null)};f("ended",i);i=function(){for(var a=b.current.values(),c=Array.isArray(a),e=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f!==g&&f.pause()}A(g);n(d)};f("playing",i);b.current.set(a,g);return g},[h]),K=o(function(a){return c.current.get(a)},[]),L=o(function(){i(function(a){a=x(a);for(var c=b.current.values(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f.playbackRate=a}return a})},[]),M=o(function(a,b){c.current.set(a,b)},[]);g=d("Int64Hooks").useMemoInt64(function(){return{activeAudio:E,activeThreadKey:m,addMessageId:F,addNextPlayableUrl:M,clearActiveAudio:H,clearNextPlayableUrl:I,getMessageId:G,getNewOrExistingAudio:J,getNextPlayableUrl:K,onChangePlaybackRate:L,playbackRateLabel:j,setUseOutOfChatPlayback:C}},[E,F,m,M,H,I,G,J,K,L,j]);return l.jsx(z.Provider,{value:g,children:a})}B.displayName=B.name+" [from "+f.id+"]";g.useMWPAudioPlaybackElement=a;g.useMWPAudioPlaybackRate=e;g.useMWPAudioOutOfChatPlayback=A;g.MWPAudioPlaybackContextProvider=B}),226);
__d("MessengerSurfaceContext.bs",["MessengerSurfaceType","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(d("MessengerSurfaceType").messenger);g.context=b;g.defaultValue=d("MessengerSurfaceType").messenger}),98);
__d("MessengerSurfaceQuickChat.bs",["MessengerSurfaceContext.bs","MessengerSurfaceType","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=i.useContext(d("MessengerSurfaceContext.bs").context);return a===d("MessengerSurfaceType").workQuickchat}g.useIsQuickChatSurface=a}),98);
__d("MWPAudioPlayerUtils",["fbt","$InternalEnum","MWLSThreadDisplayContext","MWPAudioPlaybackContext.react","MessengerSurfaceQuickChat.bs","cancelAnimationFrame","getErrorNameFromMediaErrorCode","gkx","promiseDone","react","requestAnimationFrameAcrossTransitions","useStable"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i,l=k.createContext,m=k.useCallback,n=k.useContext,o=k.useEffect,p=k.useRef,q=k.useState,r=b("$InternalEnum").Mirrored(["PLAYER","RECORDER"]),s=l(r.PLAYER),t=c("gkx")("24145");function u(){var a=n(s);return t&&a===r.PLAYER}function a(a,b){if(b==null)return 0;b=b.getBoundingClientRect();var c=b.left;b=b.width;a=a.clientX-c;c=b>0&&a>0?a/b:0;return v(c,0,1)}function v(a,b,c){return Math.min(Math.max(b,a),c)}function e(a){var b=a.currentTime;a=a.duration;return j.jsx("div",{"aria-label":h._("__JHASH__cCPjPb_WWZb__JHASH__"),"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":b,role:"slider",style:{position:"absolute"},tabIndex:0})}e.displayName=e.name+" [from "+f.id+"]";function w(){var a=u();return a?{marginLeft:12,marginRight:12}:{marginLeft:6,marginRight:6}}function x(a){return m(function(b){var c=a.current;if(c!=null){b.stopPropagation();return c.updateHighlight(0)}},[a])}function y(a,b,d,e,f,g){f===void 0&&(f=!1);var h=p();o(function(){var d=function(a){var b=h.current;if(b!=null)return b.updateHighlight(a)};if(g){f?d(100):d(0);return}if(e){var i={contents:void 0},j,k=function e(f){var g;if(b.current!=null)g=b.current.currentTime/b.current.duration;else{var h=i.contents,k=0;h!=null?k=f-h:i.contents=f;g=k/(a*1e3)}h=Math.min(g*100,100);d(h);if(h<100){j=c("requestAnimationFrameAcrossTransitions")(e);return}};j=c("requestAnimationFrameAcrossTransitions")(k);return function(){j!=null&&c("cancelAnimationFrame")(j)}}if(b.current!=null){k=b.current.currentTime/b.current.duration;d(k*100)}},[a,e,g,h,b,f,d]);return h}var z=b("$InternalEnum").Mirrored(["ENDED","LOADING","NONE","PAUSED","PLAYING"]);function A(a,b,e,f,g,h,i,j){var k=u(),l=c("useStable")(function(){return g}),n=d("MWPAudioPlaybackContext.react").useMWPAudioPlaybackElement(a,b,e,f,k),r=p(n);a=q(z.NONE);var s=a[0],t=a[1];b=q(function(){var a;return(a=n==null?void 0:n.currentTime)!=null?a:0});e=b[0];var v=b[1];o(function(){if(n==null){t(z.NONE);return}n.ended&&t(z.ENDED);t(function(){return n.paused?z.PAUSED:z.PLAYING});v(n.currentTime);r.current=n},[n]);o(function(){var a=r.current;if(a==null)return;var b=function(a){a=a.currentTarget;a=a.error;a=c("getErrorNameFromMediaErrorCode")(a==null?void 0:a.code);j==null?void 0:j.endFail("load-audio-error",{string:{audio_error_name:a}})},d=function(){j==null?void 0:j.endSuccess()},e=function(){return t(z.PAUSED)},f=function(){return t(z.PLAYING)},g=function(){return t(z.LOADING)},h=function(){r.current!=null&&v(r.current.currentTime)},i=function(){r.current=a,e(),d()},l=function(){r.current!=null&&(r.current.currentTime=0,v(0)),t(z.ENDED)};(a==null?void 0:a.readyState)!=null&&a.readyState>=2&&d();a.addEventListener("loadstart",g);a.addEventListener("canplay",i);a.addEventListener("timeupdate",h);a.addEventListener("playing",f);a.addEventListener("pause",e);a.addEventListener("ended",l);a.addEventListener("error",b);return function(){a.removeEventListener("loadstart",g),a.removeEventListener("canplay",i),a.removeEventListener("timeupdate",h),a.removeEventListener("playing",f),a.removeEventListener("pause",e),a.removeEventListener("ended",l),a.removeEventListener("error",b),k||a.pause()}},[n,j,k]);f=m(function(){var a=r.current;if(a==null)return;switch(s){case z.NONE:case z.LOADING:return;case z.ENDED:case z.PAUSED:c("promiseDone")(a.play(),function(){return t(z.PLAYING)},l);return;case z.PLAYING:a.pause();t(z.PAUSED);return}},[l,s]);a=m(function(a){var b=r.current;if(b==null)return;b.currentTime=a;v(a)},[]);return[s,e,r,f,y(i,r,e,s===z.PLAYING,h,s===z.ENDED),a]}function B(){var a=d("MWPAudioPlaybackContext.react").useMWPAudioOutOfChatPlayback(),b=a[0],e=a[1];a=a[2];var f=q(function(){if(b==null)return z.NONE;return b.ended?z.ENDED:b.paused?z.PAUSED:z.PLAYING}),g=f[0],h=f[1];f=q(function(){return b!=null?b.duration-b.currentTime:0});var i=f[0],j=f[1];o(function(){if(b==null)return;var a=function(){return j(b.duration-b.currentTime)},d=function(){return h(z.LOADING)},e=function(){return h(z.ENDED)};b.addEventListener("timeupdate",a);b.addEventListener("loadstart",d);b.addEventListener("ended",e);c("promiseDone")(b.play(),function(){return h(z.PLAYING)});return function(){b.removeEventListener("timeupdate",a),b.removeEventListener("loadstart",d),b.removeEventListener("ended",e)}},[b]);f=m(function(){if(b==null)return;switch(g){case z.NONE:case z.LOADING:return;case z.ENDED:case z.PAUSED:c("promiseDone")(b.play(),function(){return h(z.PLAYING)});return;case z.PLAYING:b.pause();h(z.PAUSED);return}},[b,g]);return[a,g===z.PLAYING,b!=null&&a!=null&&t,i,f,e]}function C(a){var b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),c=d("MessengerSurfaceQuickChat.bs").useIsQuickChatSurface();return((a=a)!=null?a:b==="Inbox")?218:b==="ChatTab"&&c?168:180}function D(a){var b=u();return b&&a===r.PLAYER?70:36}g.UseCase=r;g.UseCaseContext=s;g.isEnabled=t;g.useShowNewUX=u;g.getMousePos=a;g.ScreenReaderLabel=e;g.usePlaybackButtonContainerStyle=w;g.useResetHighlightProgress=x;g.useProgressLiveUpdate=y;g.State=z;g.useControlCenter=A;g.useOutOfChatControlCenter=B;g.useCalculatePlayerWidth=C;g.useCalculatePlayerHeight=D}),226);
__d("MWPAudioPlaybackIcon.react",["MWPAudioPlayerIcons.react","MWPAudioPlayerUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.disabled,c=a.hasEnded,e=a.isPaused,f=a.isPlaying;a=a.outgoing;var g=d("MWPAudioPlayerUtils").useShowNewUX();g=g?a?"var(--always-white)":"var(--progress-ring-neutral-foreground)":a?"var(--chat-outgoing-message-bubble-background-color)":void 0;if(f)return i.jsx(d("MWPAudioPlayerIcons.react").PauseIcon,{color:g});return e||c||b?i.jsx(d("MWPAudioPlayerIcons.react").PlayIcon,{color:g}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerSharedStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={bar:{backgroundColor:"x14hiurz",borderTopStartRadius:"x1inr27j",borderTopEndRadius:"x1vcqv9c",borderBottomEndRadius:"xfrm7hi",borderBottomStartRadius:"xpbad92",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},common:{alignItems:"x6s0dn4",alignSelf:"xkh2ocl",backgroundAttachment:"x1nr1p0w",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",outline:"x1k4qllp",$$css:!0},commonIncoming:{backgroundColor:"x1xr0vuk",$$css:!0},commonOutgoing:{backgroundColor:"x11jlvup",$$css:!0},commonOutgoingReply:{backgroundImage:"xl54vp5",$$css:!0},commonReply:{outline:"x1ucz5p",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},highlight:{height:"x5yr21d",position:"x10l6tqk",start:"x17qophe",left:null,right:null,top:"x13vifvy",width:"xh8yej3",$$css:!0},incomingWaveFormStyle:{fill:"x1f9y4dh",$$css:!0},mask:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},outgoingWaveFormStyle:{fill:"xe3v8dz",$$css:!0},playbackButtonContainer:{marginStart:"x1mnrxsn",marginLeft:null,marginRight:null,marginEnd:"x1w0mnb",$$css:!0},pressable:{alignItems:"x6s0dn4",backgroundColor:"x14hiurz",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"xxk0z11",justifyContent:"xl56j7k",minWidth:"xnei2rj",$$css:!0},rightSideBottom:{backgroundColor:"x14hiurz",borderTopStartRadius:"xfj52jq",borderTopEndRadius:"xykzs3s",borderBottomEndRadius:"x17xv1ja",borderBottomStartRadius:"x1mvicbb",$$css:!0},rightSideImprove:{marginStart:"x16n37ib",marginLeft:null,marginRight:null,marginEnd:"xq8finb",width:"x1691je0",$$css:!0},rightSideMargin:{marginTop:"x1gslohp",$$css:!0},rightSideTop:{alignItems:"x6s0dn4",color:"x1a3ma36",display:"x78zum5",fontSize:"x1nxh6w3",fontWeight:"x1s688f",height:"xi0exxh",justifyContent:"xl56j7k",marginStart:"x1mnrxsn",marginLeft:null,marginRight:null,marginEnd:"x1w0mnb",position:"x1n2onr6",userSelect:"x87ps6o",width:"x1r9kitl",$$css:!0},scrubber:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},transparent:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6","::after_borderTopColor":"x14617ij","::after_borderEndColor":"x1b5s2of","::after_borderBottomColor":"xv84cap","::after_borderStartColor":"x15ngzmr","::after_borderTopStartRadius":"xwuuf8d","::after_borderTopEndRadius":"xpd6q6o","::after_borderBottomEndRadius":"x1n6g0fn","::after_borderBottomStartRadius":"xu4xob7","::after_borderTopStyle":"xynf4tj","::after_borderEndStyle":"xdspwft","::after_borderBottomStyle":"x1r9ni5o","::after_borderStartStyle":"x1d52zm6","::after_borderTopWidth":"x1gnji40","::after_borderEndWidth":"xymhjbi","::after_borderBottomWidth":"x1ekxc0f","::after_borderStartWidth":"x5arhyh","::after_bottom":"x14apmda","::after_content":"x1s928wv","::after_display":"xhkezso","::after_end":"xhyvd7x","::after_left":null,"::after_right":null,"::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_start":"x1aneyt","::after_top":"xso615a",$$css:!0},transparentBar:{backgroundColor:"xjbqb8w",borderTopStartRadius:"x1inr27j",borderTopEndRadius:"x1vcqv9c",borderBottomEndRadius:"xfrm7hi",borderBottomStartRadius:"xpbad92",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},waveform:{height:"xn3w4p2",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};g.styles=a}),98);
__d("MWPAudioPlayerButtons.react",["MWPAudioPlaybackContext.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWXPressable.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){a=a.outgoing;var b=d("MWPAudioPlayerUtils").useShowNewUX(),e=d("MWPAudioPlaybackContext.react").useMWPAudioPlaybackRate(),f=e[0];e=e[1];if(!b)return null;b=a?"var(--always-white)":"var(--progress-ring-neutral-foreground)";return j.jsx(c("MWXPressable.react"),{onPress:e,overlayDisabled:!0,children:j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.rightSideTop,d("MWPAudioPlayerSharedStyles").styles.rightSideMargin,d("MWPAudioPlayerSharedStyles").styles.rightSideBottom,d("MWPAudioPlayerSharedStyles").styles.rightSideImprove),style:{backgroundColor:"var(--placeholder-text-on-media)",borderRadius:10,color:b},children:f})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.disabled,e=a.icon,f=a.label;a.onHoverMove;a=a.onPress;var g=d("MWPAudioPlayerUtils").useShowNewUX(),h=g?{backgroundColor:"transparent"}:{};return j.jsx(c("MWXPressable.react"),{"aria-label":f,disabled:b,onPress:a,overlayDisabled:g,overlayRadius:"50%",style:h,testid:void 0,xstyle:d("MWPAudioPlayerSharedStyles").styles.pressable,children:e})}b.displayName=b.name+" [from "+f.id+"]";g.PlaybackRateButton=a;g.AudioPlayerPlaybackButton=b}),98);
__d("MWPAudioPlayerLabels",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__KhMMxBdqg3x__JHASH__");b=h._("__JHASH__2rBFW-RfRDV__JHASH__");c=h._("__JHASH__IubwmxlTNhe__JHASH__");g.playLabel=a;g.stopLabel=b;g.pauseLabel=c}),226);
__d("MWPAudioPlaybackButton.react",["MWPAudioPlaybackIcon.react","MWPAudioPlayerButtons.react","MWPAudioPlayerLabels","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWXSpinner.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.isLoading,e=a.onPress,f=a.scrubberRef,g=a.disabled,i=a.hasEnded,k=a.isPaused,l=a.isPlaying;a=a.outgoing;var m=d("MWPAudioPlayerUtils").usePlaybackButtonContainerStyle();f=d("MWPAudioPlayerUtils").useResetHighlightProgress(f);var n=l||k;return b?j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.pressable),onMouseMove:n?f:void 0,style:m,children:j.jsx(c("MWXSpinner.react"),{color:"disabled",size:16})}):j.jsx("div",{onMouseMove:n?f:void 0,style:m,children:j.jsx(d("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{disabled:g,icon:j.jsx(c("MWPAudioPlaybackIcon.react"),{disabled:g,hasEnded:i,isPaused:k,isPlaying:l,outgoing:a}),label:l?d("MWPAudioPlayerLabels").pauseLabel:d("MWPAudioPlayerLabels").playLabel,onPress:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerContainer.react",["MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useRef;function a(a){var b=a.audioEl,e=a.children,f=a.hasScrubber,g=a.scrubberRef,i=a.style,l=a.testid;l=a.useCase;a=d("MWPAudioPlayerUtils").useShowNewUX();var m=k(),n=function(a){var c=b.current,e=m.current;c!=null&&e!=null&&Number.isFinite(c.duration)&&(c.currentTime=d("MWPAudioPlayerUtils").getMousePos(a,e)*c.duration)},o=function(a){if(m.current!=null&&g.current!=null)return g.current.updateHighlight(d("MWPAudioPlayerUtils").getMousePos(a,m.current)*100)},p=function(){if(g.current!=null)return g.current.updateHighlight(0)},q=d("MWPAudioPlayerUtils").useCalculatePlayerHeight(l);q=babelHelpers["extends"]({cursor:f?"pointer":"default",height:q},i);i=f&&!a;return j.jsx(d("MWPAudioPlayerUtils").UseCaseContext.Provider,{value:l,children:j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.container),"data-testid":void 0,onClick:i?n:void 0,onMouseLeave:f?p:void 0,onMouseMove:i?o:void 0,ref:m,style:q,children:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerScrubberBar.react",["fbt","MWPAudioPlayerSharedStyles","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");b=k.forwardRef(a);e=b;function a(a,b){var e=a.xPosition,f=a.currentTime;a=a.duration;return k.jsx("div",{"aria-label":h._("__JHASH__cCPjPb_WWZb__JHASH__"),"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":f,className:(i||(i=c("stylex")))(f===0?d("MWPAudioPlayerSharedStyles").styles.transparentBar:d("MWPAudioPlayerSharedStyles").styles.bar),ref:b,role:"slider",style:{left:e.toFixed(2)+"%"}})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),226);
__d("MWChatRecorderUtils",["DateConsts"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.reduce(function(a,b){return a+b.length},0)}function a(a){var b=h(a),c=new Float32Array(b);a.reduce(function(a,b){c.set(b,a);return a+b.length},0);return c}function b(a,b){var c=h([a,b]);return new Float32Array(c).map(function(c,d){c=Math.floor(d/2);if(d%2===0)return a[c];else return b[c]})}function i(a,b,c){c.forEach(function(c,d){c=Math.max(-1,Math.min(1,c));d=b+(d<<1);c=c<0?Math.abs(c)*-32768:Math.abs(c)*32767;a.setInt16(d,c,!0)})}function j(a,b,c){Array.from(c).forEach(function(d,e){d=c.charCodeAt(e);a.setUint8(b+e,d)})}function k(a){var b=a.numberOfChannels,c=a.sampleRate;a=a.samples;var d=a.length;d=d<<1;var e=new ArrayBuffer(44+d);e=new DataView(e);j(e,0,"RIFF");e.setUint32(4,36+d,!0);j(e,8,"WAVE");j(e,12,"fmt ");e.setUint32(16,16,!0);e.setUint16(20,1,!0);e.setUint16(22,b,!0);e.setUint32(24,c,!0);e.setUint32(28,c*b*2,!0);e.setUint16(32,b*2,!0);e.setUint16(34,16,!0);j(e,36,"data");e.setUint32(40,d,!0);i(e,44,a);return e}function c(a){var b=a.numberOfChannels,c=a.sampleRate;a=a.samples;b=k({numberOfChannels:b,sampleRate:c,samples:a});return new File([b],"audio_clip.wav",{type:"audio/wav"})}function e(a){var b=a.numberOfChannels,c=a.sampleRate;a=a.samples;var e=Float32Array.BYTES_PER_ELEMENT;a=a.byteLength/e/b;return a/c%d("DateConsts").SEC_PER_MIN}function l(a,b,c){return a+(b-a)*c}function f(a,b){var c=new Array(Math.ceil(b));if(b===0||a.length===0)return c;if(b===a.length)return Array.from(a);if(a.length===1)return c.fill(a[0]);c[0]=a[0];var d=(a.length-1)/(b-1);for(var e=1;e<b;e++){var f=e*d,g=Math.floor(f),h=Math.ceil(f);f=f-g;c[e]=l(a[g],a[h],f)}b>=2&&(c[c.length-1]=a[a.length-1]);return c}function m(a,b,c){var d=Math.min.apply(Math,a),e=Math.max.apply(Math,a),f=e-d,g=c-b;return a.map(function(a){return(a-d)/f*g+b})}g.getTotalBuffersLen=h;g.flattenBuffer=a;g.interleave=b;g.exportWAV=c;g.getAudioDuration=e;g.computeWaveformAmplitudes=f;g.linearConversion=m}),98);
__d("MWPAudioPlayerWaveform.react",["MWChatRecorderUtils","MWPAudioPlayerSharedStyles","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useLayoutEffect,l=b.useMemo,m=b.useRef,n=b.useState,o=Float32Array.of(.5,.1875,.375,.75,.5,1,1,.75,.25,.375,.75,1,1,.5,.75,1,.75,.75,.5,.25,.25,.375,.5,1,.75,.5,.5,.75,.25,.5,.75,1,.5,.25,.75),p=3,q=3,r=44,s=4;function t(a,b){var c=l(function(){return a==null||a===""?o:Float32Array.from(a.split(",").map(Number))},[a]);return l(function(){if(b<=0||c.length===0)return[];var a=Math.floor(b/(q*2));a=d("MWChatRecorderUtils").linearConversion(d("MWChatRecorderUtils").computeWaveformAmplitudes(c,a),s,r);return a.map(function(a,b){a=Math.ceil(a);var c=p,d=q;b=b*q*2;var e="calc(50% - "+a/2+"px)";return{height:a,rx:c,width:d,x:b,y:e}})},[b,c])}function u(a){var b=a.hasEnded,e=b===void 0?!1:b;b=a.isPlaying;var f=b===void 0?!1:b,g=a.outgoing,i=a.scrubberLeft;b=babelHelpers.objectWithoutPropertiesLoose(a,["hasEnded","isPlaying","outgoing","scrubberLeft"]);var l=m(null);a=n("auto");var o=a[0],p=a[1];k(function(){var a=l.current;p(function(){var b="auto";(e||f)&&(b=g===!0?"var(--non-media-pressed-on-dark)":"var(--secondary-button-background-on-dark)");if(a==null)return b;var c=a.getBoundingClientRect();c=c.left;return i>c?g===!0?"var(--always-white)":"var(--progress-ring-neutral-foreground)":b})},[e,f,g,i]);a=(h||(h=c("stylex")))(g===!0?d("MWPAudioPlayerSharedStyles").styles.outgoingWaveFormStyle:d("MWPAudioPlayerSharedStyles").styles.incomingWaveFormStyle);return j.jsx("rect",babelHelpers["extends"]({},b,{className:a,ref:l,style:{fill:o}}))}u.displayName=u.name+" [from "+f.id+"]";function a(a){var b=a.hasEnded,e=a.isListened,f=a.isPlaying,g=a.outgoing,i=a.scrubberLeft;a=a.waveformData;var l=m(null),o=n(0),p=o[0],q=o[1],r=b===!0||e===!0;k(function(){if(l.current!=null){var a=l.current.getBoundingClientRect();q(a.width)}},[]);o=t(a,p);return o.length===0?j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.waveform),ref:l}):j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.waveform),ref:l,children:j.jsx("svg",{"aria-hidden":!0,className:h(d("MWPAudioPlayerSharedStyles").styles.mask),children:o.map(function(a,b){return j.createElement(u,babelHelpers["extends"]({},a,{hasEnded:r,isPlaying:f,key:b,outgoing:g,scrubberLeft:i}))})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerHighlight.react",["MWPAudioPlayerScrubberBar.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWPAudioPlayerWaveform.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;e=b.forwardRef;var k=b.useImperativeHandle,l=b.useLayoutEffect,m=b.useRef,n=b.useState,o=e(function(a,b){var e=a.audioEl,f=a.children,g=a.duration,i=a.hasEnded,o=a.isListened,q=a.isPlaying;q=q===void 0?!0:q;var r=a.onUpdateScrubber,s=a.outgoing,t=a.waveformData;a=a.xstyle;var u=d("MWPAudioPlayerUtils").useShowNewUX(),v=m(),w=m(),x=n(0),y=x[0],z=x[1];x=n(0);var A=x[0],B=x[1];l(function(){if((e==null?void 0:e.current)!=null&&w.current!=null&&g!=null&&g>0){var a=e.current.currentTime,b=w.current;B(p(b,a/g*100))}},[e,g]);k(b,function(){return{updateHighlight:function(a){var b=v.current,c=w.current;if(b==null)return;if(u){if(c!=null){c=p(c,a);B(c)}}else b.style.transform="translateX("+(a-100).toFixed(1)+"%)"}}},[u]);x=function(a){if(v.current!=null){var b,c;b=(b=v.current)==null?void 0:b.getBoundingClientRect();b=(b=b==null?void 0:b.left)!=null?b:0;b=a.clientX-b;c=(c=(c=v.current)==null?void 0:c.offsetWidth)!=null?c:0;z(b/c*100);if(g!=null&&g>0){b=d("MWPAudioPlayerUtils").getMousePos(a,v.current)*g;if(r!=null&&w.current!=null){c=w.current;r(b);B(p(c,b/g*100))}}}};if(u){return j.jsxs(j.Fragment,{children:[f,j.jsxs("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.highlight,d("MWPAudioPlayerSharedStyles").styles.scrubber),onMouseDownCapture:x,ref:v,children:[j.jsx(c("MWPAudioPlayerScrubberBar.react"),{currentTime:e==null?void 0:(b=e.current)==null?void 0:b.currentTime,duration:(x=e==null?void 0:(f=e.current)==null?void 0:f.duration)!=null?x:0,ref:w,xPosition:y}),j.jsx(c("MWPAudioPlayerWaveform.react"),{hasEnded:i,isListened:o,isPlaying:q,outgoing:s,scrubberLeft:A,waveformData:t})]})]})}return j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.highlight,a),ref:v})});function p(a,b){a.style.left=b.toFixed(2)+"%";a.style.transition="transform 1s ease-out";b=a.getBoundingClientRect();a=b.left;return a}function a(a){var b=a.hasScrubber,c=a.progressHighlightRef,e=a.scrubberRef,f=a.audioEl,g=a.children,h=a.currentTime,i=a.duration,k=a.hasEnded,l=a.isListened,m=a.isPlaying;m=m===void 0?!0:m;var n=a.onUpdateScrubber,p=a.outgoing,q=a.waveformData;a=a.xstyle;var r=d("MWPAudioPlayerUtils").useShowNewUX();return r?j.jsx(o,{audioEl:f,duration:i,hasEnded:k,isListened:l,isPlaying:m,onUpdateScrubber:n,outgoing:p,ref:c,waveformData:q,xstyle:a,children:g}):j.jsxs(j.Fragment,{children:[j.jsx(o,{ref:c,xstyle:a}),b?j.jsx(d("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:h,duration:i}):null,j.jsx(o,{ref:e,xstyle:a}),g]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPAudioPlayerHighlightV1=o;g.MWPAudioPlayerHighlightV2=a}),98);
__d("MWPAudioPlayerKeyCommands.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useMemo;function m(a){if(a>30)return 5;else if(a>10)return 3;else if(a>5)return 2;else if(a>2)return 1;else return.5}function a(a){var b=a.audioEl;a=a.children;var d=k(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime-=m(a)},[b]),e=k(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime+=m(a)},[b]),f=k(function(){b.current!=null&&(b.current.currentTime=0)},[b]),g=k(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime=a},[b]),i=l(function(){var a;return[{command:{key:(a=c("CometKeys")).UP},description:h._("__JHASH__0poPtptaPoq__JHASH__"),handler:e},{command:{key:a.DOWN},description:h._("__JHASH__rYkfY7o-Wnk__JHASH__"),handler:d},{command:{key:a.LEFT},description:h._("__JHASH__1Lid3qpGe7D__JHASH__"),handler:d},{command:{key:a.RIGHT},description:h._("__JHASH__SFoCE2wpUn9__JHASH__"),handler:e},{command:{key:a.HOME},description:h._("__JHASH__d6P7X8Ve8io__JHASH__"),handler:f},{command:{key:a.END},description:h._("__JHASH__QXmXaNdkPYM__JHASH__"),handler:g}]},[d,e,f,g]);return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:i,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPAudioPlayerTimer.react",["MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","formatDurationSeconds","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.outgoing;b=b===void 0?!0:b;a=a.time;var e=d("MWPAudioPlayerUtils").useShowNewUX();b=e?{color:b?"var(--always-white)":"var(--progress-ring-neutral-foreground)"}:{color:b?"var(--chat-composer-button-color)":"var(--always-black)",cursor:"pointer"};return j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.rightSideTop,!e&&d("MWPAudioPlayerSharedStyles").styles.rightSideBottom,e&&d("MWPAudioPlayerSharedStyles").styles.rightSideImprove),"data-testid":void 0,style:b,children:c("formatDurationSeconds")(a)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWNextAttachment",["ReQL","ReQLSuspense","justknobx","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=(h||(h=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.messages.index("messageDisplayOrder")).getKeyRange(b.threadKey).bounds({gt:d("ReQL").key(b.primarySortKey,b.secondarySortKey)}).filter(function(a){return!a.isUnsent})},[e,b.threadKey,b.primarySortKey],f.id+":25"),i=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.messages.index("messageId")).bounds({gt:d("ReQL").key(a.messageId)}).filter(function(a){return!a.isUnsent})},[e,a.messageId],f.id+":39"),j=d("ReQLSuspense").useFirst(function(){return c("justknobx")._("2376")?g!=null?d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(g.threadKey,g.messageId):d("ReQL").empty():i!=null?d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(i.threadKey,i.messageId):d("ReQL").empty()},[e,g,i],f.id+":47");return j}g["default"]=a}),98);
__d("fetch",[],(function(a,b,c,d,e,f){"use strict";a=window.fetch;b=a;f["default"]=b}),66);
__d("fetchMWPAudioWaveformDataForURL",["AudioContextSingleton","FBLogger","Promise","asyncToGeneratorRuntime","fetch"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=[];for(var c=0;c<a.numberOfChannels;c++)b.push(a.getChannelData(c));a=b.reduce(function(a,b){return a+b.length},0);c=new Float32Array(a);for(a=0;a<b.length;a++)for(var d=0;d<b[a].length;d++)c[d*b.length+a]=b[a][d];return c}function j(a){var d=c("AudioContextSingleton").get();return new(h||(h=b("Promise")))(function(b,c){d.decodeAudioData(a,b,c)})}function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.toString();try{var b=(yield c("fetch")(a));b=(yield b.arrayBuffer());b=(yield j(b));return i(b)}catch(b){c("FBLogger")("messenger_web_media","audio_waveform_error").catching(b).mustfix("Error fetching waveform data for URL: %s",a);return Float32Array.of()}});return k.apply(this,arguments)}g["default"]=a}),98);
__d("useMWAttachmentUpdater",["Int64Hooks","ReQL","asyncToGeneratorRuntime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=a.attachmentFbid,g=a.messageId,i=a.threadKey,j=(h||(h=c("useReStore")))();return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield j.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b.attachments;var c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b).getKeyRange(i,g,e)));c!=null&&(yield b.put(babelHelpers["extends"]({},c,a)))});return function(a){return c.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":26")});return function(b){return a.apply(this,arguments)}}(),[j,i,g,e])}g["default"]=a}),98);
__d("useMWPAudioWaveformData.react",["ConstUriUtils","FBLogger","asyncToGeneratorRuntime","fetchMWPAudioWaveformDataForURL","promiseDone","react","useMWAttachmentUpdater"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useCallback,j=e.useEffect,k=e.useState,l=3,m=",",n=["blob:","data:"];function a(a,e){var f=k(a.waveformData),g=f[0],h=f[1],o=c("useMWAttachmentUpdater")(a),p=i(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(e!=null&&e!==""){var a=d("ConstUriUtils").getUri(e);if(a!=null&&n.includes(a.getProtocol())){a=(yield c("fetchMWPAudioWaveformDataForURL")(a));a.length>l&&h(a.join(m))}}}),[e]);j(function(){if(g!=null&&g.length>l)return;c("promiseDone")(p())},[p,g]);j(function(){g!=null&&g.length>l&&g!==a.waveformData&&o({waveformData:g})["catch"](function(a){c("FBLogger")("messenger_web_media","audio_waveform_error").catching(a).mustfix("Error from updating attachment waveform data")})},[a.waveformData,o,g]);return g}g["default"]=a}),98);
__d("useMWPMarkAudioAttachmentAsConsumed.react",["FBLogger","react","useMWAttachmentUpdater"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b){var d=c("useMWAttachmentUpdater")(b),e=b.isAttachmentConsumed;i(function(){var b=a==null?void 0:a.current;if(b==null)return;var f=function(){(e==null||e===!1)&&void d({isAttachmentConsumed:!0})["catch"](function(a){c("FBLogger")("messenger_web_media","attachment_update_error").catching(a).mustfix("Error marking attachment as consumed.")})};b.addEventListener("ended",f);return function(){b.removeEventListener("ended",f)}},[a,e,d])}g["default"]=a}),98);
__d("MWAudioPlayer.react",["I64","MWChatImageStyles","MWPAudioPlaybackButton.react","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","react","requireDeferred","stylex","useMWNextAttachment","useMWPAudioWaveformData.react","useMWPMarkAudioAttachmentAsConsumed.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useMemo,m=b.useRef,n=c("requireDeferred")("MWChatAudioLog").__setRef("MWAudioPlayer.react"),o={incoming:{backgroundColor:"x1arowe1",opacity:"x1ptxcow",$$css:!0},outgoing:{backgroundColor:"x14hiurz",opacity:"xz5rk10",$$css:!0},root:{transform:"x5i6ehr",$$css:!0}};function p(a){return l(function(){return[o.root,a?o.outgoing:o.incoming]},[a])}function q(){n.onReady(function(a){return a.logBrowserDenyAccess()})}function a(a){var b=a.attachment,e=a.connectBottom,f=a.connectTop,g=a.getPlayableUrl,i=a.isReply;i=i===void 0?!1:i;var l=a.mediaRenderQpl,n=a.message,o=a.outgoing,r=a.renderUnsupportedAttachment;a=a.width;var s=b.playableDurationMs;s=(j||(j=d("I64"))).to_float((s=s)!=null?s:(j||(j=d("I64"))).zero)/1e3;var t=c("useMWNextAttachment")(b,n),u=g(b,"MWAudioPlayer",l),v=c("useMWPAudioWaveformData.react")(b,u);e=d("MWChatImageStyles").calculateBorderStyles(e,f,!1,o);f=d("MWPAudioPlayerUtils").useControlCenter(u,t!=null?g(t,"MWAudioPlayer"):void 0,n.messageId,t==null?void 0:t.messageId,q,!1,s,l);g=f[0];n=f[1];t=f[2];var w=f[3],x=f[4];f=f[5];c("useMWPMarkAudioAttachmentAsConsumed.react")(t,b);var y=g===d("MWPAudioPlayerUtils").State.NONE,z=g===d("MWPAudioPlayerUtils").State.PLAYING,A=g===d("MWPAudioPlayerUtils").State.PAUSED,B=g===d("MWPAudioPlayerUtils").State.LOADING;g=g===d("MWPAudioPlayerUtils").State.ENDED;var C=z||A,D=m(),E=p(o);a=d("MWPAudioPlayerUtils").useCalculatePlayerWidth(a);a={width:a+"px"};var F=C?Math.max(s-n,0):0;if(u==null||u.length===0){l==null?void 0:l.addPoint("empty_playable_url");if(r!=null)return r(b)}return k.jsx(c("MWPAudioPlayerKeyCommands.react"),{audioEl:t,children:k.jsx(c("MWPAudioPlayerContainer.react"),{audioEl:t,hasScrubber:C,scrubberRef:D,style:a,testid:void 0,useCase:d("MWPAudioPlayerUtils").UseCase.PLAYER,children:k.jsxs("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.common,e.imageStyles,o?d("MWPAudioPlayerSharedStyles").styles.commonOutgoing:d("MWPAudioPlayerSharedStyles").styles.commonIncoming,i&&d("MWPAudioPlayerSharedStyles").styles.commonReply,o&&i&&d("MWPAudioPlayerSharedStyles").styles.commonOutgoingReply),children:[k.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV2,{audioEl:t,currentTime:n,duration:s,hasEnded:g,hasScrubber:C,isListened:b.isAttachmentConsumed===!0,isPlaying:z,onUpdateScrubber:f,outgoing:o,progressHighlightRef:x,scrubberRef:D,waveformData:v,xstyle:E,children:k.jsx(c("MWPAudioPlaybackButton.react"),{disabled:y,hasEnded:g,isLoading:B,isPaused:A,isPlaying:z,onPress:w,outgoing:o,scrubberRef:D})}),k.jsx("div",{children:z?k.jsxs(k.Fragment,{children:[k.jsx(c("MWPAudioPlayerTimer.react"),{outgoing:o,time:F}),k.jsx(d("MWPAudioPlayerButtons.react").PlaybackRateButton,{outgoing:o})]}):k.jsx(c("MWPAudioPlayerTimer.react"),{outgoing:o,time:F})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g.useHighlightStyles=p;g.MWAudioPlayer=a}),98);
__d("MWXIconThread",["MWXSvgIcon","SVGIcon","cr:9328","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9328")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWCMCreateSubthreadRowActionButton.react",["I64","Int64Hooks","LsFalcoEventEntryPoint","MWMessageActionButton.react","MWXIconThread","SubthreadCreationStrings.react","react","requireDeferred","useMWCMCreateSubthread","useOpenSubthreadView"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=c("requireDeferred")("LsMessageActionFalcoEvent").__setRef("MWCMCreateSubthreadRowActionButton.react");function a(a){var b=a.message;a=c("useMWCMCreateSubthread")(b);var e=a[0];a=a[1];var f=c("useOpenSubthreadView")(),g=b.subthreadKey,h=d("Int64Hooks").useCallbackInt64(function(){k.onReady(function(a){return a.log(function(){var a={};return{action:{container_module:"MWCMCreateSubthreadRowActionButton",type:g!=null?105:104},error:{message:void 0},extra:a,message:{attachment_type:"",entry_point:d("LsFalcoEventEntryPoint").messageActions,id:b.messageId,recipient_id:void 0},thread:{group_size:(i||(i=d("I64"))).to_string(i.zero),id:i.to_string(b.threadKey),type:18}}})}),g!=null?f(g):void e()},[b.messageId,b.threadKey,e,f,g]);return j.jsx(c("MWMessageActionButton.react"),{disabled:a,icon:c("MWXIconThread"),label:g!=null?d("SubthreadCreationStrings.react").viewSubthreadLabel:d("SubthreadCreationStrings.react").createSubthreadLabel,onPress:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMHostTextHovercard.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMHostTextHovercard.react").__setRef("MWCMHostTextHovercard.entrypoint")};g["default"]=a}),98);
__d("MWCMStandaloneJoinDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMStandaloneJoinDialog.react").__setRef("MWCMStandaloneJoinDialog.entrypoint")};g["default"]=a}),98);
__d("MWCMStandaloneRequestToJoinDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMStandaloneRequestToJoinDialog.react").__setRef("MWCMStandaloneRequestToJoinDialog.entrypoint")};g["default"]=a}),98);
__d("MWChatBubbleEmphasisRing.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");({borderRadius:22,borderStyle:"solid",borderWidth:2,content:"''",display:"block",pointerEvents:"none",position:"absolute",zIndex:1});var k={emphasis_ring:{backgroundColor:"xjbqb8w",borderTopColor:"xxdu5gn",borderEndColor:"x1uipg7g",borderBottomColor:"xnezbuk",borderStartColor:"xlauuyb",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x1gp4ovq",borderEndWidth:"xdio9jc",borderBottomWidth:"x1h2mt7u",borderStartWidth:"x7g060r",display:"x78zum5",maxWidth:"x1hvl878",position:"x1n2onr6","::after_borderTopStartRadius":"xquudas","::after_borderTopEndRadius":"x6p43zf","::after_borderBottomEndRadius":"x1wnhr99","::after_borderBottomStartRadius":"x1gquc79","::after_borderTopStyle":"xynf4tj","::after_borderEndStyle":"xdspwft","::after_borderBottomStyle":"x1r9ni5o","::after_borderStartStyle":"x1d52zm6","::after_borderTopWidth":"x31ga2r","::after_borderEndWidth":"xcmxnv6","::after_borderBottomWidth":"x13afdcp","::after_borderStartWidth":"x10va8jt","::after_content":"x1s928wv","::after_display":"xhkezso","::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_zIndex":"xitxdhh","::after_borderTopColor":"x1yzler7","::after_borderEndColor":"xh3oo2y","::after_borderBottomColor":"xxqiif8","::after_borderStartColor":"xrh6a5","::after_bottom":"xdb1ctf","::after_end":"x4bhatf","::after_left":null,"::after_right":null,"::after_start":"xhg89tr","::after_top":"x7kqs8i","::before_borderTopStartRadius":"x2e93ah","::before_borderTopEndRadius":"xigdz7j","::before_borderBottomEndRadius":"x1vxwiij","::before_borderBottomStartRadius":"xfgw0w6","::before_borderTopStyle":"xnvurfn","::before_borderEndStyle":"xv1ta3e","::before_borderBottomStyle":"x1opv7go","::before_borderStartStyle":"x1dtnpoi","::before_borderTopWidth":"x1b8stmw","::before_borderEndWidth":"xyhsekn","::before_borderBottomWidth":"xmbliey","::before_borderStartWidth":"x1igdxxj","::before_content":"x1cpjm7i","::before_display":"x1fgarty","::before_pointerEvents":"xkk1bqk","::before_position":"x1hmns74","::before_zIndex":"x12maryy","::before_borderTopColor":"xtei6gu","::before_borderEndColor":"x1nwru9p","::before_borderBottomColor":"xxs4umj","::before_borderStartColor":"xg8j718","::before_bottom":"xe80sof","::before_end":"x105ji64","::before_left":null,"::before_right":null,"::before_opacity":"x1u3qutx","::before_start":"xbs7dl3","::before_top":"x51xajf",$$css:!0},emphasis_ring_before_xma:{borderBottomStyle:"x1sy0etr","::after_borderBottom":"x1bxl7c5","::after_borderBottomEndRadius":"x1qo8dsh","::after_borderBottomStartRadius":"x1oiup0q","::before_borderBottom":"xozyfcf","::before_borderBottomEndRadius":"x1nxuetn","::before_borderBottomStartRadius":"x1doa7m0",$$css:!0},emphasis_ring_connect_bottom_incoming:{"::after_borderBottomStartRadius":"x1573djm","::before_borderBottomStartRadius":"x106tphz",$$css:!0},emphasis_ring_connect_bottom_outgoing:{"::after_borderBottomEndRadius":"x1nb2ndt","::before_borderBottomEndRadius":"x7ft4bm",$$css:!0},emphasis_ring_connect_top_incoming:{"::after_borderTopStartRadius":"x14nzmgs","::before_borderTopStartRadius":"x58eeit",$$css:!0},emphasis_ring_connect_top_outgoing:{"::after_borderTopEndRadius":"xe41ffp","::before_borderTopEndRadius":"x1cbhpwz",$$css:!0},emphasis_ring_xma:{borderTopStyle:"x1ejq31n",width:"x1o2z316","::after_borderTop":"x12dgpll","::after_borderTopEndRadius":"x1utvphz","::after_borderTopStartRadius":"x17dqjr0","::before_borderTop":"xp2bjph","::before_borderTopEndRadius":"xajc7s","::before_borderTopStartRadius":"x1eo7yr1",$$css:!0}};function a(a){var b=a.hasXMA,d=a.children,e=a.connectBottom,f=a.connectTop,g=a.outgoing;a=a.precedesXMA;var i=g?k.emphasis_ring_connect_top_outgoing:k.emphasis_ring_connect_top_incoming;g=g?k.emphasis_ring_connect_bottom_outgoing:k.emphasis_ring_connect_bottom_incoming;a=[k.emphasis_ring,a?k.emphasis_ring_before_xma:e&&g,f&&(b?k.emphasis_ring_xma:i)];return j.jsx("div",{className:(h||(h=c("stylex")))(a),"data-testid":void 0,children:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="25001979722783703"}),null);
__d("MWChatCustomerFeedbackFormDataQuery.graphql",["MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};c=[{alias:null,args:[{kind:"Variable",name:"form_id",variableName:"formID"}],concreteType:"MessengerFeedbackFormDataResult",kind:"LinkedField",name:"messenger_feedback_form_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"privacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_default_title",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackFormDataQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackFormDataQuery",selections:c},params:{id:b("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackFormDataQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatCustomerFeedbackFormDataQuery",["CometRelay","MWChatCustomerFeedbackFormDataQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e({firstScreen:a.messenger_feedback_form_data.first_screen,formId:a.messenger_feedback_form_data.form_id,pageId:a.messenger_feedback_form_data.page_id,privacy:a.messenger_feedback_form_data.privacy})});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackFormDataQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatCustomerFeedbackStateQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7662735127071179"}),null);
__d("MWChatCustomerFeedbackStateQuery.graphql",["MWChatCustomerFeedbackStateQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerFeedbackFormStateQueryObject",kind:"LinkedField",name:"messenger_feedback_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackStateQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackStateQuery",selections:c},params:{id:b("MWChatCustomerFeedbackStateQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatCustomerFeedbackStateQuery",["CometRelay","MWChatCustomerFeedbackStateQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){if(a){e((a=a.messenger_feedback_form_state)==null?void 0:a.form_state)}});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatFileIconV2.react",["MDSSvgDocumentCompleteIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){return i.jsx("div",{className:"x6s0dn4 xgx9qek x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",children:i.jsx(c("MDSSvgDocumentCompleteIcon.react"),{color:"primary",size:24})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFilePreview.react",["CometImageCover.react","MWChatFileIconV2.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={imageCover:{maxHeight:"x138jeol",objectPosition:"x8ozjh4",$$css:!0}};function a(a){var b=a.attachment,d=a.fileName;a=a.withPreview;b=(b=b)!=null?b:{};b=b.previewUrl;return b==null||!a?i.jsx("div",{className:"x1ye3gou",children:i.jsx(c("MWChatFileIconV2.react"),{})}):i.jsx(c("CometImageCover.react"),{alt:(a=d)!=null?a:"",src:b,style:j.imageCover})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatImageInsetShadow.react",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={imageShadow:{borderTopColor:"x1pdss0j",borderEndColor:"xtcpoma",borderBottomColor:"x81c4ja",borderStartColor:"x8g6rb3",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",left:null,right:null,start:"x17qophe",pointerEvents:"x47corl",position:"x10l6tqk",top:"x13vifvy",$$css:!0}};function a(a){a=a.xstyle;return i.jsx(d("react-strict-dom").html.div,{style:[j.imageShadow,a]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatImageSize",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function a(a,b,c){var d=b!=null?b:!1,e=j();c=k();b=c[0];var f=c[1];i(function(){if(a==null)return;if(e.current==null&&!d){var b=new Image();b.src=a;b.onload=function(){return f({height:b.naturalHeight,width:b.naturalWidth})};e.current=b}return function(){f(function(){});var a=e.current;if(a==null)return;a.onload=null}},[a,d,f]);return b}g.useImageSize=a}),98);
__d("MWChatPIIFormNuxQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5048028465289521"}),null);
__d("MWChatPIIFormNuxQuery.graphql",["MWChatPIIFormNuxQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"MessengerPIIFormFirstPartyPrivacyObject",kind:"LinkedField",name:"messenger_pii_nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatPIIFormNuxQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatPIIFormNuxQuery",selections:a},params:{id:b("MWChatPIIFormNuxQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormNuxQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PiiActionFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744182");b=d("FalcoLoggerInternal").create("pii_action_flow",a);e=b;g["default"]=e}),98);
__d("MWChatPIIFormNuxQuery",["CometRelay","MWChatPIIFormNuxQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f){a=d("CometRelay").fetchQuery(a,j,{}).toPromise().then(function(a){if(a){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_success",extra_data:"",form_id:b,page_id:e}});if(a.messenger_pii_nux==null)f({description:"",seen:!0,title:"",url:"",url_text:""});else{var d;f({description:(d=a.messenger_pii_nux.description)!=null?d:"",seen:!1,title:(d=a.messenger_pii_nux.title)!=null?d:"",url:(d=a.messenger_pii_nux.url)!=null?d:"",url_text:(d=a.messenger_pii_nux.url_text)!=null?d:""})}}},function(a){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_failure",extra_data:a.message,form_id:b,page_id:e}})});c("promiseDone")(a)},j=h!==void 0?h:h=b("MWChatPIIFormNuxQuery.graphql");a=function(a,b,c,d){i(a,b,c,function(a){return d(a)})};g.fetch=a}),98);
__d("MWChatPIIFormScreenQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5021823607854583"}),null);
__d("MWChatPIIFormScreenQuery.graphql",["MWChatPIIFormScreenQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"},{defaultValue:null,kind:"LocalArgument",name:"screenIndex"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"},{kind:"Variable",name:"screen_index",variableName:"screenIndex"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormSingleScreenObject",kind:"LinkedField",name:"messenger_pii_form_single_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerPIIFormScreenObject",kind:"LinkedField",name:"screen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"screen_title",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIQuestionObject",kind:"LinkedField",name:"questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mask",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormScreenQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormScreenQuery",selections:c},params:{id:b("MWChatPIIFormScreenQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormScreenQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatPIIFormScreenQuery",["CometRelay","MWChatPIIFormScreenQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f,g){f=d("CometRelay").fetchQuery(f,j,{formID:a,screenIndex:e}).toPromise().then(function(d){if(d){d=d.messenger_pii_form_single_screen.screen;var e=d.questions.map(function(a){return{format:a.format,id:a.id,length:a.length,mask:a.mask,placeholder:a.placeholder,subtitle:a.subtitle,title:a.title,type:a.type}}),f={question_list_size:d.questions.length};c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_success",extra_data:JSON.stringify(f),form_id:a,page_id:b}});g({questions:e,screen_title:d.screen_title})}},function(d){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_failure",extra_data:d.message,form_id:a,page_id:b}})});c("promiseDone")(f)},j=h!==void 0?h:h=b("MWChatPIIFormScreenQuery.graphql");a=function(a,b,c,d,e){i(a,b,c,d,function(a){return e(a)})};g.fetch=a}),98);
__d("MWChatPIIFormStateQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4923666631045015"}),null);
__d("MWChatPIIFormStateQuery.graphql",["MWChatPIIFormStateQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormStateQueryObject",kind:"LinkedField",name:"messenger_pii_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormStateQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormStateQuery",selections:c},params:{id:b("MWChatPIIFormStateQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatPIIFormStateQuery",["CometRelay","MWChatPIIFormStateQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e(a.messenger_pii_form_state.state)});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatPIIFormStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatReceiptDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7735392359808092"}),null);
__d("MWChatReceiptDataQuery.graphql",["MWChatReceiptDataQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"messageID"},c={defaultValue:null,kind:"LocalArgument",name:"receiptID"},d=[{alias:null,args:[{kind:"Variable",name:"message_id",variableName:"messageID"},{kind:"Variable",name:"receipt_id",variableName:"receiptID"}],concreteType:"ReceiptDataResult",kind:"LinkedField",name:"receipt_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"payment_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_tax",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_time",storageKey:null},{alias:null,args:null,concreteType:"ReceiptItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumb_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Adjustment",kind:"LinkedField",name:"adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"display_adjustment_amount",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"MWChatReceiptDataQuery",selections:d,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"MWChatReceiptDataQuery",selections:d},params:{id:b("MWChatReceiptDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatReceiptDataQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatReceiptDataQuery",["CometRelay","CometRelayEnvironment","MWChatReceiptDataQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,b,e){c("promiseDone")(d("CometRelay").fetchQuery(c("CometRelayEnvironment"),i,{messageID:b,receiptID:a}).toPromise().then(function(a){if((a==null?void 0:a.receipt_data)!=null){a=a.receipt_data;var b=a.items?a.items.map(function(a){return{description:a.description,name:a.name,price:a.price,quantity:a.quantity,thumb_url:a.thumb_url}}):[],c=a.adjustments?a.adjustments.map(function(a){return{adjustment_type:a.adjustment_type,display_adjustment_amount:a.display_adjustment_amount}}):[];e({address_line_1:a.address_line_1,address_line_2:a.address_line_2,address_line_3:a.address_line_3,adjustments:c,cancellation_url:a.cancellation_url,items:b,merchant_name:a.merchant_name,order_id:a.order_id,order_time:a.order_time,order_url:a.order_url,payment_method:a.payment_method,recipient_name:a.recipient_name,shipping_cost:a.shipping_cost,subtotal:a.subtotal,total_cost:a.total_cost,total_tax:a.total_tax})}}))};var i=h!==void 0?h:h=b("MWChatReceiptDataQuery.graphql");g.fetch=a}),98);
__d("MWChatSingleSeenHead.react",["MDSGlimmer.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.altText,e=a.head;a=a.xstyle;return e.imageSrc===""?i.jsx(c("MDSGlimmer.react"),{index:1,xstyle:j.profilePlaceholder}):i.jsx(d("react-strict-dom").html.img,{alt:b,"data-testid":void 0,height:14,src:e.imageSrc,style:[j.image,a],width:14})}a.displayName=a.name+" [from "+f.id+"]";var j={image:{borderTopStartRadius:"x1rcc7c0",borderTopEndRadius:"xbtbmw4",borderBottomEndRadius:"x1lie4ck",borderBottomStartRadius:"x16hxpj1",height:"x1v9usgg",objectFit:"xl1xv1r",userSelect:"x87ps6o",verticalAlign:"x11njtxf",width:"x6jxa94",$$css:!0},profilePlaceholder:{borderTopStartRadius:"x1rcc7c0",borderTopEndRadius:"xbtbmw4",borderBottomEndRadius:"x1lie4ck",borderBottomStartRadius:"x16hxpj1",height:"x1v9usgg",verticalAlign:"x3ajldb",width:"x6jxa94",$$css:!0}};g["default"]=a}),98);
__d("MWChatSingleSeenHeadRow.react",["MWChatSingleSeenHead.react","MWLSThreadDisplayContext","MWXTooltip.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={mask:{backgroundColor:"x1eb86dx",$$css:!0},root:{display:"x78zum5",justifyContent:"x13a6bvl",$$css:!0},singleSeenHeadRow:{display:"x1jfb8zj",$$css:!0}};function a(a){var b=a.head,e=a.text;a=a.xstyle;var f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.root,j.mask],children:i.jsx(d("react-strict-dom").html.div,{style:[j.singleSeenHeadRow,a],children:i.jsx(c("MWXTooltip.react"),{align:f==="Inbox"?"middle":"end",forceInlineDisplay:!0,position:"above",tooltip:e,children:i.jsx(c("MWChatSingleSeenHead.react"),{altText:e,head:b})},b.id)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWP2PPaymentTransactionInformationVerify",["JSResourceForInteraction","XP2PVerificationDialogBaseControllerRouteBuilder","gkx","nullthrows","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometCompatModal.react").__setRef("MWP2PPaymentTransactionInformationVerify")),b=a[0];a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometP2PPaymentIDVFlow.react").__setRef("MWP2PPaymentTransactionInformationVerify"));var d=a[0];return i(function(a){a=a.id;if(c("gkx")("22992"))return d({transferId:c("nullthrows")(a)},function(){});else return b({params:{rel:"dialog-post",uri:c("XP2PVerificationDialogBaseControllerRouteBuilder").buildURL({id:c("nullthrows")(a),is_sender_flow:!1})}},function(){})},[b])}g.useP2PPaymentTransactionInformationVerify=a}),98);
__d("commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6107272026057140"}),null);
__d("commitWorkplaceChatBotSubmitFeedbackMutation.graphql",["commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:"results",args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"WorkplaceChatBotSubmitFeedbackResponsePayload",kind:"LinkedField",name:"workplace_chat_bot_submit_feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"commitWorkplaceChatBotSubmitFeedbackMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"commitWorkplaceChatBotSubmitFeedbackMutation",selections:c},params:{id:b("commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation"),metadata:{},name:"commitWorkplaceChatBotSubmitFeedbackMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("commitWorkplaceChatBotSubmitFeedbackMutation",["CometRelay","Promise","commitWorkplaceChatBotSubmitFeedbackMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h!==void 0?h:h=b("commitWorkplaceChatBotSubmitFeedbackMutation.graphql");function a(a){var c=a.action_content_blob,e=a.config;return new(i||(i=b("Promise")))(function(a,b){d("CometRelay").commitMutation(e.environment,{mutation:j,onCompleted:function(b){a((b=b.results)==null?void 0:b.success)},onError:function(a){b(a)},variables:{input:{action_content_blob:c}}})})}g["default"]=a}),98);
__d("useMWChatShowPIIForm",["CometRelay","JSResourceForInteraction","MWChatPIIFormNuxQuery","MWChatPIIFormScreenQuery","MWChatPIIFormStateQuery","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback,j=c("JSResourceForInteraction")("MWChatPIIFormDialog.react").__setRef("useMWChatShowPIIForm");function a(){var a=c("useMWXLazyDialog")(j),b=a[0],e=d("CometRelay").useRelayEnvironment();return i(function(a){var c=a.color,f=a.currentIndex,g=a.firstScreen,h=a.formId,i=a.numScreens,j=a.pageId;d("MWChatPIIFormStateQuery").fetch(h,e,function(a){d("MWChatPIIFormNuxQuery").fetch(e,h,j,function(k){if(i>1){d("MWChatPIIFormScreenQuery").fetch(h,j,1,e,function(d){return b({color:c,ctaType:null,currentIndex:f,firstScreen:g,formId:h,numScreens:i,nuxData:k,pageId:j,secondScreen:(d=d)!=null?d:void 0,state:a})});return}else return b({color:c,ctaType:null,currentIndex:f,firstScreen:g,formId:h,numScreens:i,nuxData:k,pageId:j,secondScreen:void 0,state:a})})})},[e,b])}g["default"]=a}),98);
__d("useMWLSMarketplaceXmaCtaHandler",["LSFactory","LSOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure","MWThreadKey.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(){var a=(h||(h=c("useReStore")))(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return j(function(d,e,g,h){c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure")(c("LSFactory")(a),{actionType:h,attachmentFbid:e,messageId:d,targetId:g,threadKey:b})},"readwrite",void 0,void 0,f.id+":38"))},[a,b])}g["default"]=a}),98);
__d("useMWLSOpenStaticLocationDialog.react",["I64","JSResourceForInteraction","MWThreadKey.react","Promise","ReQL","ReQLSuspense","promiseDone","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useCallback;function a(){var a=(i||(i=c("useReStore")))(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatStaticLocationDialog.react").__setRef("useMWLSOpenStaticLocationDialog.react")),k=g[0];return l(function(g){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(e,g).map(function(b){b=b.defaultCtaId;b=b!=null?b:(j||(j=d("I64"))).zero;b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.attachment_ctas).getKeyRange(b),f.id+":40");if(b!=null)return b.nativeUrl})).then(function(a){a=(a=a)!=null?a:"";a=a.split(",");var c=a[0];a=a[1];k({latitude:c,longitude:a},function(){});return(h||(h=b("Promise"))).resolve()}))},[a,e,k])}g["default"]=a}),98);
__d("P2MAttachBankSlipDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5342426462467736"}),null);
__d("P2MAttachBankSlipDialogQuery$Parameters",["P2MAttachBankSlipDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MAttachBankSlipDialogQuery_facebookRelayOperation"),metadata:{},name:"P2MAttachBankSlipDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("P2MAttachBankSlipDialog.entrypoint",["JSResourceForInteraction","P2MAttachBankSlipDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MAttachBankSlipDialogQueryReference:{parameters:b("P2MAttachBankSlipDialogQuery$Parameters"),variables:{orderID:a}}}}},root:c("JSResourceForInteraction")("P2MAttachBankSlipDialog.react").__setRef("P2MAttachBankSlipDialog.entrypoint")};g["default"]=a}),98);
__d("useMWUIAttachBankSlipDialog",["P2MAttachBankSlipDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("P2MAttachBankSlipDialog.entrypoint"),{orderID:a})}g["default"]=a}),98);
__d("useMWLSShowAttachBankSlip",["react","useMWUIAttachBankSlipDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k(!1);var e=a[0],f=a[1];a=c("useMWUIAttachBankSlipDialog")(b);var g=a[0];i(function(){b!=null&&e&&g({orderID:b},function(){return f(!1)})},[b,e,g]);return j(function(){return function(a){f(function(){return!0});return d(function(){return a})}},[f,d])}g["default"]=a}),98);
__d("useMWUICheckoutDialog",["FBP2MCheckoutDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return c("useMWXEntryPointDialog")(c("FBP2MCheckoutDialog.entrypoint"),{orderID:a,pageID:b})}g["default"]=a}),98);
__d("useMWLSShowCheckout",["react","useMWUICheckoutDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k("");var e=a[0],f=a[1];a=k(!1);var g=a[0],h=a[1];a=c("useMWUICheckoutDialog")(b);var l=a[0];i(function(){b!=null&&g&&l({orderID:b,pageID:e},function(){return h(!1)})},[b,e,g,l]);return j(function(){return function(a,b){h(function(){return!0});d(function(){return a});return f(function(){return b})}},[h,d])}g["default"]=a}),98);
__d("useMWUIECPCheckoutDialog",["FBP2MECPCheckoutDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return c("useMWXEntryPointDialog")(c("FBP2MECPCheckoutDialog.entrypoint"),{orderID:a,pageID:b})}g["default"]=a}),98);
__d("useMWLSShowECPCheckout",["react","useMWUIECPCheckoutDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(""),b=a[0],d=a[1];a=k("");var e=a[0],f=a[1];a=k(!1);var g=a[0],h=a[1];a=c("useMWUIECPCheckoutDialog")(b,e);var l=a[0];i(function(){if(b!=null&&g){l({orderID:b,pageID:e},function(){return h(!1)});return}},[b,e,g,l]);return j(function(){return function(a,b){h(function(){return!0}),d(function(){var b;return(b=a)!=null?b:""}),f(function(){return b})}},[h,d])}g["default"]=a}),98);
__d("useMWLSShowMemberRequest",["GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint","GroupsCometAdmodChatsReviewDialog.entrypoint","WebPixelRatio","react","useCometDynamicEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useCometDynamicEntryPointDialog")(c("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint")),b=c("useCometDynamicEntryPointDialog")(c("GroupsCometAdmodChatsReviewDialog.entrypoint"));return i(function(c,e,f,g){if(c==null)return;g!=null&&g!=="0"?a({routeProps:{adminActivityID:g,groupID:e,isManagementActivityLogTargetProfilePlus:!1}},{activityLogTarget:"Group",groupID:e}):b({groupID:e,profileID:f,scale:d("WebPixelRatio").get()},{})},[a,b])}g["default"]=a}),98);
__d("P2MOffsiteBankTransferDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5004730099638134"}),null);
__d("P2MOffsiteBankTransferDialogQuery$Parameters",["P2MOffsiteBankTransferDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MOffsiteBankTransferDialogQuery_facebookRelayOperation"),metadata:{},name:"P2MOffsiteBankTransferDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("P2MOffsiteBankTransferDialog.entrypoint",["JSResourceForInteraction","P2MOffsiteBankTransferDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MOffsiteBankTransferDialogQueryReference:{parameters:b("P2MOffsiteBankTransferDialogQuery$Parameters"),variables:{input:{invoice_id:a}}}}}},root:c("JSResourceForInteraction")("P2MOffsiteBankTransferDialog.react").__setRef("P2MOffsiteBankTransferDialog.entrypoint")};g["default"]=a}),98);
__d("useMWUIOffsiteBankTransferDialog",["P2MOffsiteBankTransferDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("P2MOffsiteBankTransferDialog.entrypoint"),{orderID:a})}g["default"]=a}),98);
__d("useMWLSShowOffsiteBankTransfer",["react","useMWUIOffsiteBankTransferDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k(!1);var e=a[0],f=a[1];a=c("useMWUIOffsiteBankTransferDialog")(b);var g=a[0];i(function(){b!=null&&e&&g({orderID:b},function(){return f(!1)})},[b,e,g]);return j(function(){return function(a){f(function(){return!0});return d(function(){return a})}},[f,d])}g["default"]=a}),98);
__d("P2MInvoicerAndConsumerSwitcherQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6822387771217384"}),null);
__d("P2MInvoicerAndConsumerSwitcherQuery$Parameters",["P2MInvoicerAndConsumerSwitcherQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MInvoicerAndConsumerSwitcherQuery_facebookRelayOperation"),metadata:{},name:"P2MInvoicerAndConsumerSwitcherQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("P2MOrderDetailDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7672015816155720"}),null);
__d("P2MOrderDetailDialogQuery$Parameters",["P2MOrderDetailDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MOrderDetailDialogQuery_facebookRelayOperation"),metadata:{live:{polling_interval:1e4}},name:"P2MOrderDetailDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("P2MOrderDetailDialog.entrypoint",["JSResourceForInteraction","P2MInvoicerAndConsumerSwitcherQuery$Parameters","P2MOrderDetailDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MInvoicerAndConsumerSwitcherQueryReference:{parameters:b("P2MInvoicerAndConsumerSwitcherQuery$Parameters"),variables:{orderID:a}},P2MOrderDetailDialogQueryReference:{parameters:b("P2MOrderDetailDialogQuery$Parameters"),variables:{orderID:a}}}}},root:c("JSResourceForInteraction")("P2MOrderDetailDialogContainer.react").__setRef("P2MOrderDetailDialog.entrypoint")};g["default"]=a}),98);
__d("useMWUIOrderDetailsDialog",["P2MOrderDetailDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("P2MOrderDetailDialog.entrypoint"),{orderID:a},void 0,void 0,{baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}})}g["default"]=a}),98);
__d("useMWLSShowOrderDetails",["react","useMWUIOrderDetailsDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k(!1);var e=a[0],f=a[1];a=c("useMWUIOrderDetailsDialog")(b);var g=a[0];i(function(){b!=null&&e&&g({orderID:b},function(){return f(!1)})},[b,e,g]);return j(function(){return function(a){f(function(){return!0});return d(function(){return a})}},[f,d])}g["default"]=a}),98);
__d("useMWUIPaymentDetailsDialog",["FBPayHubTransactionDetailDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("FBPayHubTransactionDetailDialog.entrypoint"),{transactionID:a})}g["default"]=a}),98);
__d("useMWLSShowPaymentDetails",["fbt","LSIntEnum","MWLSDatabaseLazySync","promiseDone","react","useMWUIPaymentDetailsDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;b=i||d("react");var k=b.useEffect,l=b.useMemo,m=b.useState;function a(){var a=m(null),b=a[0],e=a[1];a=m(!1);var f=a[0],g=a[1];a=c("useMWUIPaymentDetailsDialog")(b);var i=a[0],n=d("MWLSDatabaseLazySync").useSync((j||(j=d("LSIntEnum"))).ofNumber(15));k(function(){b!=null&&f&&i({title:h._("__JHASH__NIyxBo8HYXZ__JHASH__"),transactionID:b},function(){return g(!1)})},[b,f,i]);return l(function(){return function(a){c("promiseDone")(n());g(function(){return!0});return e(function(){return a})}},[g,e,n])}g["default"]=a}),226);
__d("useMWUIPendingPostDialog",["GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint","GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint","WebPixelRatio","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){a=c("useMWXEntryPointDialog")(c("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint"),{routeProps:{adminActivityID:g,groupID:b,isManagementActivityLogTargetProfilePlus:!1}});e=c("useMWXEntryPointDialog")(c("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint"),{authorID:e,groupID:b,postID:f,scale:d("WebPixelRatio").get()});return g!=null&&g!=="0"?a:e}g["default"]=a}),98);
__d("useMWLSShowPendingPost",["react","useMWUIPendingPostDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k("");var e=a[0],f=a[1];a=k("");var g=a[0],h=a[1];a=k("");var l=a[0],m=a[1];a=k("");var n=a[0],o=a[1];a=k(!1);var p=a[0],q=a[1];a=c("useMWUIPendingPostDialog")(b,e,g,l,n);var r=a[0];i(function(){b!=null&&p&&r({activityLogTarget:"Group",groupID:e},function(){return q(!1)})},[b,p]);return j(function(){return function(a,b,c,e,g){q(!0);d(a);f(b);h(c);m(e);return o(g)}},[q,d])}g["default"]=a}),98);
__d("useMWP2PPaymentRequestCancelDialog",["JSResourceForInteraction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestCancelDialog.react").__setRef("useMWP2PPaymentRequestCancelDialog")),b=a[0];return i(function(a){a!=null&&b({id:a})},[b])}g["default"]=a}),98);
__d("useMWP2PPaymentTransactionDeclineDialog",["JSResourceForInteraction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentTransactionDeclineDialog.react").__setRef("useMWP2PPaymentTransactionDeclineDialog")),b=a[0];return i(function(a){a!=null&&b({id:a})},[b])}g["default"]=a}),98);
__d("getRingbackUrl",["URI"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(a==null)return null;a=new(h||(h=c("URI")))(a);a.addQueryData("users_to_ring",[b]);return a.toString()}g["default"]=a}),98);
__d("useMakeRoomRingback",["I64","LSIntEnum","MWThreadKey.react","Promise","RTWebPreCallHooks","ReQL","getRingbackUrl","promiseDone","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(l||d("react")).useCallback;function a(){var a=d("RTWebPreCallHooks").useJoinMeetupCallback(),e=(i||(i=c("useReStore")))(),f=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return m(function(g){var i=g.linkUrl;c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(f)).then(function(e){if(e!=null){e=(j||(j=d("I64"))).equal(e.threadType,(k||(k=d("LSIntEnum"))).ofNumber(1))?c("getRingbackUrl")(i,(j||(j=d("I64"))).to_string(e.threadKey)):(c("recoverableViolation")("Cannot ring a non user thread","rtc_www"),i);return(h||(h=b("Promise"))).resolve(a(e))}c("recoverableViolation")("Cannot find thread when trying to ring a user","rtc_www");return(h||(h=b("Promise"))).resolve()}),void 0,function(a){c("recoverableViolation")("Error making a ring back","rtc_www",{error:a.Error})})},[a,f,e])}g["default"]=a}),98);
__d("useP2PPaymentMethodAddDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentMethodAddDialog.react").__setRef("useP2PPaymentMethodAddDialog")),b=a[0];return i(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("useP2PPaymentRequestConfirmDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestConfirmDialog.react").__setRef("useP2PPaymentRequestConfirmDialog")),b=a[0];return i(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("useP2PPaymentRequestDeclineDialog",["JSResourceForInteraction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestDeclineDialog.react").__setRef("useP2PPaymentRequestDeclineDialog")),b=a[0];return i(function(a){a!=null&&b({id:a})},[b])}g["default"]=a}),98);
__d("ServicesApproveAppointmentMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5262522413766771"}),null);
__d("ServicesApproveAppointmentMutation.graphql",["ServicesApproveAppointmentMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"InstantBookingConfirmAppointmentResponsePayload",kind:"LinkedField",name:"instant_booking_confirm_appointment",plural:!1,selections:[{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequest",kind:"LinkedField",name:"request",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ServicesApproveAppointmentMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ServicesApproveAppointmentMutation",selections:c},params:{id:b("ServicesApproveAppointmentMutation_facebookRelayOperation"),metadata:{},name:"ServicesApproveAppointmentMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useServicesConfirmAppointmentBookingMutation",["RelayHooks","ServicesApproveAppointmentMutation.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=d("RelayHooks").useMutation(c("ServicesApproveAppointmentMutation.graphql")),b=a[0];a[1];return i(function(a){b({variables:{input:{referrer_ui_component:"BUBBLE",referrer_ui_surface:"MESSAGE",request_id:a}}})},[b])}g["default"]=a}),98);
__d("MWChatXmaThirdPartyActionHandler",["fbt","AdsMessengerContext.react","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometRelay","CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent","CustomerInformationTemplateFalcoEvent","JSResourceForInteraction","LSFactory","LSMarkAsXStoredProcedure","MWBuyerShippingAddressRootQuery","MWChatCustomerFeedbackFormDataQuery","MWChatCustomerFeedbackStateQuery","MWChatPIIFormScreenQuery","MWChatPIIFormStateQuery","MWChatReceiptDataQuery","MWP2PPaymentTransactionInformationVerify","MarketplaceCometReviewOffersDialog.entrypoint","Popup","asyncToGeneratorRuntime","cometPushToast","commitWorkplaceChatBotSubmitFeedbackMutation","cr:11076","emptyFunction","gkx","promiseDone","react","requireDeferred","useAsyncReStore","useCometDynamicEntryPointDialog","useMWChatShowPIIForm","useMWLSMarketplaceXmaCtaHandler","useMWLSOpenStaticLocationDialog.react","useMWLSShowAttachBankSlip","useMWLSShowCheckout","useMWLSShowECPCheckout","useMWLSShowMemberRequest","useMWLSShowOffsiteBankTransfer","useMWLSShowOrderDetails","useMWLSShowPaymentDetails","useMWLSShowPendingPost","useMWP2PPaymentRequestCancelDialog","useMWP2PPaymentTransactionDeclineDialog","useMWXLazyDialog","useMakeRoomRingback","useP2PPaymentMethodAddDialog","useP2PPaymentRequestConfirmDialog","useP2PPaymentRequestDeclineDialog","useServicesConfirmAppointmentBookingMutation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||d("react")).useCallback,k=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWChatXmaThirdPartyActionHandler");function l(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatReceiptModal.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){var c=a.messageId;a=a.receiptId;if(a!=null){d("MWChatReceiptDataQuery").fetch(a,c,function(a){var c=h._("__JHASH__PDJB6VYGeXn__JHASH__");return b({receipt:a,title:c})});return}},[b])}function m(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("PaymentsCometInfomationBottomSheetDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){b({contentType:a.contentType.content_type,orderID:a.orderID,pageID:a.pageID},c("emptyFunction"))},[b])}function n(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("P2MCometAsyncControllerDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){b({contentType:a.actionType.action_type},c("emptyFunction"))},[b])}function o(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("PaymentsCometOffsitePaymentOnboaringDialog.react").__setRef("MWChatXmaThirdPartyActionHandler"),void 0,{baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}}),b=a[0];return j(function(a){b({orderID:a.orderID},c("emptyFunction"))},[b])}function p(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("PaymentsCometBankSlipDetailsPanelDialog.react").__setRef("MWChatXmaThirdPartyActionHandler"),void 0,{baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}}),b=a[0];return j(function(a){b({orderID:a.orderID},c("emptyFunction"))},[b])}function q(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWBuyerShippingAddressRoot.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0],e=d("CometRelay").useRelayEnvironment();return j(function(a){c("CustomerInformationTemplateFalcoEvent").log(function(){return{consumer_id:a.actorId,event_type:"mw_xma_click",form_id:a.eeMessageId,page_id:a.pageId}});var f=d("CometRelay").loadQuery(e,c("MWBuyerShippingAddressRootQuery"),{id:a.pageId});b({actorId:a.actorId,eeMessageId:a.eeMessageId,initialQueryRef:f,messageId:a.messageId,pageId:a.pageId},function(){f.dispose()})},[e,b])}function r(){var a=d("CometRelay").useRelayEnvironment();return j(function(b){var e={environment:a};b=c("commitWorkplaceChatBotSubmitFeedbackMutation")({action_content_blob:b.feedbackActionContentBlob,config:e});e=b.then(function(){d("cometPushToast").cometPushSimpleToast("Feedback submitted!",2e3)},function(){d("cometPushToast").cometPushSimpleToast("Error in submitting feedback!",2e3)});c("promiseDone")(e)},[a])}var s=c("JSResourceForInteraction")("MWChatCustomerFeedbackDialog.react").__setRef("MWChatXmaThirdPartyActionHandler");function t(){var a=c("useMWXLazyDialog")(s),b=a[0],e=d("CometRelay").useRelayEnvironment();return j(function(a){var c=a.feedbackFormId;d("MWChatCustomerFeedbackStateQuery").fetch(c,e,function(a){a!=null&&d("MWChatCustomerFeedbackFormDataQuery").fetch(c,e,function(c){c!=null&&b({firstScreen:c.firstScreen,formId:c.formId,pageId:c.pageId,privacy:c.privacy,state:a})})})},[e,b])}function u(){var a=c("useMWXLazyDialog")(s),b=a[0],e=d("CometRelay").useRelayEnvironment();return j(function(a){var c=a.firstScreen,f=a.formId,g=a.pageId,h=a.privacy;d("MWChatCustomerFeedbackStateQuery").fetch(f,e,function(a){return b({firstScreen:c,formId:f,pageId:g,privacy:h,state:a})})},[e,b])}function v(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatPIIFormDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0],e=d("CometRelay").useRelayEnvironment();return j(function(a){var c=a.ctaType,f=a.nuxData;a=a.piiForm;var g=a.color,h=a.currentIndex,i=a.firstScreen,j=a.formId,k=a.numScreens,l=a.pageId;d("MWChatPIIFormStateQuery").fetch(j,e,function(a){if(k>1){d("MWChatPIIFormScreenQuery").fetch(j,l,1,e,function(d){return b({color:g,ctaType:c,currentIndex:h,firstScreen:i,formId:j,numScreens:k,nuxData:f,pageId:l,secondScreen:d,state:a})});return}else return b({color:g,ctaType:c,currentIndex:h,firstScreen:i,formId:j,numScreens:k,nuxData:f,pageId:l,secondScreen:void 0,state:a})})},[e,b])}function w(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWInboxUrlWebviewDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(){var a=h._("__JHASH__HFLlRGYwWh7__JHASH__").toString();b({htmlBlob:a})},[b])}function x(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MessengerCometBookingDetailsModal.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({pageID:a.pageId,requestID:a.requestId})},[b])}function y(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatLiveLocationDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({})},[b])}function z(){var a=c("useMWLSOpenStaticLocationDialog.react")();return j(function(b){return a(b.msgId)},[a])}function A(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatBusinessBoardingPassDetail.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({boardingPassDetail:a})},[b])}function B(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatBusinessItineraryDetail.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({itineraryPayload:a})},[b])}function C(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatBusinessMessengerExtension.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({actionLink:a.actionLink,pageID:a.pageID,threadID:a.pageID,userID:a.userID},c("emptyFunction"))},[b])}function D(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatRichWidgetExtension.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({actionLink:a.actionLink,pageID:a.pageID},c("emptyFunction"))},[b])}function E(a){return j(function(b){k.onReady(function(a){return a.logClick({component:"start_call_button",surface:"admin_message"})});return a(b.hasVideo,b.threadId,b.trigger)},[a])}function F(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatGuestChatHistoryModal.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({guestID:a.guestId,pageID:a.pageId})},[b])}function G(){return j(function(a){if(b("cr:11076")!=null)return b("cr:11076").$$process(a.ctaId,a.messageId)},[])}function H(a){d("Popup").open(a,1024,500)}function I(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometJoinRoomFromPortalDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({linkUrl:a.linkUrl})},[b])}function J(){var a=c("useAsyncReStore")();return j(function(d,e,f){c("promiseDone")(a.then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield c("LSMarkAsXStoredProcedure")(c("LSFactory")(a),{ctaId:d,ctaType:e,orderId:f})});return function(b){return a.apply(this,arguments)}}(),"readwrite")});return function(b){return a.apply(this,arguments)}}()))},[a])}function K(){var a=c("useCometDynamicEntryPointDialog")(c("MarketplaceCometReviewOffersDialog.entrypoint"));return j(function(b){return a({listingId:b},{})},[a])}function L(){var a=c("useCometDynamicEntryPointDialog")(c("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"));return j(function(b){return a({threadId:b},{})},[a])}function M(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWInformationalDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(){return b({body:h._("__JHASH__jTsNVv7n_rW__JHASH__"),title:h._("__JHASH__g-wowo_Mm7M__JHASH__")})},[b])}function N(){var a=d("AdsMessengerContext.react").useAdsMessengerContext(),b=a.isMessengerInAds,c=a.showAdsAISurveyModal;return j(function(a){b&&c!=null&&c({surveySessionID:a.survey_session_id})},[b,c])}function a(a,b){var e=l(),f=o(),g=p(),h=u(),i=t(),j=G(),k=v(),s=y(),O=z(),P=x(),Q=A(),R=F(),S=B(),T=C(),U=D(),V=c("useMWP2PPaymentRequestCancelDialog")(),W=c("useP2PPaymentRequestConfirmDialog")(),X=c("useP2PPaymentRequestDeclineDialog")(),Y=c("useMWP2PPaymentTransactionDeclineDialog")(),Z=c("useP2PPaymentMethodAddDialog")(),$=d("MWP2PPaymentTransactionInformationVerify").useP2PPaymentTransactionInformationVerify(),aa=E(b),ba=c("useMakeRoomRingback")(),ca=I(),da=m(),ea=n(),fa=r(),ga=c("useMWLSShowMemberRequest")(),ha=c("useMWLSShowPendingPost")(),ia=c("useMWLSShowCheckout")(),ja=c("useMWLSShowECPCheckout")(),ka=c("useMWLSShowPaymentDetails")(),la=c("useMWLSShowOrderDetails")(),ma=J(),na=c("useMWLSShowAttachBankSlip")(),oa=c("useMWLSShowOffsiteBankTransfer")(),pa=q(),qa=c("useMWLSMarketplaceXmaCtaHandler")(),ra=K(),sa=L(),ta=c("useMWChatShowPIIForm")(),ua=w(),va=M(),wa=c("useServicesConfirmAppointmentBookingMutation")(),xa=N();return function(b){if(b.NAME==="P2PPaymentTransactionInformationVerify")return $(b.VAL);if(b.NAME==="P2PPaymentTransactionDecline")return Y(b.VAL.id);if(b.NAME==="MakeWorkJoinableCallInvite"||b.NAME==="MakeRoomRingback")return ba(b.VAL);if(b.NAME==="P2MCheckout"){var d=b.VAL;return c("gkx")("4214")?ja(d.orderID,d.pageID):ia(d.orderID,d.pageID)}if(b.NAME==="ShowCustomerFeedback")return h(b.VAL);if(b.NAME==="P2MInformationalMessageBottomSheet"){d=(d=b.VAL.contentType)==null?void 0:d.content_type;if(d==="payment_detection_merchant_slip_validation")return f(b.VAL);else if(d==="payment_detection_merchant_bank_account_verified_details")return g(b.VAL);return da(b.VAL)}if(b.NAME==="P2MAsyncControllerDialog")return ea(b.VAL);if(b.NAME==="WorkplaceChatBotSubmitFeedback")return fa(b.VAL);if(b.NAME==="P2PPaymentRequestCancel")return V(b.VAL.id);if(b.NAME==="SendImagePostback"){d=b.VAL;var l=d.loggingDetails;l!=null&&c("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent").log(function(){return{consumer_id:l.consumer_id,event_data:{ad_id:l.ad_id,cta:"button",index:String(l.index)},event_location:"unknown",page_id:l.page_id}});return a(d.message,d.platformToken,d.image)}if(b.NAME==="ShowMessengerExtensions")return T(b.VAL);if(b.NAME==="OpenAccountLink")return j(b.VAL);if(b.NAME==="ShowPIIForm")return ta(b.VAL);if(b.NAME==="P2MOffsiteBankTransferCTA")return oa(b.VAL.orderID);if(b.NAME==="P2PPaymentTransactionReceiveMoney")return Z(b.VAL.id);if(b.NAME==="ShowBoardingPass")return Q(b.VAL);if(b.NAME==="P2MOrderDetails")return la(b.VAL.orderID);if(b.NAME==="P2MMarkAsPaid"||b.NAME==="P2MMarkAsShipped"||b.NAME==="P2MMarkAsReceived")return ma(b.VAL.ctaId,b.VAL.ctaType,b.VAL.orderID);if(b.NAME==="ShowStaticLocationDetails")return O(b.VAL);if(b.NAME==="P2PPaymentTransactionDetails")return ka(b.VAL.id);if(b.NAME==="P2PPaymentRequestDecline")return X(b.VAL.id);if(b.NAME==="ShowBookingDetails")return P(b.VAL);if(b.NAME==="ShowOrderConfirmation")return e(b.VAL);if(b.NAME==="ShowCustomerFeedbackForm")return i(b.VAL);if(b.NAME==="ShowMessengerRichWidgetExtension")return U(b.VAL);if(b.NAME==="ShowItinerary")return S(b.VAL);if(b.NAME==="OpenAccountLinkUrl")return H(b.VAL);if(b.NAME==="MakeJoinRoomFromPortal")return ca(b.VAL);if(b.NAME==="P2MAttachBankSlip")return na(b.VAL.orderID);if(b.NAME==="BuyerShippingAddress")return pa(b.VAL);if(b.NAME==="AdmodChatsShowPendingPost"){d=b.VAL;return ha(d.targetId,d.groupId,d.authorId,d.postId,d.activityLogItemId)}if(b.NAME==="P2PPaymentRequestConfirm")return W(b.VAL.id);if(b.NAME==="MakeRtcCall")return aa(b.VAL);if(b.NAME==="ProcessMarketplaceCallFunction"){d=b.VAL;var m=d.actionType,n=d.attachmentFbid,o=d.messageId;d=d.targetId;return qa(o,n,d,m)}if(b.NAME==="ShowPIIFormForFormBuilder")return k(b.VAL);if(b.NAME==="ShowLiveLocationDetails")return s(b.VAL);if(b.NAME==="AdmodChatsShowMemberRequest"){o=b.VAL;return ga(o.targetId,o.groupId,o.profileId,o.activityLogItemId)}if(b.NAME==="ShowGuestChatHistory")return R(b.VAL);if(b.NAME==="ShowInThreadFormDetails")return ua();if(b.NAME==="ShowPhoneVerificationDialog")return va();if(b.NAME==="ConfirmAppointmentBooking")return wa(b.VAL.requestID);if(b.NAME==="OpenMarketplaceDialog"){n=b.VAL;d=n.ctaType;m=n.listingId;o=n.threadId;switch(d){case"SHIPPED_DECLINED_OFFER_SEND_ANOTHER_PRICE":case"SHIPPED_EXPIRED_OFFER_SEND_ANOTHER_PRICE":if(o!=null)return sa(o);else return;case"SHIPPED_OFFER_CANCEL":if(m!=null)return ra(m);else return;default:return}}if(b.NAME==="ShowAdsAISurveyModal")return xa(b.VAL)}}e=a;g.useHandler=e}),226);
__d("MWClickedMessageContext.react",["GroupsCometChatsEngagementLogger","I64","LSFactory","LSFetchMessageSeenCountStoredProcedure","emptyFunction","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;e=b.createContext;var l=b.useCallback,m=b.useContext,n=b.useMemo,o=b.useState,p=e({clickedMessageId:null,fetchMessageSeenCount:c("emptyFunction"),hasError:!1,isLoading:!1,setClickedMessageId:c("emptyFunction")});function a(a){a=a.children;var b=o(null),e=b[0],g=b[1];b=o(!1);var j=b[0],m=b[1];b=o(!1);var q=b[0],r=b[1],s=(h||(h=c("useReStore")))(),t=l(function(a,b,e){r(!0),g(b),s.runInTransaction(function(d){return c("LSFetchMessageSeenCountStoredProcedure")(c("LSFactory")(d),{messageId:b,threadKey:a})},"readwrite",void 0,void 0,f.id+":53").then(function(){r(!1),m(!1),d("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:{mid:b},community_id:e?(i||(i=d("I64"))).to_string(e.folderId):null,event:"seen_count_rendered",group_id:e?(i||(i=d("I64"))).to_string(e.fbGroupId):null,source:"message_bubble",surface:"thread_view",thread_id:(i||(i=d("I64"))).to_string(a)})})["catch"](function(){r(!1),m(!0)})},[s]);b=n(function(){return{clickedMessageId:e,fetchMessageSeenCount:t,hasError:j,isLoading:q,setClickedMessageId:g}},[e,t,j,q]);return k.jsx(p.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";b={Provider:a,useHook:function(){return m(p)}};g["default"]=b}),98);
__d("MWCombineThemeConfigs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{dark:Object.assign(a.dark,b.dark),light:Object.assign(a.light,b.light),type:b.type}}f.combine=a}),66);
__d("MWEditedEyebrowLabel.react",["fbt","BaseMiddot.react","MessengerWebUXLogger","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.hasSeparator;a=a.xstyle;var e=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"edit_eyebrow_impression"}),f=h._("__JHASH__Mh0-kan22Pe__JHASH__");return j.jsxs(j.Fragment,{children:[b&&j.jsx(d("react-strict-dom").html.span,{style:a,children:j.jsx(c("BaseMiddot.react"),{})}),j.jsx(d("react-strict-dom").html.span,{"aria-label":f,"data-testid":void 0,ref:e,children:f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWMessageEditContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;var j=c.useContext,k=c.useMemo,l=c.useState,m={setShowEdits:function(){},showEdits:!1},n=i.createContext();function a(a){var b=a.children;a=a.value;a=a===void 0?m:a;a=l((a=a==null?void 0:a.showEdits)!=null?a:!1);var c=a[0],d=a[1];a=k(function(){return{setShowEdits:d,showEdits:c}},[c]);return i.jsx(n.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(n)}g.MWMessageEditContextProvider=a;g.useMWMessageEditContext=b}),98);
__d("isEditMessageHistoryEnabledForIGD",["isInstamadillo","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("isInstamadillo")()||c("qex")._("833")===!0}g["default"]=a}),98);
__d("MWEditedEyebrow.react",["fbt","BaseMiddot.react","IGDWebUtils","LSMessagingThreadTypeUtil","MWEditedEyebrowLabel.react","MWMessageEditContext.react","MWXLink.react","MWXTooltip.react","MessengerWebUXLogger","QPLUserFlow","isEditMessageHistoryEnabledForIGD","qex","qpl","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b=a.hasSeparator;a=a.xstyle;var e=c("MessengerWebUXLogger").useInteractionLogger(),f=d("MWMessageEditContext.react").useMWMessageEditContext()||{setShowEdits:function(a){},showEdits:!1},g=f.setShowEdits,i=f.showEdits;function k(){i||(c("QPLUserFlow").start(c("qpl")._(1056849214,"1777")),e==null?void 0:e({eventName:"edit_message_history"})),g(!i)}f=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"edit_eyebrow_impression"});var l=i?h._("__JHASH__WqoEC9S0Sry__JHASH__"):h._("__JHASH__3fxL6sM27ni__JHASH__"),m=i?h._("__JHASH__WqoEC9S0Sry__JHASH__"):h._("__JHASH__0I22sJ_f1hm__JHASH__");return j.jsxs(j.Fragment,{children:[b&&j.jsx(d("react-strict-dom").html.span,{style:a,children:j.jsx(c("BaseMiddot.react"),{})}),j.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,label:m,position:"above",tooltip:m,children:j.jsx(c("MWXLink.react"),{"aria-label":l,color:d("IGDWebUtils").isOnInstagramWeb()?"highlight":"blueLink",onClick:k,ref:f,weight:"medium",children:j.jsxs(d("react-strict-dom").html.span,{"data-testid":void 0,children:[l," "]})})})]})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.enableEditHistory;b=b===void 0?!0:b;var e=a.hasSeparator,f=a.threadType;a=a.xstyle;f=f!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(f);var g=c("isEditMessageHistoryEnabledForIGD")();f=b&&!f&&((b=c("qex")._("22"))!=null?b:!1)||f&&((b=c("qex")._("1507"))!=null?b:!1);return g||f?j.jsx(k,{hasSeparator:e,xstyle:a}):j.jsx(c("MWEditedEyebrowLabel.react"),{hasSeparator:e,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";g.MWEditedEyebrowWithHistory=k;g.MWEditedEyebrow=a}),226);
__d("MWFIlePressableDirectDownload.react",["MWXPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.onPress,e=a.url;a=a.xstyle;return i.jsx(c("MWXPressable.react"),{children:b,display:"inline",linkProps:e!=null?{download:!0,target:"_blank",url:e}:void 0,onPress:d,overlayDisabled:!0,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";g.MWFilePressableDirectDownload=a}),98);
__d("MessengerFilePreviewGenerationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("606");b=d("FalcoLoggerInternal").create("messenger_file_preview_generation",a);e=b;g["default"]=e}),98);
__d("MWFileViewerLogger",["I64","LSIntEnum","MessengerFilePreviewGenerationFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function b(){var b=function(){return Array.from((a.crypto||a.msCrypto).getRandomValues(new Uint32Array(2)))};return(h||(h=d("I64"))).to_string(b())}var j=c("gkx")("24035");function k(a,b){if(j){var e=b.attachment;return c("MessengerFilePreviewGenerationFalcoEvent").log(function(){return{attachment_id:b.attachmentID,entry_point:b.entryPoint,event:a,filesize:e!=null&&e.filesize!=null?(h||(h=d("I64"))).to_string(e.filesize):void 0,filetype:e==null?void 0:e.playableUrlMimeType,message_id:b.messageID.messageId,session_id:b.sessionId,thread_id:(h||(h=d("I64"))).to_string(b.thread.threadKey),thread_type:(i||(i=d("LSIntEnum"))).unwrapIntEnum(b.thread.threadType)}})}}function e(a){return k("file_viewer_direct_download",a)}g.generateSessionId=b;g.logFileViewerDirectDownload=e}),98);
__d("useMWFileOnPress",["MWFileViewerLogger","ReQL","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(a,e,f,g,i){var k=(h||(h=c("useReStore")))();return j(function(h){f==null?void 0:f(h),c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b,c=(yield (b=d("ReQL")).firstAsync(b.fromTableAscending(k.tables.threads).getKeyRange(a.threadId)));b=(yield b.firstAsync(b.fromTableAscending(k.tables.attachments).getKeyRange(a.threadId,a.messageId)));if(c){b={attachment:b,attachmentID:e,entryPoint:g,messageID:a,sessionId:i,thread:c};d("MWFileViewerLogger").logFileViewerDirectDownload(b)}})())},[f,k,a,e,g,i])}g["default"]=a}),98);
__d("MWFilePressable.react",["CometErrorBoundary.react","ConstUriUtils","FBLogger","MWFIlePressableDirectDownload.react","MWFileViewerLogger","goUriOnNewWindow","react","useMWFileOnPress"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachmentID,c=a.children,e=a.entryPoint,f=a.messageID,g=a.onPress,h=a.url;a=a.xstyle;return f!=null&&f.type==="sent"&&b!=null&&h!=null?i.jsx(j,{attachmentID:b,children:c,entryPoint:e,onPress:g,sentMessage:f.value,url:h,xstyle:a}):i.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:c,onPress:g,url:h,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";function j(a){var b=a.attachmentID,e=a.children,f=a.entryPoint,g=a.onPress,h=a.sentMessage,j=a.url;a=a.xstyle;var k=d("MWFileViewerLogger").generateSessionId();h=c("useMWFileOnPress")(h,b,g,f,k);return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},onError:function(a){a=a?a.message:"Cannot open file viewer";c("FBLogger")("messenger_web_media","cannot_load_entry_point").mustfix(a);a=d("ConstUriUtils").getUri(j);a!=null&&c("goUriOnNewWindow")(a)},children:i.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:e,onPress:h,url:j,xstyle:a})})}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSImagePostbackCtaHandler",["ActorURI","I64","LSFactory","LSInsertNewMediaSendStoredProcedure","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMailboxType","LSMarkSubJobCompletedV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSResumeMediaSendJobStoredProcedure","LSShape","LSThreadAttributionTypeUtil","LSVec","MWPActor.react","MWThreadKey.react","MercuryConfig","MercuryLocalIDs","MessagePowerUp","MessagingAttachmentType","Promise","URI","cr:6057","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n=(k||d("react")).useMemo;function o(a,e,f,g,h,i,k){var n=d("MercuryLocalIDs").generateOfflineThreadingID();return c("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure")(c("LSFactory")(a),{attachments:c("LSVec").ofArray([d("LSShape").ofRecord({action_url:void 0,attachment_fbid:n,attachment_index:(l||(l=d("I64"))).zero,attachment_type:(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE),cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:"postback image.jpg",filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:n,original_file_hash:void 0,playable_duration_ms:void 0,playable_url:void 0,playable_url_mime_type:void 0,preview_height:void 0,preview_url:g,preview_url_mime_type:"image/jpeg ",preview_width:void 0,source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0})]),replySourceType:m.ofNumber(c("LSMessageReplySourceType").NONE),replySourceTypeV2:m.ofNumber(c("LSMessageReplySourceTypeV2").NONE),senderId:e,snippetHasEmoji:!1,threadKey:f,threadType:m.ofNumber(1)}).then(function(c){var e=c[0];return a.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:void 0,markThreadRead:!0,messageId:void 0,offlineThreadingId:e,platformRef:void 0,platformToken:h,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(l||(l=d("I64"))).of_string(e),threadAttributionSource:i,threadKey:f}).then(function(){return(j||(j=b("Promise"))).resolve([e,n])})})}function a(a,e){var g=(h||(h=c("useReStore")))(),k=d("MWPActor.react").useActor(),p=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return n(function(){return function(h,n,q){var r=(l||(l=d("I64"))).to_string(k),s=function(a){var e=a[1],h=a[0];c("promiseDone")(window.fetch(q).then(function(a){return a.blob()}).then(function(a){return b("cr:6057").load().then(function(b){return{XComposerPhotoUploader:b,blob:a}})}).then(function(a){var k=a.XComposerPhotoUploader;a=a.blob;k=new k({concurrentLimit:3,onUploadFailure:function(a,b){return!0},onUploadProgress:function(a,b){},onUploadStart:function(a){c("promiseDone")(g.runInTransaction(function(a){return c("LSInsertNewMediaSendStoredProcedure")(c("LSFactory")(a),{attachmentType:(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE),inMessageIndex:(l||(l=d("I64"))).zero,isSecure:!1,offlineAttachmentId:e,offlineThreadingId:h,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1})},"readwrite",void 0,void 0,f.id+":157"))},onUploadSuccess:function(a,b){a=b.response.payload.metadata[0];var i=a.image_id;if(i==null)return;c("promiseDone")(g.runInTransaction(function(a){return c("LSMarkSubJobCompletedV2StoredProcedure")(c("LSFactory")(a),{fbid:(l||(l=d("I64"))).of_string(i.toString()),offlineAttachmentId:e}).then(function(){return c("LSResumeMediaSendJobStoredProcedure")(c("LSFactory")(a),{jobId:h,pluginType:(l||(l=d("I64"))).zero})})},"readwrite",void 0,void 0,f.id+":182"))},retryLimit:1,uploadEndpoint:d("ActorURI").create(new(i||(i=c("URI")))(c("MercuryConfig").upload_url),r)});k.getAsyncUploadRequest([new File([a],"postback image.jpg",{type:"image/jpeg"})]).send();return(j||(j=b("Promise"))).resolve()}))},t=d("LSThreadAttributionTypeUtil").getSource(p,a);c("promiseDone")(g.runInTransaction(function(a){return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(a),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:(a=e)!=null?a:void 0,mark_read:!0,power_up_style:(m||(m=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_type:m.ofNumber(c("LSMessageReplySourceType").NONE),reply_source_type_v2:m.ofNumber(c("LSMessageReplySourceTypeV2").NONE),snippet_has_emoji:!1,source:t}),mailboxType:m.ofNumber(c("LSMailboxType").MESSENGER),senderId:k,snippet:h,text:h,threadKey:p,threadType:m.ofNumber(1)})},"readwrite",void 0,void 0,f.id+":225").then(function(a){return g.runInTransaction(function(a){return o(a,k,p,q,n,t,e).then(function(a){s(a)})},"readwrite",void 0,void 0,f.id+":255")}))}},[g,k,p])}g.usePostbackCtaHandler=a}),98);
__d("MWLSPostbackCtaHandler",["Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWPActor.react","MWThreadKey.react","MessagePowerUp","promiseDone","useLSMessagingInitiatingSource","useLSMessagingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=(i||(i=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g=c("useLSMessagingInitiatingSource")(),j=c("useLSMessagingSource")();return d("Int64Hooks").useCallbackInt64(function(i,k){var l=d("LSThreadAttributionTypeUtil").getSource(e,j);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(a),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:(a=g)!=null?a:void 0,mark_read:!0,platform_token:i,power_up_style:(h||(h=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_type:h.ofNumber(c("LSMessageReplySourceType").NONE),reply_source_type_v2:h.ofNumber(c("LSMessageReplySourceTypeV2").NONE),snippet_has_emoji:!1,source:l}),mailboxType:h.ofNumber(c("LSMailboxType").MESSENGER),senderId:b,snippet:k,text:k,threadKey:e,threadType:h.ofNumber(1)})},"readwrite",void 0,void 0,f.id+":43"))},[a,j,g,b,e])}g.usePostbackCtaHandler=a}),98);
__d("MWLSWebUrlCtaHandler",["JSResourceForInteraction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWInboxUrlWebviewDialog.react").__setRef("MWLSWebUrlCtaHandler")),b=a[0];return i(function(a){return b({htmlBlob:a},function(){})},[b])}g.useShowWebViewDialog=a}),98);
__d("MWMessageCellKeyCommands.react",["CometComponentWithKeyCommands.react","MWV2MessageRowActionsContext.react","cometGetKeyCommandConfig","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo;function a(a){var b=a.children;a.message;a=b;b=d("MWV2MessageRowActionsContext.react").useMessageRowActionsContext();var e=b.forwardMessage,f=b.openReactionsMenu,g=b.removeMessage,h=b.replyToMessage,l=j(function(){return f.current()},[f]),m=j(function(){return h.current()},[h]),n=j(function(){return e.current()},[e]),o=j(function(){return g.current()},[g]);b=k(function(){var a,b=[],c=(a=d("cometGetKeyCommandConfig")).getCometAndGeminiKeyCommandConfig("chats","likeMessage",l);b.push(c);c=a.getCometAndGeminiKeyCommandConfig("chats","replyToMessage",m);b.push(c);c=a.getCometAndGeminiKeyCommandConfig("chats","forwardMessage",n);b.push(c);c=a.getCometAndGeminiKeyCommandConfig("chats","removeMessage",o);b.push(c);return b},[l,m,n,o]);return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:b,xstyle:!1,children:a})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.keyCommands=e}),98);
__d("MWMessageDeliverySentTimestamp",["fbt","I64"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("I64"))).of_int32(60),k=i.of_int32(60*60),l=i.of_int32(24*60*60),m=i.of_int32(7*24*60*60);function a(a,b){b=(i||(i=d("I64"))).of_float(b.getTime()/1e3);a=i.div(a,i.of_int32(1e3));b=i.sub(b,a);a=h._("__JHASH__FdnMQ3ayYbi__JHASH__");if((i||(i=d("I64"))).lt(b,j))return a;else if((i||(i=d("I64"))).lt(b,k)){var c=(i||(i=d("I64"))).to_string(i.div(b,j));return h._("__JHASH__wurNpoApU1z__JHASH__",[h._param("minutes",c)])}else if((i||(i=d("I64"))).lt(b,l)){c=(i||(i=d("I64"))).to_string(i.div(b,k));return h._("__JHASH__Og6TIDKGh51__JHASH__",[h._param("hours",c)])}else if((i||(i=d("I64"))).lt(b,m)){c=(i||(i=d("I64"))).to_string(i.div(b,l));return h._("__JHASH___ys48wQwNKi__JHASH__",[h._param("days",c)])}else return a}g.getSentTitleWithTimestamp=a}),226);
__d("MWMessageDeliveryStatus",["fbt","I64","LSIntEnum","getFBTSafeGenderFromGenderConst","getMessengerPreciseTimestamp","intlList","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a){if(a.length!==1)return{heads:a,type:"MultipleSeenHeads"};a=a[0];return{head:a,type:"SingleSeenHead"}}function b(a,b){return{delivered:b,heads:a,type:"DeliveredAndRead"}}function e(a){return{count:a,type:"SeenCount"}}function k(a){return a.timestamp>0?h._("__JHASH__i65FoHjBJBT__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender)),h._param("seen time",c("getMessengerPreciseTimestamp")(a.timestamp))]):h._("__JHASH__o0y2JESDXU1__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))])}function l(a,b){if(a.length===0)return"";if(b)return h._("__JHASH__xJFzJjmgrii__JHASH__").toString();b=a.map(function(a){return h._("__JHASH__anoMlIo0TA0__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))])});a=c("intlList")(b,c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA);return h._("__JHASH__rtgGiNEWfHK__JHASH__",[h._param("full name",a)]).toString()}function m(a){a=c("intlSummarizeNumber")(a);return h._("__JHASH___KIWePVuuHb__JHASH__",[h._param("seen count",a)]).toString()}var n={delivered:h._("__JHASH__DGTdcv4yxEO__JHASH__"),error:h._("__JHASH__HWY7OcPbAjW__JHASH__"),loading:h._("__JHASH__ge1hq8iGlfw__JHASH__"),retriableError:h._("__JHASH__VG5ajSXV9DG__JHASH__"),sending:h._("__JHASH__-KPam8KdjJ8__JHASH__"),sent:h._("__JHASH__FdnMQ3ayYbi__JHASH__")};function f(a){switch(a.type){case"Sending":return n.sending;case"Sent":case"Delivered":return n.sent;case"Error":return n.error;case"SingleSeenHead":return k(a.head);case"NoneStatus":case"MultipleSeenHeads":return"";case"DeliveredAndRead":return l(a.heads,a.delivered);case"SeenCount":return m(a.count);case"Loading":return n.loading;case"RetriableError":return n.retriableError}}function o(a){switch(a.type){case"Sending":return n.sending;case"Sent":return n.sent;case"Delivered":return n.delivered;case"Error":return n.error;case"SingleSeenHead":return k(a.head);case"DeliveredAndRead":return l(a.heads,a.delivered);default:return""}}function p(a){if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(1)))return{type:"Sending"};else if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(2))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(6)))return{type:"Sent"};else if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(4))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(5)))return{type:"Error"};else return{type:"NoneStatus"}}function q(a,b,c){var e=p(a.sendStatusV2);if((i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(4))||(i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(5))||(i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(1)))return e;else if(!c&&(i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(2)))return{type:"NoneStatus"};else if((i||(i=d("I64"))).ge(b,a.timestampMs))return{type:"Delivered"};else return e}function r(a){return["SingleSeenHead","Sending","MultipleSeenHeads","Error"].includes(a.type)}g.seenHead=a;g.deliveredAndRead=b;g.seenCount=e;g.getSingleSeenHead=k;g.getSeenCount=m;g.Titles=n;g.getBroadcastStatusTitle=f;g.getStatusTitle=o;g.getFromSendStatus=p;g.getDeliveryStatusForMessageSentByYou=q;g.isAlwaysShownStatus=r}),226);
__d("MWMessageDisplayContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=i.createContext();function a(a){var b=a.children;a=a.value;a=a===void 0?"standard":a;return i.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.MWMessageDisplayContextProvider=a;g.useMWMessageDisplayContext=b}),98);
__d("MWMessageListMediaPressableContainer.react",["I64","LSIntEnum","LSMediaUrlAttachment","MWPThreadCapabilitiesContext","MWXPressable.react","MessagingAttachmentType","cr:4509","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var e=a.allowClickEventPropagation,f=a.ariaLabel,g=a.attachment,h=a.children,l=a.disabled,m=a.linkProps_,n=a.onHoverIn,o=a.onPress,p=a.overlayDisabled;p=p===void 0?!1:p;var q=a.testid;q=a.xstyle;a=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();a=a.blurMediaEnabled;a=c("gkx")("24098")&&a;var r=(i||(i=d("I64"))).equal(g.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)),s=i.equal(g.attachmentType,j.ofNumber(c("MessagingAttachmentType").VIDEO)),t=r?"Image":s?"Video":"Media";return b("cr:4509")!=null&&(r||s)&&a?k.jsx(b("cr:4509"),{ariaLabel:f,disabled:l,linkProps:m,mediaType:t,onPress:o,overlayDisabled:p,testid:void 0,type:s?"video":"image",url:d("LSMediaUrlAttachment").previewUrl(g),xstyle:q,children:h}):k.jsx(c("MWXPressable.react"),{allowClickEventPropagation:e,"aria-label":f,disabled:l,linkProps:m,onHoverIn:n,onPress:function(){return o()},overlayDisabled:p,testid:void 0,xstyle:q,children:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPStableImage.react",["CometObjectFitContainer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useMemo,l={image:{display:"x1lliihq",height:"xt7dq6l",maxWidth:"x193iq5w",width:"x14atkfc",$$css:!0},imageFill:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function m(a){var b=a.alt,d=a.aspectRatio,e=a.maxHeight,f=a.onError,g=a.onLoad;a=a.src;var i=k(function(){return{display:"block",maxHeight:e.toString()+"px",maxWidth:"100%"}},[e]);b=j.jsx("img",{alt:b,className:(h||(h=c("stylex")))(l.image,d==null?!1:l.imageFill),onError:f,onLoad:g,src:a,style:i});if(d!=null)return j.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:d,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:b});else return b}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.aspectRatio,c=a.children,d=a.className,e=a.height,f=a.maxHeight,g=a.maxWidth;a.width;c=(a=c)!=null?a:null;a=k(function(){if(b!=null&&e!=null)return{maxWidth:"100%",width:(b*Math.min(f,e)).toString()+"px"}},[b,e,f]);var h=k(function(){if(g!=null)return{maxWidth:g.toString()+"px"}},[g]);return j.jsx("div",{className:"x193iq5w",children:j.jsx("div",{style:h,children:j.jsx("div",{className:d,style:a,children:c})})})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.alt,c=a.children,d=a.className,e=a.height,f=a.maxHeight,g=a.maxWidth,h=a.onError,i=a.onLoad,k=a.src;a=a.width;var l=a!=null&&e!=null?a/e:void 0;return j.jsxs(n,{aspectRatio:l,className:d,height:e,maxHeight:f,maxWidth:g,width:a,children:[j.jsx(m,{alt:b,aspectRatio:l,maxHeight:f,onError:h,onLoad:i,src:k}),c]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPStableImageContainer=n;g.MWPStableImage=a}),98);
__d("MWV2ComposerMediaProgressBar.react",["MWPColorUtils","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.height;a=a.mediaStaging;var e=c("useMWPThreadTheme")();e=e.threadTheme;e=a.hasError?"var(--negative)":d("MWPColorUtils").int64ToHex(e.fallbackColor);var f=Math.ceil(a.progress*100),g=(b/2).toString();g="M 0,"+g+" L 100,"+g;return a.progress===1?null:i.jsxs("svg",{"aria-hidden":!0,className:"x1ey2m1c x10l6tqk x17qophe xh8yej3",preserveAspectRatio:"none",style:{height:b.toString()},viewBox:"0 0 100 "+b.toString(),children:[i.jsx("path",{d:g,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:b.toString()}),i.jsx("path",{d:g,stroke:e,strokeLinecap:"round",strokeWidth:(f===0?0:b).toString(),style:{strokeDasharray:"100",strokeDashoffset:(100-f|0).toString(),transition:"stroke-dashoffset .5s, stroke .5s"}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AttachmentProgressBar.react",["MWV2ComposerMediaProgressBar.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.attachment.offlineAttachmentId,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return b!=null?d("ReQL").fromTableAscending(e.tables.media_staging).getKeyRange(b):d("ReQL").empty()},[b],f.id+":24");return a!=null&&a.isSent?j.jsx(c("MWV2ComposerMediaProgressBar.react"),{height:5,mediaStaging:a}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWMessageListAttachmentDimensions",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b){return i(function(){var c=b.previewWidthLarge,d=b.previewHeightLarge;return c!=null&&d!=null&&a==="Inbox"?[c,d]:[b.previewWidth,b.previewHeight]},[a,b])}g["default"]=a}),98);
__d("useMWV2FocusRowAfterClosingPushView",["MWV2MessageRowIsRowFocusedContext.react","react","useCometRouterState","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useLayoutEffect;function a(){var a=i(d("MWV2MessageRowIsRowFocusedContext.react").context),b=a.isDialogOpened,e=a.setIsDialogOpened,f=a.setFocused;a=c("useCometRouterState")();var g;if(a==null)g=0;else{a=a.pushViewStack;g=a==null?0:a.length}var h=c("usePrevious")(g);j(function(){if(h!=null){b===!0&&h>0&&g===0&&(e(function(){return!1}),f(function(){return!0}));return}},[b,h,g]);return e}g["default"]=a}),98);
__d("MWV2MediaViewerFallback.react",["fbt","MWV2MediaViewerContainer.react","MWXCircleButton.react","MWXIconCross","MWXRow.react","MWXRowItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.onClose;a=a.shouldShowMessengerLogo;return j.jsx(c("MWV2MediaViewerContainer.react"),{actions:j.jsx(c("MWXRow.react"),{paddingTop:0,spacing:8,children:j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{color:"white",icon:c("MWXIconCross"),label:h._("__JHASH__tnRfHlva-bL__JHASH__"),onPress:b,size:36,type:"dark-overlay"})})}),shouldShowMessengerLogo:a,children:null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMWV2MediaViewerShowDialog",["JSResourceForInteraction","MWV2MediaViewerFallback.react","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function k(a){return i.jsx(c("MWV2MediaViewerFallback.react"),{onClose:a})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWV2MediaViewer.react").__setRef("useMWV2MediaViewerShowDialog"),k),d=b[0],e=b[1];j(function(){a||e()},[e,a]);return[d,e]}g["default"]=a}),98);
__d("XCometMessengerMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XCometMessengerPhotoControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_photo/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("useMWV2MediaViewerURL",["I64","Int64Hooks","LSIntEnum","MessagingAttachmentType","XCometMessengerMediaControllerRouteBuilder","XCometMessengerPhotoControllerRouteBuilder","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return d("Int64Hooks").useMemoInt64(function(){var b=(h||(h=d("I64"))).equal(a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE));return b&&c("justknobx")._("1284")===!1?c("XCometMessengerPhotoControllerRouteBuilder").buildURL({fbid:a.attachmentFbid,message_id:a.messageId,photo_ids:void 0}):c("XCometMessengerMediaControllerRouteBuilder").buildURL({attachment_id:a.attachmentFbid,message_id:a.messageId,thread_id:h.to_string(a.threadKey)})},[a.threadKey,a.attachmentType,a.messageId,a.attachmentFbid])}g["default"]=a}),98);
__d("MWV2ChatImage.react",["fbt","I64","LSAuthorityLevel","LSIntEnum","MWChatImageInsetShadow.react","MWChatImageStyles","MWInboxInfoSharedContentQPLLogger","MWLSThreadDisplayContext","MWMessageListMediaPressableContainer.react","MWPStableImage.react","MWV2AttachmentProgressBar.react","MWV2LogMessageClick","gkx","qex","react","stylex","useMWMessageListAttachmentDimensions","useMWV2FocusRowAfterClosingPushView","useMWV2MediaViewerShowDialog","useMWV2MediaViewerURL","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||(m=d("react")),o=m.useCallback,p={container:{display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},content:{display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",position:"x1n2onr6",$$css:!0}};function q(a){a=a.attachment;var b=a.attributionAppName;if(b==null)return null;a=a.attributionAppIcon;return n.jsxs("div",{className:"x6s0dn4 x1gn5b1j x230xth x78zum5 x1rfph6h x1iorvi4 xsyo7zv xjkvuk6 x16hj40l",children:[a!=null?n.jsx("img",{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu xlup9mm x1w0mnb x19kjcj4 x1kky2od",role:"presentation",src:a}):null,n.jsx("span",{className:"xzsf02u x1nxh6w3 x13faqbe",children:b})]})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b,e=a.attachment,f=a.connectBottom,g=a.connectTop;a.getPlayableUrl;var m=a.getPreviewUrl,r=a.mediaRenderQpl,s=a.message,t=a.navigateToRouteForMediaViewer,u=a.outgoing;a=a.renderUnsupportedAttachment;var v=o(function(){r==null?void 0:r.endFail("load-image-error")},[r]),w=o(function(){r==null?void 0:r.endSuccess()},[r]),x=(i||(i=c("useReStore")))(),y=(b=t)!=null?b:!0;b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var z=e.attributionAppName!=null,A=c("useMWMessageListAttachmentDimensions")(b,e),B=A[0];A=A[1];var C=c("useMWV2MediaViewerURL")(e);f=d("MWChatImageStyles").calculateBorderStyles(f,g,z,u);g=c("gkx")("23009");var D=c("useMWV2FocusRowAfterClosingPushView")();u=c("useMWV2MediaViewerShowDialog")((z=t)!=null?z:!0);var E=u[0],F=u[1];t=m(e,"MWV2ChatImage",r);if(t==null||t.length===0){r==null?void 0:r.addPoint("empty_preview_url");return a!=null?a(e):null}z=y&&(k||(k=d("I64"))).gt(s.authorityLevel,(l||(l=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?{passthroughProps:{origSrc:t},url:C}:void 0;u=function(){d("MWV2LogMessageClick").log(x,s,28);d("MWInboxInfoSharedContentQPLLogger").logOpenSharedContentFromThread("media");D(function(){return!0});if(!y)return E({attachment:e},function(){})};a=(m=b==="Inbox"?c("qex")._("23"):void 0)!=null?m:200;m=(C=b==="Inbox"?c("qex")._("33"):void 0)!=null?C:480;return n.jsxs(c("MWMessageListMediaPressableContainer.react"),{attachment:e,disabled:(k||(k=d("I64"))).le(s.authorityLevel,(l||(l=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL)),linkProps_:z,onHoverIn:function(){if(!y)return F()},onPress:u,testid:void 0,xstyle:[p.container,f.imageStyles],children:[n.jsx(d("MWPStableImage.react").MWPStableImage,{alt:e.titleText!=null&&g?e.titleText:h._("__JHASH__mrw3CpFXi7r__JHASH__"),className:(j||(j=c("stylex")))(p.content,f.imageStyles),height:A!=null?(k||(k=d("I64"))).to_float(A):void 0,maxHeight:a,maxWidth:m,onError:v,onLoad:w,src:t,width:B!=null?(k||(k=d("I64"))).to_float(B):void 0,children:n.jsx(q,{attachment:e})}),(k||(k=d("I64"))).le(s.authorityLevel,(l||(l=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?n.jsx(c("MWV2AttachmentProgressBar.react"),{attachment:e}):null,n.jsx(c("MWChatImageInsetShadow.react"),{xstyle:f.insetShadowStyles})]},e.attachmentFbid)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWResponsiveVideo.react",["CometObjectFitContainer.react","CometPlaceholder.react","MWLSThreadDisplayContext","MWPThreadCapabilitiesContext","MWXGlimmer.react","deferredLoadComponent","gkx","justknobx","react","requireDeferredForDisplay","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useMemo,l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWChatVideoPlayer.react").__setRef("MWResponsiveVideo.react")),m={glimmer:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},glimmerFallback:{borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",display:"x78zum5",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"xh8yej3",$$css:!0}};function n(a){return[a==="Inbox"?240:180,140]}function a(a){var b=a.autoPlaySetting,e=a.connectTopStyles,f=a.fbid,g=a.height,i=a.maxHeight,o=a.maxWidth,p=a.mediaRenderQpl,q=a.shouldForcePauseOnClick,r=a.src,s=a.width,t=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),u=k(function(){var a=s!=null?g!=null?[s,g]:[500,300]:[500,300];return a[0]/a[1]},[s,g]);a=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();a=a.hasLSThreadBitOffset;var v=c("gkx")("24098")&&a(46);a=k(function(){var a=n(t);if(c("justknobx")._("1704")===!0){var b;b=Math.min((b=s)!=null?b:500,o,i*u).toString()+"px"}else{var d;b=Math.min((d=s)!=null?d:500,o).toString()+"px"}return{maxHeight:i.toString()+"px",minHeight:v?a[1].toString(10)+"px":"",minWidth:v?a[0].toString(10)+"px":"",width:b}},[i,s,o,v,t,u]);return j.jsxs("div",{className:"x193iq5w x11md1zd x450l9j x6ikm8r x10wlt62 x1n2onr6",style:a,children:[j.jsx("div",{className:"x1ey2m1c xds687c x10l6tqk x17qophe x13vifvy x1vjfegm",children:j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx("div",{className:(h||(h=c("stylex")))(m.glimmerFallback,e),children:j.jsx(c("MWXGlimmer.react"),{index:0,xstyle:m.glimmer})}),children:j.jsx(l,{autoPlaySetting:v?"off":b,controls:"mwchat",fbid:f,hideExpandButton:!0,mediaRenderQpl:p,originalHeight:(a=g)!=null?a:300,originalWidth:(e=s)!=null?e:500,sdSrc:r,shouldForcePauseOnClick:q})})}),j.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:u,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:null})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatVideo.react",["fbt","I64","LSAuthorityLevel","LSIntEnum","MWChatImageInsetShadow.react","MWLSThreadDisplayContext","MWMessageListMediaPressableContainer.react","MWResponsiveVideo.react","MWV2AttachmentProgressBar.react","MWV2LogMessageClick","MWVideoPlayerControllerContext.react","MWXGlimmer.react","MWXMessageBubbleCornerStyles.react","react","recoverableViolation","useCometRouterDispatcher","useMWV2FocusRowAfterClosingPushView","useMWV2MediaViewerShowDialog","useMWV2MediaViewerURL","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));b=l;var n=b.useContext,o=b.useMemo,p=b.useRef,q={glimmer:{height:"xpyat2d",marginTop:"x1gslohp",width:"x1oysuqx",$$css:!0},root:{backfaceVisibility:"xlp1x4z",backgroundColor:"x1eb86dx",display:"x1lliihq",maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function r(a){var b=a.attachment,e=a.autoPlaySetting,f=a.connectTop,g=a.getPreviewUrl,l=a.mediaRenderQpl,o=a.message,p=a.navigateToRouteForMediaViewer,r=p===void 0?!0:p;p=a.outgoing;a=a.renderUnsupportedAttachment;var s=(i||(i=c("useReStore")))(),t=c("useCometRouterDispatcher")(),u=c("useMWV2MediaViewerURL")(b);p=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:p?"right":"left",connectTop:f});var v=c("useMWV2FocusRowAfterClosingPushView")();f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var w=c("useMWV2MediaViewerShowDialog")(r),x=w[0],y=w[1],z=n(c("MWVideoPlayerControllerContext.react")),A=g(b,"MWV2ChatVideoInner",l);if(A==null||A===""){l==null?void 0:l.addPoint("empty_preview_url");return a!=null?a(b):null}if((b==null?void 0:b.playableUrlMimeType)==="video/x-ms-wmv"&&!(j||(j=d("I64"))).equal(o.sendStatusV2,(k||(k=d("LSIntEnum"))).ofNumber(2)))return m.jsx(c("MWXGlimmer.react"),{index:1,xstyle:[p,q.glimmer]});w=b.previewHeight;g=b.previewWidth;return m.jsxs(c("MWMessageListMediaPressableContainer.react"),{ariaLabel:h._("__JHASH__Sk-r4mWi0bD__JHASH__"),attachment:b,disabled:(j||(j=d("I64"))).le(o.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL)),onHoverIn:function(){if(!r)return y()},onPress:function(){d("MWV2LogMessageClick").log(s,o,27);v(function(){return!0});if(!r)return x({attachment:b},function(){});var a=z.ref.current;if(a){var e=a.getCurrentState();e=e.volume;var f=a.getPlayheadPosition();t==null?void 0:t.go(u,{passthroughProps:{origSrc:A,startTimestamp:f,volumeSetting:e}});a.setMuted(!0,"product_initiated")}else c("recoverableViolation")("Missing controller","messenger_web_media",void 0,{trackOnly:!0})},overlayDisabled:!0,testid:void 0,xstyle:[q.root,p],children:[m.jsx(c("MWResponsiveVideo.react"),{autoPlaySetting:e,connectTopStyles:p,fbid:b.attachmentFbid,height:w!=null?(j||(j=d("I64"))).to_float(w):void 0,maxHeight:200,maxWidth:f==="Inbox"?500:167,mediaRenderQpl:l,shouldForcePauseOnClick:!0,src:A,width:g!=null?(j||(j=d("I64"))).to_float(g):void 0}),(j||(j=d("I64"))).le(o.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?m.jsx(c("MWV2AttachmentProgressBar.react"),{attachment:b}):null,m.jsx(c("MWChatImageInsetShadow.react"),{xstyle:p})]})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=p(null),d=o(function(){return{ref:b}},[b]);return m.jsx(c("MWVideoPlayerControllerContext.react").Provider,{value:d,children:m.jsx(r,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2Sticker.react",["I64","MWChatImageSize","MWLSThreadDisplayContext","Sticker.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useMemo;function m(a){var b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return l(function(){var c=b!=null?b==="Inbox"?.75:.5:.5;if(a<60)return 1;else return c},[a,b])}function a(a){var b,e=a.attachment,f=a.getPreviewUrl,g=a.mediaRenderQpl,i=a.renderUnsupportedAttachment,l=a.scale;a=a.xstyle;f=f(e,"MWV2Sticker",g);var n=e.previewHeight!=null?(j||(j=d("I64"))).to_int32(e.previewHeight):void 0,o=e.previewWidth!=null?(j||(j=d("I64"))).to_int32(e.previewWidth):void 0;b=m((b=n)!=null?b:120);var p=o!=null&&n!=null;p=d("MWChatImageSize").useImageSize(f,p);o=o!=null&&n!=null?[o,n]:p!=null?[p.width,p.height]:[24,24];n=o[0];p=o[1];if(f==null||f.length===0){g==null?void 0:g.addPoint("empty_preview_url");return i!=null?i(e):null}return k.jsx(c("Sticker.react"),{accessibilityLabel:(o=e.accessibilitySummaryText)!=null?o:"",animationTrigger:"load_and_hover",className:(h||(h=c("stylex")))(a),customColor:"var(--chat-composer-button-color)",enablePopoverIfPassesGK:!0,frameCount:0,frameRate:void 0,framesPerCol:0,framesPerRow:0,onAttachmentLoad:function(){g==null?void 0:g.endSuccess()},packID:void 0,paddedSpriteURI:void 0,scale:(i=l)!=null?i:b,sourceHeight:p,sourceURI:f,sourceWidth:n,spriteURI:void 0,stickerID:e.attachmentFbid,tabIndex:-1,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2TombstonedMessage.react",["MWXMessageBubbleCornerStyles.react","MWXText.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={message:{fontStyle:"x1k4tb9n",marginBottom:"x12nagc",marginTop:"x1gslohp",$$css:!0},root:{borderTopColor:"x2z21go",borderEndColor:"x7glw7h",borderBottomColor:"xytfwv8",borderStartColor:"x1c7a9eh",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",color:"x1tbs7aw",maxWidth:"x193iq5w",paddingTop:"x1y1aw1k",paddingEnd:"xn6708d",paddingBottom:"xwib8y2",paddingStart:"x1ye3gou",wordBreak:"x13faqbe",$$css:!0}};function a(a){var b=a.children,e=a.connectBottom;e=e===void 0?!1:e;var f=a.connectTop;f=f===void 0?!1:f;a=a.xstyle;e=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({connectBottom:e,connectTop:f});return i.jsx(d("react-strict-dom").html.div,{style:[j.root,e,a],children:i.jsx(c("MWXText.react"),{color:"disabled",type:"body3",children:i.jsx(d("react-strict-dom").html.div,{style:j.message,children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageListAttachment.react",["fbt","LSMediaUrlAttachment","MWAudioPlayer.react","MWLSThreadDisplayContext","MWV2ChatImage.react","MWV2ChatVideo.react","MWV2Sticker.react","MWV2TombstonedMessage.react","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useCallback;function a(a){var b=a.connectBottom,d=a.connectTop;a=a.xstyle;return k.jsx("div",{className:(i||(i=c("stylex")))(a),children:k.jsx(c("MWV2TombstonedMessage.react"),{connectBottom:b,connectTop:d,children:h._("__JHASH__962PS6SI-P2__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.attachment,e=a.connectTop,f=a.message,g=a.navigateToRouteForMediaViewer;a=a.outgoing;var h=l(function(a){return d("LSMediaUrlAttachment").playableUrl(a)},[]);return k.jsx(c("MWV2ChatVideo.react"),{attachment:b,connectTop:e,getPreviewUrl:h,mediaRenderQpl:null,message:f,navigateToRouteForMediaViewer:g,outgoing:a})}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.attachment,c=a.connectBottom,e=a.connectTop,f=a.isReply,g=a.message;a=a.outgoing;var h=l(function(a){return d("LSMediaUrlAttachment").playableUrl(a)},[]);return k.jsx(d("MWAudioPlayer.react").MWAudioPlayer,{attachment:b,connectBottom:c,connectTop:e,getPlayableUrl:h,isReply:f,mediaRenderQpl:null,message:g,outgoing:a})}e.displayName=e.name+" [from "+f.id+"]";function m(a){var b=a.attachment,e=a.connectBottom,f=a.connectTop,g=a.message,h=a.navigateToRouteForMediaViewer,i=a.outgoing;a=a.renderUnsupportedAttachment;var j=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),m=l(function(a){var b=a.previewUrlLarge;return b!=null&&j==="Inbox"?b:d("LSMediaUrlAttachment").previewUrl(a)},[j]),n=function(a){return d("LSMediaUrlAttachment").playableUrl(a)};return k.jsx(c("MWV2ChatImage.react"),{attachment:b,connectBottom:e,connectTop:f,getPlayableUrl:n,getPreviewUrl:m,mediaRenderQpl:null,message:g,navigateToRouteForMediaViewer:h,outgoing:i,renderUnsupportedAttachment:a})}m.displayName=m.name+" [from "+f.id+"]";function n(a){a=a.attachment;var b=l(function(a){var b;b=(b=d("LSMediaUrlAttachment").playableUrl(a))!=null?b:d("LSMediaUrlAttachment").previewUrl(a);if(b!=null)return b;c("recoverableViolation")("Sticker Attachment has no preview_url or playable_url: "+a.attachmentFbid,"messenger_web_media")},[]);return k.jsx(c("MWV2Sticker.react"),{attachment:a,getPreviewUrl:b,mediaRenderQpl:null})}n.displayName=n.name+" [from "+f.id+"]";g.MWMessageListAttachmentError=a;g.MWMessageListAttachmentVideo=b;g.MWMessageListAttachmentAudio=e;g.MWMessageListAttachmentImage=m;g.MWMessageListAttachmentSticker=n}),226);
__d("MWPMessageIsReply",["LSIntEnum","LSMessageReplySourceTypeV2"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a.replySourceTypeV2!=null&&(h||(h=d("LSIntEnum"))).toNumber(a.replySourceTypeV2)!==c("LSMessageReplySourceTypeV2").FORWARD}g["default"]=a}),98);
__d("MWPMessageHasXMA",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return[(h||(h=d("I64"))).and_((i||(i=d("LSIntEnum"))).ofNumber(1024),a.displayedContentTypes),h.and_(i.ofNumber(2048),a.displayedContentTypes)].some(function(a){return(h||(h=d("I64"))).to_int32(a)!==0})}g["default"]=a}),98);
__d("MWPMessageWithAttachmentHasPoll",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return(h||(h=d("I64"))).to_int32(h.and_((i||(i=d("LSIntEnum"))).ofNumber(32),a.displayedContentTypes))!==0}g["default"]=a}),98);
__d("MWPMessageListAttachmentContainer.react",["MWPMessageHasXMA","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageWithAttachmentHasPoll","react","react-strict-dom","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={container:{maxWidth:"x193iq5w",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},container_for_poll:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",$$css:!0},container_for_xma:{width:"xh8yej3",$$css:!0},vr:{backgroundColor:"x1eb86dx",height:"x36qwtl",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children,e=a.connectTop,f=a.message;a.outgoing;var g=a.paint;g=g===void 0?!0:g;var h=a.renderEmphasisRing;a=a.xmaLayout;var k=c("MWPMessageHasXMA")(f),l=c("MWPMessageIsReply")(f),m=c("MWPMessageWithAttachmentHasPoll")(f);f=f.text;f=f!=null?f!=="":!1;m=i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.container,k?j.container_for_xma:!1,m?j.container_for_poll:!1],children:b});return i.jsxs(i.Fragment,{children:[e&&(a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT||!k||!f)?i.jsx(d("react-strict-dom").html.div,{style:j.vr}):null,i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{paint:!l&&g,children:h!=null?h(k,m):m})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPGetAttachmentCTA",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){var c;return d("ReQL").fromTableAscending(b.tables.attachment_ctas).getKeyRange((c=a)!=null?c:(h||(h=d("I64"))).zero)},[b,a],f.id+":23")}g["default"]=a}),98);
__d("useMWPGetAttachments",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;return d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.attachments).getKeyRange(g,e)},[b,e,g],f.id+":24").sort(function(a,b){return(h||(h=d("I64"))).compare(a.attachmentIndex,b.attachmentIndex)})}g["default"]=a}),98);
__d("MWPMessageListAttachment.react",["EntMessageReplyType","I64","LSIntEnum","MWPMessageListAttachmentContainer.react","MWPThreadCapabilitiesContext","MWVerticalRhythm","MessagingAttachmentType","gkx","react","useMWPGetAttachmentCTA","useMWPGetAttachments","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function l(a){return(i||(i=d("I64"))).equal(a.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}function a(a){var b=a.connectBottom,e=a.connectTop,f=a.message,g=a.renderAudioAttachment,h=a.renderEmphasisRing,m=a.renderEphemeralMediaAttachment,n=a.renderFileAttachment,o=a.renderImageAttachment,p=a.renderImageGrid,q=a.renderStickerAttachment,r=a.renderUnsupportedAttachment,s=a.renderUnsupportedMultipleAttachments,t=a.renderVideoAttachment,u=a.renderWrapper,v=a.renderXMAAttachment;a=a.xmaLayout;var w=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a,x=c("useMWPGetAttachments")(f);a=c("useMWPGetAttachmentCTA")(x.length>0?x[0].attachmentCta1Id:null);var y=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();y=y.blurMediaEnabled;y=c("gkx")("24098")&&y;if(f.replyType!=null&&(i||(i=d("I64"))).equal(f.replyType,(j||(j=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP)))return null;if(x.length!==1)x.length>1&&x.every(l)?y?y=x.map(function(a,b){return k.jsxs(k.Fragment,{children:[b!==0?k.jsx(c("MWVerticalRhythm"),{height:2}):null,k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:f,renderEmphasisRing:h,xmaLayout:w,children:o(a,b!==0,b!==x.length-1,r)})]},a.attachmentFbid)}):y=k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:f,renderEmphasisRing:h,xmaLayout:w,children:p(x)}):y=s!=null?s(x):void 0;else{p=x[0];s=p.attachmentType;s=!(i||(i=d("I64"))).equal(s,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO));var z=p.attachmentType;y=k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:f,paint:s,renderEmphasisRing:h,xmaLayout:w,children:(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))?o(p,e,b,r):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))?t(p):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO))?g(p):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER))?q(p):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))?v(p,a):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE))?n(p):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))?m(p):r(p)})}return y!=null?u!=null?u(y):y:null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatAttachmentParserUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.startsWith("blob:");if(!b)return;b=a.length;return a.substring(5,b)}f.getBlobUrl=a}),66);
__d("formatFileSize",["fbt"],(function(a,b,c,d,e,f,g,h){var i=[function(a){return h._("__JHASH__eMlnaQRXRvN__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__3UzqYHovNJr__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH___CyxwP2Ni02__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__B5cUSs7YWey__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__7EGP9din_0A__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__ghfLx6_Ho7n__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__osT4Py2kL4R__JHASH__",[h._param("value",a,[0])])}],j=0;function a(a,b){b===void 0&&(b=1024);if(a==null)return null;if(a===0)return i[j](0);var c=Math.floor(Math.log(Math.abs(a))/Math.log(b));a=a/Math.pow(b,c);a=Math.round(a*100)/100;return i[c](a)}g["default"]=a}),226);
__d("MWV2ChatFileV2.react",["fbt","ConstUriUtils","I64","LSMediaUrlAttachment","MDSTextPairing.react","MWChatFilePreview.react","MWChatMessageId","MWFilePressable.react","MWInboxInfoSharedContentQPLLogger","MWV2ChatAttachmentParserUtils","formatFileSize","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react")),m=j.useMemo,n={root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=a.attachment,e=a.getPlayableUrlSecure;a=m(function(){var a=b.filename;if(a!=null)return a;else return h._("__JHASH__uiTAWyhPCWI__JHASH__")},[b]);var f=m(function(){var a=b.filesize!=null?(k||(k=d("I64"))).to_int32(b.filesize):void 0;if(a!=null)return c("formatFileSize")(a);else return null},[b]),g=m(function(){if(e!=null){var a;a=(a=e(b))!=null?a:"";return d("ConstUriUtils").getUri(a)}else{a=d("LSMediaUrlAttachment").playableUrl(b);if(a!=null){var f=d("MWV2ChatAttachmentParserUtils").getBlobUrl(a);if(f!=null)return d("ConstUriUtils").getUri(f);else return d("ConstUriUtils").getUri(a)}}c("recoverableViolation")("Attachment has no playable_url "+b.attachmentFbid,"messenger_web_media")},[b,e]);return l.jsx(c("MWFilePressable.react"),{attachmentID:b.attachmentFbid,entryPoint:"chat_file_v4",messageID:d("MWChatMessageId").makeSent((k||(k=d("I64"))).to_string(b.threadKey),b.messageId,k.to_string(b.timestampMs)),onPress:function(){return d("MWInboxInfoSharedContentQPLLogger").logOpenSharedContentFromThread("files")},url:g==null?void 0:g.toString(),children:l.jsxs("div",{className:(i||(i=c("stylex")))(n.root,!1),"data-testid":void 0,children:[l.jsx(c("MWChatFilePreview.react"),{attachment:b,withPreview:!1}),l.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xn6708d xsag5q8 x1ye3gou x13faqbe",children:[l.jsx(c("MDSTextPairing.react"),{headline:a,headlineLineLimit:3,level:4}),l.jsx("div",{className:"x889kno",children:l.jsx(c("MDSTextPairing.react"),{body:f,bodyColor:"secondary",bodyLineLimit:1,level:4,testid:void 0})})]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2ChatImagesGrid.react",["fbt","CometImageCover.react","CometPhotoGrid.react","LSMediaUrlAttachment","MWLSThreadDisplayContext","MWXPressable.react","react","stylex","useMWV2MediaViewerURL"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useMemo,m={large:{width:"x7cdydq",$$css:!0},pressable:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",display:"x1lliihq",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0},root:{maxWidth:"x193iq5w",$$css:!0},small:{width:"x1so1ns2",$$css:!0}};function n(a){var b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return l(function(){var c=a.previewUrlLarge;if(c!=null&&b==="Inbox")return c;else return d("LSMediaUrlAttachment").previewUrl(a)},[a,b])}function o(a){a=a.attachment;var b=n(a);a=c("useMWV2MediaViewerURL")(a);if(b==null)return null;var d=h._("__JHASH__mrw3CpFXi7r__JHASH__");return k.jsx(c("MWXPressable.react"),{"aria-label":d,linkProps:{passthroughProps:{origSrc:b},url:a},overlayRadius:"compact",xstyle:function(){return[m.pressable]},children:k.jsx(c("CometImageCover.react"),{alt:d,src:b})})}o.displayName=o.name+" [from "+f.id+"]";function a(a){a=a.attachments;var b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return k.jsx("div",{className:(i||(i=c("stylex")))(m.root,b==="Inbox"?m.large:m.small),"data-testid":void 0,children:k.jsx(c("CometPhotoGrid.react"),{children:a.map(function(a){return k.jsx(o,{attachment:a},a.attachmentFbid)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2UnsupportedAttachment.react",["fbt","MDSCautionTriangleSvgIcon.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.attachment;a=a.descriptionText;return j.jsxs("div",{className:"x6s0dn4 x78zum5 xjkvuk6 x1iorvi4 x87ps6o",children:[j.jsx("div",{className:"x6s0dn4 xgx9qek x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k xmo9yow x1iorvi4 x150jy0e xjkvuk6 x1e558r4",children:j.jsx(c("MDSCautionTriangleSvgIcon.react"),{color:"primary",size:24})}),j.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f x13faqbe",children:[j.jsx(c("MWXText.react"),{type:"headline4",children:h._("__JHASH__Uhh5LwoNOuv__JHASH__")}),a!=null?j.jsx("div",{className:"x889kno",children:j.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:a})}):null]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPBaseXMAAttachmentItem.react",["BaseImage.react","I64","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MNLSXMALayoutType","MWPThreadCapabilitiesContext","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h,m=l.createContext,n=l.createElement,o=l.useContext,p=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),q=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]),r=m({hasAtLeastOneCta:!1,isDisabledRtcXma:!1,renderPressable:function(a){return null}});function a(a){var b=a.attachment,c=a.attachmentItem,e=a.children;a=a.renderPressable;var f=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();f=f.hasLSThreadBitOffset;var g=f(25);f=f(24);b=b.defaultCtaType;c=c.attachmentCta1Id!=null;g=b!=null?q.has(b)&&!g||p.has(b)&&!f:!1;b={hasAtLeastOneCta:c,isDisabledRtcXma:g,renderPressable:a};return n(r.Provider,{children:!c&&!g?a(e):e,value:b})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.children;var b=o(r);if(b.hasAtLeastOneCta&&!b.isDisabledRtcXma)return b.renderPressable(a);else return a}b.displayName=b.name+" [from "+f.id+"]";var s={container:{display:"x78zum5",position:"x1n2onr6",width:"xh8yej3",$$css:!0},image:{flexGrow:"x1iyjqo2",height:"xt7dq6l",maxWidth:"x193iq5w",objectFit:"xl1xv1r",$$css:!0}};function e(a){var b=a.attachmentItem;a=a.url;var e=b.previewHeight;b=b.previewWidth;return k.jsx(d("react-strict-dom").html.div,{style:s.container,children:k.jsx(c("BaseImage.react"),{height:e!=null?(i||(i=d("I64"))).to_int32(e):void 0,src:a,width:b!=null?(i||(i=d("I64"))).to_int32(b):void 0,xstyle:s.image})})}e.displayName=e.name+" [from "+f.id+"]";function t(a){var b,c=a.attachment,e=a.attachmentItem,f=a.getPreviewUrl;a=a.preferLargePreview;a=a===void 0?!1:a;var g=d("LSMediaUrlAttachmentItem").playableUrl(e),h=d("LSMediaUrlAttachment").previewUrlLarge(c);b=a?(b=d("LSMediaUrlAttachmentItem").previewUrlLarge(e))!=null?b:d("LSMediaUrlAttachmentItem").previewUrl(e):d("LSMediaUrlAttachmentItem").previewUrl(e);f=f==null?d("LSMediaUrlAttachment").previewUrl(c):f(c,e);a=a&&h!=null?h:(c=b)!=null?c:f;h=e.playableUrlMimeType;b=h!=null?h.includes("video")?"video":h.includes("image")?"image":"unsupported":"unsupported";if(b==="video"&&g!=null)return{type:"Video",url:g};if(a!=null)return{type:"Image",url:a};return b==="image"&&g!=null?{type:"Image",url:g}:{type:"Unsupported"}}function u(a,b){var e=a.xmaLayoutType!=null&&!(i||(i=d("I64"))).equal(a.xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").HSCROLL)),f=b.titleText;f=f!=null||!e?f:a.titleText;b=b.subtitleText;e=b!=null||!e?b:a.subtitleText;return[f,e]}g.MWPBaseXMAAttachmentItemPressableContext=r;g.MWPBaseXMAAttachmentItemPressable=a;g.MWPBaseXMAAttachmentItemPressableNested=b;g.MWPBaseXMAAttachmentItemImage=e;g.getXMAAttachmentItemPreview=t;g.useTitleAndSubtitle=u}),98);
__d("useMWChatOpenTabByThreadKey",["I64","LSAuthorityLevel","LSContactType","LSFactory","LSIntEnum","LSVerifyThreadRowExistsStoredProcedure","MWPActor.react","Promise","ReQL","promiseDone","react","useMWBaseChatOpenTabForUser","useMWChatOpenTabForPage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;e=l||d("react");var m=e.useCallback,n=e.useMemo;function a(a,e){var g=(k||(k=c("useReStore")))(),l=c("useMWBaseChatOpenTabForUser")(void 0,e),o=l[0],p=c("useMWChatOpenTabForPage")(e),q=d("MWPActor.react").useActor(),r=n(function(){return new(h||(h=b("Promise")))(function(b,e){var h=(e=d("ReQL")).mergeJoin(e.fromTableAscending(g.tables.participants).getKeyRange(a).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,q)}),e.fromTableAscending(g.tables.contacts)),k={contents:function(){}};k.contents=h.subscribe(function(a,e){if(e.operation==="delete")return;a=e.value[1];if((i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){k.contents();return b(a)}});c("promiseDone")(e.firstAsync(h),function(e){if(e!=null){e=e[1];if((i||(i=d("I64"))).ge(e.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){k.contents();return b(e)}else return}c("promiseDone")(g.runInTransaction(function(b){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(b),{syncGroup:(j||(j=d("LSIntEnum"))).ofNumber(1),threadKey:a,threadType:j.ofNumber(1)})},"readwrite",void 0,void 0,f.id+":86"))})})},[a,g]);return m(function(){c("promiseDone")(r,function(b){var e=(i||(i=d("I64"))).to_string(a);b=b.contactType;if((i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE)))return p(e,!1);else return o(e,!1)})},[r,o,p,a])}g["default"]=a}),98);
__d("MWXMAAttachmentActionTriggerWithOpenChatTab.react",["I64","Int64Hooks","LSIntEnum","LSThreadAttributionStore","ReQL","gkx","promiseDone","useAsyncReStore","useCometRouterDispatcher","useIntegrityBlockInterstitial","useMWChatOpenTabByThreadKey","useMWNavigation","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.children;a=a.threadKey;return b(j(a))}function j(a){var b=c("useIntegrityBlockInterstitial")(),e=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),f=c("useCometRouterDispatcher")(),g=c("useMWChatOpenTabByThreadKey")(a,"chatInThread"),j=c("useAsyncReStore")(),k=c("useMWNavigation")();return d("Int64Hooks").useCallbackInt64(function(l,m){var n=(h||(h=d("LSIntEnum"))).ofNumber(22);c("promiseDone")(j,function(h){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(h.tables.threads).getKeyRange(a)),function(h){if(e){var j=m.metaKey||m.ctrlKey||m.shiftKey;if(!j)return g()}else if(f!=null&&h!=null)return c("gkx")("2906")?k.openInbox({threadKey:a,threadType:h.threadType},"chatInThread",n):b({damagingActionsEntryPoint:n,onProceed:function(){d("LSThreadAttributionStore").setSource((i||(i=d("I64"))).to_string(a),"chatInThread"),f.go(l,{})},threadKey:a});else return})})},[f,e,b,j,k,g,a])}g["default"]=a}),98);
__d("XmaEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5680");b=d("FalcoLoggerInternal").create("xma_events",a);e=b;g["default"]=e}),98);
__d("MessengerWebUXLoggerXMAEventLoggingImpl",["CometPassiveGetRouterStateContext","CometProductAttribution","I64","LSMessagingThreadTypeUtil","LsThreadType","WebUXLoggingEntryPointContextProvider","XmaEventsFalcoEvent","castToEnum","cr:1576","react","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=j.useCallback,l=j.useContext,m=j.useInsertionEffect,n=j.useRef;function a(){var a=p("xma_redirect_to_fb");return k(function(b){a(b)},[a])}function e(a){var b=p("xma_impression");return c("useSinglePartialViewImpression")({onImpressionStart:function(){b(a)}})}function f(){var a=p("xma_click");return k(function(b){a(b)},[a])}function o(){var a=p("xma_fb_opened");return k(function(b){a(b)},[a])}function p(a){var e=l(d("WebUXLoggingEntryPointContextProvider").WebUXEntryPointLoggingContext),f=n(e);m(function(){f.current=e});var g=l(c("CometPassiveGetRouterStateContext"));return k(function(e){var h,j=e.attachment.messageId;h=c("castToEnum")((i||(i=d("I64"))).to_int32((h=e.threadType)!=null?h:(i||(i=d("I64"))).zero),c("LsThreadType"),null);var k=e.threadType?d("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType):!1,l=e.attachment.threadKey,m=i.to_string(l),n=f.current,o=r(e.attachment),p=d("CometProductAttribution").getMinifiedTopMostRouteProductAttribution(g),s={click_category:e==null?void 0:e.clickCategory,click_target_type:o,entrypoint:n,event:(e==null?void 0:e.isDirectToExternal)===!0?"xma_redirect_to_external_app":a,is_facebook_installed:null,thread_id:m,thread_type:h};if(k===!0&&b("cr:1576")!=null){var t=q(e.message);b("cr:1576").log(function(){return babelHelpers["extends"]({},s,t,{navigation_chain:p,thread_key:(i||(i=d("I64"))).to_string(l)})})}else c("XmaEventsFalcoEvent").log(function(){return babelHelpers["extends"]({},s,{attribution_id_v2:p,message_id:j})})},[a,g])}function q(a){return a==null?{}:{forward:a.isForwarded,message_sender_id:(i||(i=d("I64"))).to_string(a.senderId),message_sent_time:i.to_string(i.div(a.timestampMs,i.of_string("1000")))}}function r(a){var b=a.defaultCtaType,c=a.attachmentLoggingType;a=a.cta1Type;var d=35;b==="xma_rtc_missed_audio"?d=37:b==="xma_rtc_missed_video"?d=36:b==="xma_rtc_missed_group_audio"?d=67:b==="xma_rtc_missed_group_video"?d=66:b==="xma_rtc_audio"?d=17:b==="xma_rtc_video"?d=18:b==="xma_rtc_ended_audio"?d=57:b==="xma_rtc_ended_video"?d=56:b==="xma_rtc_new_audio_default"?d=68:b==="xma_live_location_sharing"?(d=38,a==="xma_live_location_sharing"&&(d=39)):b==="xma_shops_pdp"?d=61:b==="xma_open_native"?d=41:b==="xma_web_url"?d=35:c==="xma_open_contact_share"?d=64:b==="xma_customer_information"?d=65:c==="xma_appointment_confirmed"?d=70:b==="xma_montage_share"&&(d=82);return d}g.useXMAEventsRedirectDefaultToFBLogger=a;g.useXMAEventsImpressionLoggerRef=e;g.useXMAEventsClickLogger=f;g.useXMAEventOpenInFBLogger=o}),98);
__d("logXMACtaClicked",["I64","LsDidTapCallToActionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.cta,e=a.loggingDetails,f=a.source;if(e==null)return;a=b.actionContentBlob;var g=a!=null?i(a):"",l=a!=null?k(a):"",m=a!=null?j(a):"",n=e[1],o=e[0];c("LsDidTapCallToActionFalcoEvent").log(function(){return{action:{cta_type_unique_id:l,id:(h||(h=d("I64"))).to_string(b.ctaId),name:"",source:f,type:n},message:{campaign_id:m,id:b.messageId,notification_token:g},page:{id:o},target:{id:o},thread:{id:o}}})}function i(a){try{a=JSON.parse(a);a=a.notification_message_token;return a!=null?a:""}catch(a){return""}}function j(a){try{a=JSON.parse(a);a=a.mbs_mm_campaign_id;return a!=null?a:""}catch(a){return""}}function k(a){try{a=JSON.parse(a);a=a.mm_cta_unique_id;return a!=null?a:""}catch(a){return""}}g.logXMACtaClicked=a}),98);
__d("useMWChatPollXMAActionHandler",["JSResourceForInteraction","MWThreadKey.react","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoized(),b=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatPollDetailsDialog.react").__setRef("useMWChatPollXMAActionHandler")),e=b[0];return i(function(b,c){if(a==null||b==null||c==null)return;return e({pollId:b,threadKey:a,title:c},function(){})},[e,a])}g["default"]=a}),98);
__d("useMWLinkHashXMAActionHandler",["ConstUriUtils","FBLogger","I64","LSCommunityInviteStatus","LSFactory","LSIntEnum","LSOptimisticFetchPendingGroupInviteStoredProcedure","MWCMGetValidId","MWCMStandaloneJoinDialog.entrypoint","MWCMStandaloneRequestToJoinDialog.entrypoint","MWInboxRouteBuilder","ReQL","ReQLSuspense","XMessengerDotComCometCommunityThreadsControllerRouteBuilder","gkx","goUriOnNewWindow","promiseDone","react","requireDeferred","useCometRouterDispatcher","useMWXEntryPointDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useCallback,m=b.useRef,n=c("requireDeferred")("C4gEngagementFalcoEvent").__setRef("useMWLinkHashXMAActionHandler"),o=["ch","cm"];function p(a){a=d("ConstUriUtils").getUri(a);if(a==null?void 0:a.isSubdomainOfDomain("m.me")){a=a==null?void 0:(a=a.getPath())==null?void 0:a.split("/").filter(function(a){return a!==""});return(a==null?void 0:a.length)===2&&o.includes(a[0])?a[1]:null}return null}function a(){var a=c("useMWXEntryPointDialog")(c("MWCMStandaloneRequestToJoinDialog.entrypoint"),{}),b=a[0];a=c("useMWXEntryPointDialog")(c("MWCMStandaloneJoinDialog.entrypoint"),{});var e=a[0],g=(h||(h=c("useReStore")))(),k=c("useCometRouterDispatcher")(),o=c("gkx")("23433"),q=m();a=l(function(a,h){if(a==null)return c("FBLogger")("messenger_web_sharing").info("Invalid url to extract link hash");var l=p(a);if(l==null)return c("FBLogger")("messenger_web_sharing").info("Invalid link hash in url");c("promiseDone")(g.runInTransaction(function(a){return c("LSOptimisticFetchPendingGroupInviteStoredProcedure")(c("LSFactory")(a),{linkHash:l})},"readwrite"));q.current=d("ReQL").fromTableAscending(g.tables.group_invitations_pending).getKeyRange(l).subscribe(function(a,m){if(m.operation!=="delete"){a=m.value;var p=a.communityId,r=a.communityJoinRequestStatus,s=a.threadId;if(!d("MWCMGetValidId").MWCMHasValidFbGroupId(p))return;q.current==null?void 0:q.current();if(h==="xma_join_community"||h==="xma_join_community_chat"){var t=d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.tables.community_folders).getKeyRange(p),f.id+":139");n.onReady(function(a){a.log(function(){return{action:"tap",client_extras:{has_invite:(t==null).toString(),has_pending_request:(i||(i=d("I64"))).to_string(r)},community_id:i.to_string(p),entry_point:"cm:xma",event:s==null?"request_to_join_community_initiated":"request_to_join_community_and_thread_initiated",surface:"message_thread",thread_id:s!=null?(i||(i=d("I64"))).to_string(s):void 0}})});return t!=null&&(i||(i=d("I64"))).equal(t.inviteStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSCommunityInviteStatus").INVITED))?e({folder:t}):b({linkHash:l})}if(k==null)return;n.onReady(function(a){a.log(function(){return{action:"tap",community_id:(i||(i=d("I64"))).to_string(p),entry_point:"cm:xma",event:s==null?"redirect_to_community":"redirect_to_community_and_thread",surface:"message_thread",thread_id:s!=null?(i||(i=d("I64"))).to_string(s):void 0}})});if(s==null){m=c("XMessengerDotComCometCommunityThreadsControllerRouteBuilder").buildExtraURL("/c/{folder_id}/",{folder_id:(i||(i=d("I64"))).to_string(p)});if(o)return k.go(m,{});c("goUriOnNewWindow")("https://www.messenger.com"+m);return}return o?k.go(c("XMessengerDotComCometCommunityThreadsControllerRouteBuilder").buildURL({folder_id:(i||(i=d("I64"))).to_string(p),thread_key:i.to_string(s)}),{}):k.go(d("MWInboxRouteBuilder").buildURL({thread_key:(i||(i=d("I64"))).to_string(s)}),{})}})},[k,g,o,e,b]);return a}g["default"]=a}),98);
__d("MWRollcallContributionsDialogContainer.react",["CometHideLayerOnEscape.react","CometTheme.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.onClose;a=a.visibilityRef;return i.jsx(c("CometHideLayerOnEscape.react"),{onHide:d,children:i.jsx("div",{className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x1n2onr6 x87ps6o x1uvtmcs",ref:a,children:i.jsx(c("CometTheme.react"),{style:{display:"contents"},theme:"dark",children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRollcallContributionsDialogFallback.react",["fbt","ix","MDSColumn.react","MDSColumnItem.react","MDSGlimmer.react","MDSRow.react","MDSRowItem.react","MWRollcallContributionsDialogContainer.react","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b;a=a.onClose;return k.jsxs(c("MWRollcallContributionsDialogContainer.react"),{onClose:a,children:[k.jsxs(c("MDSRow.react"),{paddingHorizontal:16,paddingVertical:16,spacing:0,verticalAlign:"center",children:[k.jsx(b=c("MDSRowItem.react"),{children:k.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__l-5nlfLCheV__JHASH__"),icon:d("fbicon")._(i("478232"),16),onPress:a,size:20})}),k.jsx(b,{children:k.jsx(a=c("MDSGlimmer.react"),{index:0,xstyle:l.rollcallTitle})}),k.jsx(b,{children:k.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__LLSQ7_q3mOX__JHASH__"),disabled:!0,icon:d("fbicon")._(i("816819"),16),size:20})})]}),k.jsx(c("MDSColumn.react"),{align:"center",expanding:!0,paddingVertical:20,spacing:20,verticalAlign:"center",children:k.jsxs(c("MDSColumnItem.react"),{children:[k.jsxs(c("MDSRow.react"),{align:"start",paddingHorizontal:0,paddingVertical:12,spacing:8,verticalAlign:"center",xstyle:l.contributionHeader,children:[k.jsx(b,{children:k.jsx(a,{index:0,xstyle:l.profilePicture})}),k.jsx(b,{children:k.jsx(a,{index:0,xstyle:l.profileName})})]}),k.jsx(a,{index:0,xstyle:l.contributionMedia})]})})]})}a.displayName=a.name+" [from "+f.id+"]";var l={contributionHeader:{width:"x1cvmir6",$$css:!0},contributionMedia:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",height:"xuo6tqj",marginBottom:"x1e56ztr",width:"x1cvmir6",$$css:!0},profileName:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"x1qx5ct2",width:"x1oysuqx",$$css:!0},profilePicture:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x10w6t97",width:"x1td3qas",$$css:!0},rollcallTitle:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x10w6t97",width:"xdzyupr",$$css:!0}};g["default"]=a}),226);
__d("RollcallXmaCtaClickQplLogging",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("QPLUserFlow").endSuccess(c("qpl")._(127406705,"1680"))}function b(){c("QPLUserFlow").endFailure(c("qpl")._(127406705,"1680"),"fail to load roll call information")}function d(a,b,d){c("QPLUserFlow").start(c("qpl")._(127406705,"1680"),{annotations:{string:{cta_title:d,entry_point:a,source_type:b}}})}g.endSuccessXMACtaClickQplLogging=a;g.endFailureXMACtaClickQplLogging=b;g.startXMACtaClickQplLogging=d}),98);
__d("RollcallXmaViewerQplLogging",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("QPLUserFlow").endSuccess(c("qpl")._(127403136,"1137"))}function b(){c("QPLUserFlow").endFailure(c("qpl")._(127403136,"1137"),"error while doing actions in Rollcall viewer.")}function d(a,b,d){c("QPLUserFlow").start(c("qpl")._(127403136,"1137"),{annotations:{bool:{is_viewer_contribute:b},"int":{total_media_items:a},string:{source_type:d}}})}function e(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"added_reaction")}function f(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"unsend_contribution")}function h(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"reset_prompt")}function i(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"report_prompt")}function j(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"report_contribution")}function k(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"reply_contribution")}g.endSuccessXMARollCallViewerQplLogging=a;g.endFailureXMARollCallViewerQplLogging=b;g.startXMARollCallViewerQplLogging=d;g.addReactionRollCallViewerQplPoint=e;g.unsendContributionRollCallViewerQplPoint=f;g.resetPromptRollCallViewerQplPoint=h;g.reportPromptRollCallViewerQplPoint=i;g.reportContributionRollCallViewerQplPoint=j;g.replyContributionRollCallViewerQplPoint=k}),98);
__d("useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23868899752758299"}),null);
__d("useRollcallContributionsXMAActionHandlerQuery.graphql",["useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:10706},{kind:"Literal",name:"trigger",value:"COMMUNITY_MESSAGING_PROMPT"}],c=[{kind:"Literal",name:"supported",value:"TDHjT"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"useRollcallContributionsXMAActionHandlerQuery",fragmentName:"CometQuickPromotionMessengerWebPromptsNuxDialogRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebPromptsRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRollcallContributionsXMAActionHandlerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d],storageKey:'renderer_strategy(supported:"TDHjT")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useRollcallContributionsXMAActionHandlerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d],storageKey:'renderer_strategy(supported:"TDHjT")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}]},params:{id:b("useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation"),metadata:{},name:"useRollcallContributionsXMAActionHandlerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useRollcallContributionsXMAActionHandler",["CometRelay","I64","JSResourceForInteraction","MWCMIsAnyCMThread","MWDidQueryPromptsNux","MWLSThread","MWRollcallContributionsDialogFallback.react","RollcallXmaCtaClickQplLogging","RollcallXmaViewerQplLogging","promiseDone","react","useMWXLazyDialog","usePrevious","useRollcallContributionsXMAActionHandlerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useCallback,m=e.useEffect,n=e.useState;function o(){var a=d("CometRelay").useRelayEnvironment();return function(){return d("CometRelay").fetchQuery(a,h!==void 0?h:h=b("useRollcallContributionsXMAActionHandlerQuery.graphql"),{}).toPromise()}}function a(){var a=n((j||(j=d("I64"))).zero),b=a[0],e=a[1];a=n(j.zero);var f=a[0],g=a[1];a=n(null);var h=a[0],i=a[1];a=n(null);var p=a[0],q=a[1],r=c("usePrevious")(b),s=c("usePrevious")(f);a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWRollcallContributionsDialog.react").__setRef("useRollcallContributionsXMAActionHandler"),function(a){return k.jsx(c("MWRollcallContributionsDialogFallback.react"),{onClose:a})});var t=a[0];a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWCommunityMessagingPromptsNUXQuickPromotion.react").__setRef("useRollcallContributionsXMAActionHandler"));var u=a[0],v=o(),w=d("MWLSThread").useThread(b,function(a){return c("MWCMIsAnyCMThread")(a.threadType)});m(function(){w!=null&&!(j||(j=d("I64"))).is_zero(b)&&!(j||(j=d("I64"))).is_zero(f)&&r!==b&&s!==f&&(d("RollcallXmaCtaClickQplLogging").startXMACtaClickQplLogging("xma_www_button",w?"cm_thread":"friends_family_thread","open_viewer"),d("MWDidQueryPromptsNux").getDidQueryPromptsNux()||d("MWDidQueryPromptsNux").markDidQueryPromptsNux(),t({ctaType:p,rollCallId:f,scrollToContributionMessageId:h,threadKey:b},function(){d("RollcallXmaViewerQplLogging").endSuccessXMARollCallViewerQplLogging(),e((j||(j=d("I64"))).zero),g(j.zero),i(null)}),c("promiseDone")(v(),function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.eligible_promotions)==null?void 0:(a=a.nodes)==null?void 0:(a=a.find(function(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}))==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;a&&u({asCreator:!1,rendererStrategy:a})}))},[w,s,r,f,t,b,h,v,u,p]);return l(function(a,b,c,d){e(b),g(a),i(c),q(d)},[])}g.useRollcallContributionsXMAActionHandler=a}),98);
__d("logCallAttemptViaLocalhost",["MessengerDesktopDeeplinkEventFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.funnelSessionId;c("MessengerDesktopDeeplinkEventFalcoEvent").logImmediately(function(){return{event:"attempt_localhost_deeplink",eventLocation:"browser",eventType:"call",funnelSessionId:b,mobile_app_source:"unknown"}})}g["default"]=a}),98);
__d("MWStartRTCCallUtils",["$InternalEnum","I64","Int64Hooks","LSContactBitOffset","LSContactBlockedByViewerStatus","LSContactReachabilityStatusType","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWChatIsMessageRequest","MWPActor.react","MessengerDesktopDeepLinkUtils","MessengerDesktopLocalServerRequest","ODS","Promise","ReQL","ReQLSuspense","ZenonRTWebBrowserFeatureSupport","gkx","isFeatureLimitEnabled","logCallAttemptViaLocalhost","promiseDone","react","useIsReadOnlyFeatureLimitedWithThreadType","useMWGetOtherUserContact","useReStore","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n=j||d("react"),o=n.useCallback,p=n.useRef,q=b("$InternalEnum").Mirrored(["SECURE_VIDEO_UNSUPPORTED","SECURE_VOICE_UNSUPPORTED","VIDEO_SUPPORTED","VOICE_SUPPORTED","VIDEO_UNSUPPORTED","VOICE_UNSUPPORTED"]);function a(a){var e=p(c("uuidv4")()).current;return o(function(f,g,h){var j="/call?threadid="+g+"&isvideocall="+(f?1:0)+"&funnel_id="+e;(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");c("logCallAttemptViaLocalhost")({funnelSessionId:e});c("promiseDone")((i||(i=b("Promise"))).all([new(c("MessengerDesktopLocalServerRequest"))(j,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){}).setErrorHandler(function(b){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+b),a(f,g,h)}).setTimeoutHandler(function(){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),a(f,g,h)}).send()]))},[a,e])}function e(a,e,f){var g=p(c("uuidv4")()).current;return d("Int64Hooks").useCallbackInt64(function(h){var j=(k||(k=d("I64"))).to_string(a),l=e==="video"?1:0;j="/call?threadid="+j+"&isvideocall="+l+"&funnel_id="+g;(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");c("logCallAttemptViaLocalhost")({funnelSessionId:g});c("promiseDone")((i||(i=b("Promise"))).all([new(c("MessengerDesktopLocalServerRequest"))(j,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_loaded_successfully")}).setErrorHandler(function(a){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+a),f(h)}).setTimeoutHandler(function(){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),f(h)}).send()]))},[e,g,a,f])}function r(a,b,e){a=s(a);var f,g=!1;if(a.length!==1)f=!1;else{var h,i=a[0];b=d("LSMessagingThreadTypeUtil").isOneToOne(b)&&i!=null&&!(k||(k=d("I64"))).equal(i.blockedByViewerStatus,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));if(b)return[!1,!1];f=i!=null?(k||(k=d("I64"))).equal(i.contactType,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE)):!1;b=i!=null?(b=d("LSContactBitOffset").has(0,i))!=null?b:!0:!0;h=i!=null?(h=d("LSContactBitOffset").has(1,i))!=null?h:!0:!0;g=e&&i!=null&&i.blockedSinceTimestampMs==null&&!f&&(!b||!h)}if(!f)return[!g,!g];return c("gkx")("23431")?[a.every(function(a){return a==null?!0:d("LSContactBitOffset").has(17,a)}),a.every(function(a){return a==null?!0:d("LSContactBitOffset").has(16,a)})]:[!1,!1]}function s(a){var b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor();return d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.participants,["contactId"]).getKeyRange(a).take(2).filter(function(a){return!(k||(k=d("I64"))).equal(a.contactId,e)}).map(function(a){return d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.tables.contacts,["contactType","blockedSinceTimestampMs","capabilities","capabilities2","blockedByViewerStatus"]).getKeyRange(a.contactId),f.id+":298")})},[b,a,e],f.id+":287")}function t(a){var b=a.folderName,e=a.threadKey,g=a.threadType,i=(h||(h=c("useReStore")))(),j=d("MWPActor.react").useActor(),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(i.tables.messages_ranges_v2__generated,["threadKey"]).getKeyRange(e)},[i,e],f.id+":319")!=null,n=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(i.tables.participants,["threadKey","contactId"]).getKeyRange(e,j)},[i,e,j],f.id+":328")!=null,o=c("useMWGetOtherUserContact")(e,g,["contactReachabilityStatusType"]),p=d("LSThreadBitOffset").has(25,a),s=d("LSThreadBitOffset").has(24,a),t=d("LSMessagingThreadTypeUtil").isArmadilloSecure(g),u=c("useIsReadOnlyFeatureLimitedWithThreadType")(g)&&(!t||c("isFeatureLimitEnabled")());a=r(e,a.threadType,t);var v=a[0];a=a[1];if(t&&(!d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()||!c("gkx")("23430")))return[q.SECURE_VOICE_UNSUPPORTED,q.SECURE_VIDEO_UNSUPPORTED];t=(o==null?void 0:o.contactReachabilityStatusType)!=null?(k||(k=d("I64"))).equal(o.contactReachabilityStatusType,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactReachabilityStatusType").REACHABLE)):!0;o=((k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(2))||(k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(16)))&&n||(k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(1))||(k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(15));n=d("MWChatIsMessageRequest").fn(b);g=!n&&m&&!u&&o&&t;return g?[v&&p?q.VOICE_SUPPORTED:q.VOICE_UNSUPPORTED,a&&s?q.VIDEO_SUPPORTED:q.VIDEO_UNSUPPORTED]:[q.VOICE_UNSUPPORTED,q.VIDEO_UNSUPPORTED]}g.CanCallResult=q;g.useStartDesktopCall=a;g.useStartMessengerDesktopCall=e;g.useCanCall=t}),98);
__d("useShouldTryWithMessengerDesktop",["MWFacebookUserWithoutMessengerAccess","MessengerDesktopDeepLinkUtils","ODS","gkx","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useRef,l=b.useState;function a(){var a=l(!1),b=a[0],e=a[1],f=k(!1),g=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess();j(function(){if(f.current)return;f.current=!0;if(g)return;if(c("gkx")("23670")||!d("MessengerDesktopDeepLinkUtils").isMessengerDesktopDeeplinkEligible())return;(i||(i=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","is_dapp_running");c("promiseDone")(d("MessengerDesktopDeepLinkUtils").isMessengerDesktopRunning(d("MessengerDesktopDeepLinkUtils").PORT).then(function(a){if(!a||a!==200){a||(i||(i=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","localhost_did_not_respond");a===500&&(i||(i=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","localhost_responded_but_crashed");return}e(!0)}))});return b}g["default"]=a}),98);
__d("useStartRTCCall",["MWLSStartPhoneCall","MWStartRTCCallUtils","useShouldTryWithMessengerDesktop"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useShouldTryWithMessengerDesktop")(),b=d("MWLSStartPhoneCall").useMakeRTCCall();b=b[0];var e=d("MWStartRTCCallUtils").useStartDesktopCall(b);return a?e:b}g["default"]=a}),98);
__d("useGetMWXMACtaRegistryHandler",["$InternalEnum","Actor","ConstUriUtils","CurrentEnvironment","CustomerInformationTemplateFalcoEvent","I64","MWChatXmaThirdPartyActionHandler","MWLSImagePostbackCtaHandler","MWLSPostbackCtaHandler","MWLSWebUrlCtaHandler","RoomsLinkUtils","XCometMessengerControllerRouteBuilder","XCometStoriesControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","cr:131","cr:236","cr:4538","cr:4539","cr:5751","emptyFunction","gkx","isStringNullOrEmpty","nullthrows","useCometRouterDispatcher","useLSMessagingInitiatingSource","useLSMessagingSource","useMWChatPollXMAActionHandler","useMWLinkHashXMAActionHandler","useRollcallContributionsXMAActionHandler","useStartRTCCall"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(f=(e=b("cr:4539"))!=null?e:b("cr:131"))!=null?f:c("emptyFunction"),j=(e=b("cr:5751"))!=null?e:c("emptyFunction"),k=(e=(f=b("cr:4538"))!=null?f:b("cr:236"))!=null?e:c("emptyFunction"),l=b("$InternalEnum")({SUBTHREAD_LINK:"fb-messenger://community_subthread/"});function a(){var a=c("useLSMessagingInitiatingSource")(),b=c("useLSMessagingSource")(),e=d("Actor").useActor(),f=e[0];e=d("MWLSImagePostbackCtaHandler").usePostbackCtaHandler(b,a);b=c("useStartRTCCall")();var g=d("MWChatXmaThirdPartyActionHandler").useHandler(e,b),m=d("MWLSPostbackCtaHandler").usePostbackCtaHandler(),n=c("useMWLinkHashXMAActionHandler")(),o=c("useMWChatPollXMAActionHandler")(),p=d("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler(),q=d("MWLSWebUrlCtaHandler").useShowWebViewDialog(),r=c("useCometRouterDispatcher")();a=k();var s=i({onSuccess:(e=a)!=null?e:c("emptyFunction")}),t=j();return function(a){var b=/^http(s)*\:\/\/m\.me\/([a-z0-9\.\_]+)$/i,e=a.actionUrl!=null&&b.test(a.actionUrl)?(b=a.actionUrl)==null?void 0:b.replace("m.me/","messenger.com/t/"):a.actionUrl,i=a.platformToken,j=a.type_,k=a.title,u=a.messageId,v=a.threadKey,w=a.attachmentFbid;b=["Title: "+k,"Type: "+j,"PlatformTokenPresent: "+(i!=null).toString(),"ActionUrlPresent: "+(e!=null).toString(),"ActionContentBlobPresent: "+(a.actionContentBlob!=null).toString()].join(", ");if(j==="xma_roll_call_open_viewer"||j==="xma_prompt_open_viewer_for_text"||j==="xma_roll_call_add_yours")return a.targetId==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){p(c("nullthrows")(a.targetId),v,null,j)},secondaryInfo:void 0};if(j==="xma_event_rsvp"&&c("gkx")("24146"))return{actionType:"BUTTON",primaryInfo:function(){},secondaryInfo:void 0};if(j==="xma_rtc_audio"||j==="xma_rtc_missed_audio"||j==="xma_rtc_new_audio_default"||j==="xma_rtc_ended_audio")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"MakeRtcCall",VAL:{hasVideo:!1,threadId:(h||(h=d("I64"))).to_string(v),trigger:j}})},secondaryInfo:void 0};if(j==="xma_rtc_video"||j==="xma_rtc_new_video_default"||j==="xma_rtc_new_video_from_fb_share"||j==="xma_rtc_new_video_from_fb_video_share"||j==="xma_rtc_missed_video"||j==="xma_rtc_ended_video")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"MakeRtcCall",VAL:{hasVideo:!0,threadId:(h||(h=d("I64"))).to_string(v),trigger:j}})},secondaryInfo:void 0};if(j==="xma_postback")return{actionType:"BUTTON",primaryInfo:function(){return m(i,k)},secondaryInfo:[(h||(h=d("I64"))).to_string(v),31]};if(j==="xma_open_dialog"){var x;if(e==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected an open dialog url but didn't get any",secondaryInfo:"messenger_business_core_product"};x=(x=d("ConstUriUtils").getUri(e))==null?void 0:x.getQueryData==null?void 0:x.getQueryData();if(x==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected a valid open dialog url but didn't get any",secondaryInfo:"messenger_business_core_product"};var y=String(x.page_id).toString(),z=String(x.guest_id).toString();return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowGuestChatHistory",VAL:{guestId:z,pageId:y}})},secondaryInfo:void 0}}if(j==="xma_p2p_payment_details"||j==="xma_p2p_request_pay"||j==="xma_p2p_payment_details_receive_money"||j==="xma_p2p_verify_info"){var A=a.targetId;return A==null?{actionType:"CTA_ERROR",primaryInfo:"P2P Transaction encounterd without txn id",secondaryInfo:"messenger_privacy_web"}:{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2PPaymentTransactionDetails",VAL:{currentStatus:null,id:(h||(h=d("I64"))).to_string(A)}})},secondaryInfo:void 0}}if(j==="fill_in_thread_form"||j==="filled_in_thread_form_successfully"){var B=a.actionContentBlob;return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowInThreadFormDetails",VAL:JSON.parse(c("nullthrows")(B))})},secondaryInfo:void 0}}if(j==="xma_join_from_portal"&&e!=null)return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"MakeJoinRoomFromPortal",VAL:{linkUrl:e}})},secondaryInfo:void 0};if(j==="xma_live_location_sharing")return{actionType:"BUTTON",primaryInfo:function(){return g(a.nativeUrl!=null?{NAME:"ShowStaticLocationDetails",VAL:{msgId:u}}:{NAME:"ShowLiveLocationDetails",VAL:{messageId:u,titleString:k}})},secondaryInfo:void 0};var C=a.actionContentBlob,D=a.targetId;if(j==="xma_join_community"||j==="xma_join_community_chat"||j==="xma_see_community"||j==="xma_see_community_chat")return{actionType:"BUTTON",primaryInfo:function(){return n(e,j)},secondaryInfo:void 0};if(j==="xma_poll_details_button"||j==="xma_poll_details_card")return{actionType:"BUTTON",primaryInfo:function(){return o(D,C)},secondaryInfo:void 0};if(j==="xma_otp_verification")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowPhoneVerificationDialog",VAL:JSON.parse(c("nullthrows")(C))})},secondaryInfo:void 0};if(C!=null&&D!=null)try{var E=JSON.parse(C);if(j==="xma_admod_chat_member_request")return{actionType:"BUTTON",primaryInfo:function(){var a=E.activityLogItemID,b=E.groupID,c=E.profileID;return g({NAME:"AdmodChatsShowMemberRequest",VAL:{activityLogItemId:a!=null?JSON.stringify(a):"",groupId:b!=null?JSON.stringify(b):"",profileId:c!=null?JSON.stringify(c):"",targetId:D!=null?(h||(h=d("I64"))).to_string(D):""}})},secondaryInfo:void 0};else if(j==="xma_admod_chat_pending_post")return{actionType:"BUTTON",primaryInfo:function(){var a=E.activityLogItemID,b=E.authorID,c=E.groupID,e=E.postID;return g({NAME:"AdmodChatsShowPendingPost",VAL:{activityLogItemId:a!=null?JSON.stringify(a):"",authorId:b!=null?JSON.stringify(b):"",groupId:c!=null?JSON.stringify(c):"",postId:e!=null?JSON.stringify(e):"",targetId:D!=null?(h||(h=d("I64"))).to_string(D):""}})},secondaryInfo:void 0}}catch(a){if(j!=="marketplace_xma_call_function")return{actionType:"NOT_SUPPORTED",primaryInfo:void 0}}var F=a.targetId;if(F!=null){var G={ctaId:a.ctaId,ctaType:j,orderID:(h||(h=d("I64"))).to_string(F)};if(j==="xma_p2m_payment_details")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MOrderDetails",VAL:G})},secondaryInfo:void 0};else if(j==="xma_p2m_attach_receipt")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MAttachBankSlip",VAL:G})},secondaryInfo:void 0};else if(j==="xma_p2m_offsite_bank_transfer")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MOffsiteBankTransferCTA",VAL:G})},secondaryInfo:void 0};else if(j==="xma_p2m_mark_as_paid")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MMarkAsPaid",VAL:{ctaId:a.ctaId,ctaType:j,orderID:(h||(h=d("I64"))).to_string(F)}})},secondaryInfo:void 0};else if(j==="xma_p2m_mark_as_shipped")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MMarkAsShipped",VAL:{ctaId:a.ctaId,ctaType:j,orderID:(h||(h=d("I64"))).to_string(F)}})},secondaryInfo:void 0};else if(j==="xma_p2m_mark_as_received")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MMarkAsReceived",VAL:{ctaId:a.ctaId,ctaType:j,orderID:(h||(h=d("I64"))).to_string(F)}})},secondaryInfo:void 0};if(j==="xma_p2m_checkout"){var H={orderID:(h||(h=d("I64"))).to_string(F),pageID:h.to_string(v)};return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MCheckout",VAL:H})},secondaryInfo:void 0}}if(j==="xma_p2m_informational_message_bottom_sheet"){var I={contentType:JSON.parse(c("nullthrows")(C)),orderID:(h||(h=d("I64"))).to_string(F),pageID:h.to_string(v)};return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MInformationalMessageBottomSheet",VAL:I})},secondaryInfo:void 0}}}if(j==="xma_p2m_async_controller"){var J={actionType:JSON.parse(c("nullthrows")(C))};return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MAsyncControllerDialog",VAL:J})}}}if(j==="xma_ads_ai_survey")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowAdsAISurveyModal",VAL:JSON.parse(c("nullthrows")(C))})},secondaryInfo:void 0};if(j==="xma_customer_information"){var K=(h||(h=d("I64"))).to_string(v);c("CustomerInformationTemplateFalcoEvent").log(function(){return{consumer_id:f,event_type:"mw_xma_impression",form_id:a.attachmentFbid,page_id:K}});var L={actorId:f,eeMessageId:a.attachmentFbid,messageId:a.messageId,pageId:K};return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"BuyerShippingAddress",VAL:L})},secondaryInfo:void 0}}if(C==null&&(j==="xma_direct_send"||j==="xma_biz_inbox_form_send"||j==="xma_feedback_send"))return{actionType:"CTA_ERROR",primaryInfo:"Expected pii_form data but didn't get any",secondaryInfo:"mb_apix"};if(j==="xma_direct_send")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowPIIForm",VAL:JSON.parse(c("nullthrows")(C))})},secondaryInfo:[(h||(h=d("I64"))).to_string(v),45]};if(j==="xma_biz_inbox_form_send")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowPIIFormForFormBuilder",VAL:{ctaType:j,nuxData:{description:"",seen:!0,title:"",url:"",url_text:""},piiForm:JSON.parse(c("nullthrows")(C))}})},secondaryInfo:[(h||(h=d("I64"))).to_string(v),45]};if(j==="xma_feedback_send")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowCustomerFeedbackForm",VAL:{feedbackFormId:c("nullthrows")(C)}})},secondaryInfo:[(h||(h=d("I64"))).to_string(v),69]};if(j==="xma_workplace_chat_bot_submit_feedback"){var M={feedbackActionContentBlob:c("nullthrows")(C)};return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"WorkplaceChatBotSubmitFeedback",VAL:M})},secondaryInfo:void 0}}if(j==="xma_work_meetings_invite"){x=d("RoomsLinkUtils").getRoomsLinkHash((x=a==null?void 0:a.actionUrl)!=null?x:"");return x!=null?{actionType:"POPOVER_BUTTON",primaryInfo:x}:{actionType:"NOT_SUPPORTED",primaryInfo:void 0}}if(j==="xma_account_link")return e==null?{actionType:"CTA_ERROR",primaryInfo:"Expected an account link url but didn't get any",secondaryInfo:"mb_apix"}:{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"OpenAccountLinkUrl",VAL:e})},secondaryInfo:[(h||(h=d("I64"))).to_string(v),49]};if(j==="xma_open_joinable_call_invite_url")return{actionType:"BUTTON",primaryInfo:function(){var a;return g({NAME:"MakeWorkJoinableCallInvite",VAL:{linkUrl:(a=e)!=null?a:""}})},secondaryInfo:void 0};if(j==="xma_montage_share"){if(a.targetId==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};x=(x=c("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+(h||(h=d("I64"))).to_string(a.targetId)),view_single:!0}).setDomain("www.facebook.com"))==null?void 0:x.setProtocol("https");return x==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"URL",primaryInfo:c("nullthrows")(x).toString(),secondaryInfo:void 0}}if(j==="marketplace_xma_call_function")return a.actionContentBlob==null||a.targetId==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ProcessMarketplaceCallFunction",VAL:{actionType:c("nullthrows")(a.actionContentBlob),attachmentFbid:w,messageId:u,targetId:c("nullthrows")(a.targetId)}})},secondaryInfo:void 0};if(j==="marketplace_xma_open_dialog"){if(e==null||a.actionContentBlob==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected an open dialog url and actionContentBlob but didn't get any",secondaryInfo:"messenger_business_core_product"};x=d("ConstUriUtils").getUri(e);if(x==null)return{actionType:"CTA_ERROR",primaryInfo:"Found invalid url when creating CTA",secondaryInfo:"messenger_business_core_product"};var N=String(x.getQueryParam("listingID")).toString();return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"OpenMarketplaceDialog",VAL:{ctaType:c("nullthrows")(a.actionContentBlob),listingId:N,threadId:(h||(h=d("I64"))).to_string(v)}})},secondaryInfo:void 0}}if(j==="xma_ctm_in_thread_multiphoto_reply_image"){if(a.actionContentBlob==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};try{x=JSON.parse(a.actionContentBlob);var O=x.action_prefill,P=x.ad_id,Q=x.customer_id,R=x.index,S=x.page_id,T=x.reply_image_uri;if(O==null||T==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};var U='{"in_thread_multiphoto_xma_reply": true}';return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"SendImagePostback",VAL:{image:T,loggingDetails:{ad_id:P.toString(),consumer_id:Q.toString(),index:R,page_id:S.toString()},message:O,platformToken:c("isStringNullOrEmpty")(i)?U:i}})},secondaryInfo:void 0}}catch(a){return{actionType:"NOT_SUPPORTED",primaryInfo:void 0}}}if(j==="xma_disabled_cta")return{actionType:"DISABLED_BUTTON",primaryInfo:void 0};if(j==="xma_open_native"){x=a.nativeUrl;if(x!=null&&x.startsWith("fb-messenger://user-thread/")){var V=x.substr("fb-messenger://user-thread/".length);return{actionType:"DEEPLINK",primaryInfo:{loggingDetails:[(h||(h=d("I64"))).to_string(v),33],threadKey:h.of_string(V)}}}if(x!=null&&x.startsWith(l.SUBTHREAD_LINK)){try{V=new URL(x),x=V.searchParams.get("subthread_fbid")}catch(a){x=null}if(t!=null&&x!=null){var W=(h||(h=d("I64"))).of_string(x);return{actionType:"BUTTON",primaryInfo:function(){return t(W)},secondaryInfo:void 0}}}var X=a.actionContentBlob;if(X!=null)return{actionType:"BUTTON",primaryInfo:function(){return q(X)},secondaryInfo:void 0};if(e!=null)if(e.includes("://m.me/j/")){if(a.targetId!=null){V=(h||(h=d("I64"))).to_string(a.targetId);var Y=c("CurrentEnvironment").messengerdotcom?c("XMessengerDotComCometMainControllerRouteBuilder").buildURL({thread_key:V}):c("XCometMessengerControllerRouteBuilder").buildURL({thread_key:V});return{actionType:"BUTTON",primaryInfo:function(){return r==null?void 0:r.go(Y,{})},secondaryInfo:void 0}}return{actionType:"BUTTON",primaryInfo:function(){return s==null?void 0:s(e)},secondaryInfo:void 0}}else return{actionType:"URL",primaryInfo:e,secondaryInfo:[(h||(h=d("I64"))).to_string(v),33]};return{actionType:"CTA_ERROR",primaryInfo:"No Url found while parsing Open Native XMA "+b,secondaryInfo:"messenger_privacy_web"}}var Z=a.targetId;if(Z!=null&&j==="xma_services_confirm_booking")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ConfirmAppointmentBooking",VAL:{requestID:(h||(h=d("I64"))).to_string(Z)}})},secondaryInfo:void 0};if(C!=null&&C.length>0&&C!=="{}"&&!C.includes("notification_message_token")&&!C.includes("contact_type"))return{actionType:"BUTTON",primaryInfo:function(){return q(C)},secondaryInfo:void 0};if(e!=null){if(a.enableExtensions===!0){var $={actionLink:e,pageID:(h||(h=d("I64"))).to_string(v),sourceTitle:(x=k)!=null?x:"",userID:h.to_string(v)};if(j==="xma_open_rich_widget")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowMessengerRichWidgetExtension",VAL:$})},secondaryInfo:[(h||(h=d("I64"))).to_string(v),33]};else return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowMessengerExtensions",VAL:$})},secondaryInfo:[(h||(h=d("I64"))).to_string(v),33]}}return{actionType:"URL",primaryInfo:e,secondaryInfo:[(h||(h=d("I64"))).to_string(v),32]}}return{actionType:"CTA_ERROR",primaryInfo:"Unknown CTA encountered while parsing XMA. "+b,secondaryInfo:"messenger_privacy_web"}}}g["default"]=a}),98);
__d("useMWXMAInformedAttachmentLabel",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){a===void 0&&(a="");a={ALTERED_MEDIA:h._("__JHASH__pK0fcBDpaEV__JHASH__",[h._param("attachment item title",a)]),ALTERED_PHOTO:h._("__JHASH__dJ_qZg1Bnj2__JHASH__",[h._param("attachment item title",a)]),FALSE_NEWS:h._("__JHASH__9UILySlE-wD__JHASH__",[h._param("attachment item title",a)]),MISLEADING_NEWS:h._("__JHASH__7LJaDiii2kF__JHASH__",[h._param("attachment item title",a)]),MISSING_CONTEXT:h._("__JHASH__JiWZCmbD51v__JHASH__",[h._param("attachment item title",a)]),SENSITIVE:h._("__JHASH__gmdVuVfF78Q__JHASH__",[h._param("attachment item title",a)])};return b==null||a[b]==null?h._("__JHASH__jBGVUqdMJ6C__JHASH__"):a[b]}g["default"]=a}),226);
__d("MWXMAAttachmentActionTriggerDefault.react",["I64","MWInboxRouteBuilder","MWLSThread","MWXLink.react","MWXMAAttachmentActionTriggerWithOpenChatTab.react","MWXPressable.react","MessengerWebUXLogger","MessengerWebUXLoggerXMAEventLoggingImpl","ReQL","ReQLSuspense","isCometRouterUrl","justknobx","logXMACtaClicked","react","recoverableViolation","useGetMWXMACtaRegistryHandler","useMWXMAInformedAttachmentLabel","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l={link:{":hover_textDecoration":"x1lku1pv",$$css:!0}};function a(a){var b=a.attachment,e=a.attachmentItem,g=a.children,j=(h||(h=c("useReStore")))(),m=e.defaultCtaId,n=e.defaultCtaType,o=e.threadKey;a=c("useMWXMAInformedAttachmentLabel")(e==null?void 0:e.titleText,b==null?void 0:b.gatingTitle);var p=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(j.tables.messages.index("messageId")).getKeyRange(b.messageId)},[j,b.messageId],f.id+":60"),q=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(j.tables.attachment_ctas).getKeyRange((a=m)!=null?a:(i||(i=d("I64"))).zero)},[j,m],f.id+":67"),r=c("useGetMWXMACtaRegistryHandler")(),s=c("MessengerWebUXLogger").useInteractionLogger(),t=d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsClickLogger(),u=d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsRedirectDefaultToFBLogger(),v=d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventOpenInFBLogger(),w=d("MWLSThread").useThread(o,function(a){return a.threadType}),x=b.defaultCtaType==="xma_prompt_open_viewer_for_text";if(q==null)return g;r=r(q);switch(r.actionType){case"BUTTON":var y,z=r.primaryInfo,A=r.secondaryInfo;return k.jsx(c("MWXPressable.react"),{"aria-label":(y=e.titleText)!=null?y:e.defaultCtaTitle,hideHoverOverlay:x,onPress:function(){s==null?void 0:s({ctaType:n,eventName:"open_xma_attachment_cta",threadKey:o,threadType:w});d("logXMACtaClicked").logXMACtaClicked({cta:q,loggingDetails:A,source:1});t==null?void 0:t({attachment:b,clickCategory:2,message:p,threadType:w});u({attachment:b,message:p,threadType:w});return z()},children:g});case"DISABLED_BUTTON":return k.jsx(c("MWXPressable.react"),{"aria-label":(y=e.titleText)!=null?y:"",disabled:!0,children:g});case"URL":x=r.primaryInfo;var B=c("isCometRouterUrl")(x);if(!(x.startsWith("http")||x.startsWith("/")))return g;var C=r.secondaryInfo;return k.jsx(c("MWXLink.react"),{href:x,label:a,onClick:function(){d("logXMACtaClicked").logXMACtaClicked({cta:q,loggingDetails:C,source:1}),t==null?void 0:t({attachment:b,clickCategory:2,message:p,threadType:w}),u({attachment:b,isDirectToExternal:!B,message:p,threadType:w})},onNavigate:function(a){B&&a&&v({attachment:b,message:p,threadType:w})},target:c("justknobx")._("1677")?void 0:"_blank",xstyle:l.link,children:g});case"DEEPLINK":var D=function(){d("logXMACtaClicked").logXMACtaClicked({cta:q,loggingDetails:E,source:1}),t==null?void 0:t({attachment:b,clickCategory:2,message:p,threadType:w}),u==null?void 0:u({attachment:b,message:p,threadType:w})};e=r.primaryInfo;var E=e.loggingDetails;y=e.threadKey;var F=d("MWInboxRouteBuilder").buildURL({thread_key:(i||(i=d("I64"))).to_string(y)});return k.jsx(c("MWXMAAttachmentActionTriggerWithOpenChatTab.react"),{threadKey:y,children:function(a){return k.jsx(c("MWXLink.react"),{href:F,onClick:function(b){a(F,b);return D()},preventLocalNavigation:!0,xstyle:l.link,children:g})}});case"CTA_ERROR":c("recoverableViolation")(r.primaryInfo,r.secondaryInfo,void 0,{trackOnly:!0});return g;case"NOT_SUPPORTED":return g;case"POPOVER_BUTTON":return g}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentActionTrigger.react",["MWXMAAttachmentActionTriggerDefault.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachment,d=a.attachmentItem,e=a.children;a=a.isPressable;if(a)return i.jsx(c("MWXMAAttachmentActionTriggerDefault.react"),{attachment:b,attachmentItem:d,children:e});else return e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWVideoMediaRenderQPLSetup.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=a.mediaRenderQpl,c=a.videoRef;i(function(){if(b==null)return;var a=c==null?void 0:c.current;function d(){b==null?void 0:b.endSuccess()}function e(){b==null?void 0:b.endFail("load-video-error")}if((a==null?void 0:a.readyState)!=null&&a.readyState>=2){d();return}a==null?void 0:a.addEventListener("canplay",d);a==null?void 0:a.addEventListener("error",e);return function(){a==null?void 0:a.removeEventListener("canplay",d),a==null?void 0:a.removeEventListener("error",e)}},[b,c]);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRollCallXMAAttachmentItem.react",["BaseImage.react","MWVideoMediaRenderQPLSetup.react","MWXImage.react","MWXText.react","gkx","isStringNullOrEmpty","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=160,n=213,o={avatar:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},media:{backgroundColor:"xwcfey6",backgroundPosition:"x1xsqp64",backgroundSize:"x18d0r48",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",objectFit:"xl1xv1r",$$css:!0},timestamp:{flexShrink:"x2lah0s",paddingBottom:"x84yb8i",$$css:!0},titleText:{flexGrow:"x1iyjqo2",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0}};function a(a){var b=a.attachmentItem,d=a.mediaRenderQpl;a=b.faviconUrl;var e=b.playableUrl,f=b.previewUrl,g=b.subtitleText;b=b.titleText;k(function(){!c("isStringNullOrEmpty")(e)&&!c("isStringNullOrEmpty")(f)&&(d==null?void 0:d.endSuccess())},[d,e,f]);var i=l(null);if(!c("isStringNullOrEmpty")(e))return j.jsxs("div",{className:"xfh8nwu xoqspk4 x12v9rci x138vmkv xwfyxwz x1xx6w2s x6ikm8r x10wlt62 xq1dxzn",children:[j.jsx(c("MWVideoMediaRenderQPLSetup.react"),{mediaRenderQpl:d,videoRef:i}),j.jsx("video",{className:"xwcfey6 x1xsqp64 x18d0r48 xfh8nwu xoqspk4 x12v9rci x138vmkv xl1xv1r",height:n,muted:!0,src:e,width:m})]});else if(!c("isStringNullOrEmpty")(f))return j.jsx("div",{className:"xfh8nwu xoqspk4 x12v9rci x138vmkv xwfyxwz x1xx6w2s x6ikm8r x10wlt62 xq1dxzn",children:j.jsx(c("BaseImage.react"),{height:n,onError:d==null?void 0:d.endFail("load-image-error"),onLoad:d==null?void 0:d.endSuccess(),src:f,width:m,xstyle:o.media})});else if(c("gkx")("23420")&&!c("isStringNullOrEmpty")(b)&&!c("isStringNullOrEmpty")(a))return j.jsxs("div",{className:"xfh8nwu xoqspk4 x12v9rci x138vmkv xwfyxwz x1xx6w2s x6ikm8r x10wlt62 xq1dxzn x9bbmet x78zum5 xdt5ytf xz9dl7a xn6708d xsag5q8 x1ye3gou",children:[j.jsx(c("MWXImage.react"),{height:24,src:a,width:24,xstyle:o.avatar}),j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).spread(o.titleText),{children:j.jsx(c("MWXText.react"),{numberOfLines:6,type:"entityHeaderMeta3",children:b})})),c("isStringNullOrEmpty")(g)?null:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).spread(o.timestamp),{children:j.jsx(c("MWXText.react"),{type:"body4",children:g})}))]});return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemCtaButtonBase.react",["ix","AdsMessengerContext.react","I64","ImageIconSource","LSCTAIconType","LSIntEnum","LSMessagingThreadTypeUtil","MWInboxRouteBuilder","MWLSThread","MessengerWebUXLogger","ReQL","ReQLSuspense","gkx","react","recoverableViolation","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react")),n=j.useEffect,o=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWXMAAttachmentItemCtaButtonBase.react");function p(a){if(a==null)return null;switch((l||(l=d("LSIntEnum"))).toNumber(a)){case c("LSCTAIconType").NONE:return null;case c("LSCTAIconType").FB:return new(c("ImageIconSource"))(h("814640"),16,16);default:return null}}function a(a){var b=a.attachmentId,e=a.ctaIconType,g=a.ctaId,h=a.getCtaRegistryHandler;a.messageId;var j=a.renderButtonActionEventButton,l=a.renderButtonActionNonEventButton,q=a.renderDeeplinkActionButton,r=a.renderDisabledButtonActionButton,s=a.renderPopoverMenuButtonActionButton,t=a.renderUrlActionButton,u=a.threadKey,v=a.title,w=a.type,x=(i||(i=c("useReStore")))();a=d("MWLSThread").useThread(u,function(a){return a.threadType});var y=c("MessengerWebUXLogger").useImpressionLoggerRef({ctaType:w,eventName:"xma_attachment_cta",threadKey:u,threadType:a});a=a?d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a):!1;var z=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(x.tables.attachment_ctas).getKeyRange(g)},[x,g],f.id+":138");n(function(){var a=["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_ended_audio","xma_rtc_video","xma_rtc_missed_video","xma_rtc_ended_video"].includes(w);a&&o.onReady(function(a){a.logImpression({surface:"admin_message"})})},[w]);var A=d("AdsMessengerContext.react").useAdsMessengerContext(),B=A.isMessengerInAds;A=A.maybeGetCallbackFromURI;if(z==null)return w==="xma_disabled_cta"?m.jsx("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",ref:y,children:r(v)}):null;h=h(z);e=p(e);var C=null;switch(h.actionType){case"BUTTON":var D=h.secondaryInfo,E=h.primaryInfo,F=w==="xma_event_rsvp"&&c("gkx")("24146");b!=null&&u!=null&&!((a=a)!=null?a:!1)&&F?C=j(b,u,v,e,z,D):F||(C=l(v,e,z,D,E));break;case"POPOVER_BUTTON":s&&(C=s(v,z,h.primaryInfo));break;case"URL":a=h.secondaryInfo;j=A==null?void 0:A(h.primaryInfo);B&&j!=null?C=l(v,e,z,a,j):C=t(v,e,z,a,h.primaryInfo);break;case"DISABLED_BUTTON":C=r(v);break;case"DEEPLINK":b=h.primaryInfo;u=b.loggingDetails;F=b.threadKey;D=d("MWInboxRouteBuilder").buildURL({thread_key:(k||(k=d("I64"))).to_string(F)});C=q(v,F,z,u,D);break;case"CTA_ERROR":c("recoverableViolation")(h.primaryInfo,h.secondaryInfo,void 0,{trackOnly:!0});C=null;break;case"NOT_SUPPORTED":C=null;break}return m.jsx("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",ref:y,children:C})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWCMPollsV1Enabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,function(a){return{pollsV1UICapability:d("LSThreadBitOffset").has(158,a)}}))!=null?a:{};a=a.pollsV1UICapability;return a===!0}g["default"]=a}),98);
__d("useMWHasPollsVotingEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(170,a)}))!=null?a:!1;return a}g["default"]=a}),98);
__d("MWXMAAttachmentItemCtaButton.react",["I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MDSButton.react","MWCMIsAnyCMThread","MWLSThread","MWXEntryPointPopoverTrigger.react","MWXLazyPopoverTrigger.react","MWXMAAttachmentActionTriggerWithOpenChatTab.react","MWXMAAttachmentItemCtaButtonBase.react","MWXPopoverLoadingState.react","MWXTooltip.react","MessengerWebUXLogger","logXMACtaClicked","react","useGetMWXMACtaRegistryHandler","useMWCMPollsV1Enabled","useMWCMPollsV2Enabled","useMWHasPollsVotingEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=c("JSResourceForInteraction")("MWCMEventRSVPXMADropdownMenu.react").__setRef("MWXMAAttachmentItemCtaButton.react"),l={root:{minWidth:"xktpd3l",$$css:!0}};function a(a){var b=a.attachmentId,e=a.ctaIconType,f=a.ctaId,g=a.messageId,h=a.popoverMenu,m=a.threadKey,n=a.title;a=a.type;var o=c("MessengerWebUXLogger").useInteractionLogger(),p=d("MWLSThread").useThread(m,function(a){return a.threadType}),q={ctaType:a,eventName:"open_xma_attachment_cta",threadKey:m,threadType:p};p=c("useGetMWXMACtaRegistryHandler")();var r=c("useMWHasPollsVotingEnabled")(m),s=c("useMWCMPollsV1Enabled")(m),t=c("useMWCMPollsV2Enabled")(m),u=d("MWLSThread").useThread(m,function(a){return c("MWCMIsAnyCMThread")(a.threadType)}),v=d("MWLSThread").useThread(m,function(a){return d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(a.threadType)||d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(a.threadType)});if(!r&&(a==="xma_poll_details_button"||a==="xma_poll_details_card"))return null;return((r=u)!=null?r:!1)&&!s&&!t&&a==="xma_poll_details_button"?null:j.jsx(c("MWXMAAttachmentItemCtaButtonBase.react"),{attachmentId:b,ctaIconType:e,ctaId:f,getCtaRegistryHandler:p,messageId:g,renderButtonActionEventButton:function(a,b,e,f,g,h){return j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"stretch",popoverProps:{eventId:(i||(i=d("I64"))).of_string(a),threadKey:b},popoverResource:k,popoverType:"menu",position:"above",preloadTrigger:"button",children:function(a,b,i,k,l,m){return j.jsx(c("MWXTooltip.react"),{tooltip:e,children:j.jsx(c("MDSButton.react"),{icon:f,label:e,onHoverIn:k,onHoverOut:l,onPress:function(){o==null?void 0:o(q);d("logXMACtaClicked").logXMACtaClicked({cta:g,loggingDetails:h,source:2});return b()},onPressIn:m,ref:a,type:"secondary"})})}})},renderButtonActionNonEventButton:function(a,b,e,f,g){return j.jsx(c("MWXTooltip.react"),{tooltip:a,children:j.jsx(c("MDSButton.react"),{disabled:v,icon:b,label:a,onPress:function(){o==null?void 0:o(q);d("logXMACtaClicked").logXMACtaClicked({cta:e,loggingDetails:f,source:2});return g()},type:"secondary"})})},renderDeeplinkActionButton:function(a,b,e,f,g){return j.jsx(c("MWXTooltip.react"),{tooltip:a,children:j.jsx(c("MWXMAAttachmentActionTriggerWithOpenChatTab.react"),{threadKey:b,children:function(b){return j.jsx(c("MDSButton.react"),{label:a,linkProps:{preventLocalNavigation:!0,url:g},onPress:function(a){b(g,a);o==null?void 0:o(q);return d("logXMACtaClicked").logXMACtaClicked({cta:e,loggingDetails:f,source:2})},type:"secondary"})}})})},renderDisabledButtonActionButton:function(a){return j.jsx(c("MWXTooltip.react"),{tooltip:a,children:j.jsx(c("MDSButton.react"),{disabled:!0,label:a,type:"secondary"})})},renderPopoverMenuButtonActionButton:h?function(a,b,e){return j.jsx(c("MWXEntryPointPopoverTrigger.react"),{align:"stretch",entryPointParams:{primaryInfo:e},fallback:j.jsx(c("MWXPopoverLoadingState.react"),{withArrow:!1,xstyle:l.root}),otherProps:{cta:b},popoverEntryPoint:h,popoverType:"menu",position:"below",preloadTrigger:"button",children:function(e,f){return j.jsx(c("MWXTooltip.react"),{tooltip:a,children:j.jsx(c("MDSButton.react"),{label:a,onPress:function(){o==null?void 0:o(q);d("logXMACtaClicked").logXMACtaClicked({cta:b,loggingDetails:void 0,source:2});return f()},ref:e,type:"secondary"})})}})}:void 0,renderUrlActionButton:function(a,b,e,f,g){return j.jsx(c("MWXTooltip.react"),{tooltip:a,children:j.jsx(c("MDSButton.react"),{icon:b,label:n,linkProps:{target:"_blank",url:g},onPress:function(){o==null?void 0:o(q),d("logXMACtaClicked").logXMACtaClicked({cta:e,loggingDetails:f,source:2})},type:"secondary"})})},threadKey:m,title:n,type:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemIcon.react",["CometImageCover.react","FDSSkittleIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.icon;if(a==null)return null;return typeof a==="string"?i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:i.jsx(c("CometImageCover.react"),{alt:"Icon for this message",src:a,style:{borderRadius:"50%",height:"36px",width:"36px"}})}):i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:i.jsx(c("FDSSkittleIcon.react"),{color:a.color,icon:a.icon,size:36})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemListItemsBase.react",["LSMediaUrlAttachment","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachment,c=a.renderDefaultListItem,e=a.renderPercentageListItem;a=[{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList1,contactUrlFallbackList:b.listItemContactUrlFallbackList1,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList1(b),id:b.listItemId1,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage1,titleText:b.listItemTitleText1,totalCount:b.listItemTotalCount1},{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList2,contactUrlFallbackList:b.listItemContactUrlFallbackList2,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList2(b),id:b.listItemId2,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage2,titleText:b.listItemTitleText2,totalCount:b.listItemTotalCount2},{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList3,contactUrlFallbackList:b.listItemContactUrlFallbackList3,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList3(b),id:b.listItemId3,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage3,titleText:b.listItemTitleText3,totalCount:b.listItemTotalCount3}];var f=[];a.forEach(function(a){var b=a.contactUrlExpirationTimestampList,c=a.contactUrlFallbackList,d=a.contactUrlList,e=a.id,g=a.progressBarFilledPercentage,h=a.titleText;a=a.totalCount;if(e!=null){d=d!=null?d.split(","):[];var i=b!=null?b.split(","):[],j=c!=null?c.split(","):[];f.push({contacts:d.map(function(a,b){return{url:a,urlExpirationTimestamp:i[b],urlFallback:j[b]}}),id:e,progressBarFilledPercentage:g,titleText:h,totalCount:a})}});return i.jsx(d("react-strict-dom").html.ul,{children:f.map(function(a){var b=a.progressBarFilledPercentage;return b!=null?e(a,b):c(a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemListItems.react",["I64","MWChatPollFacepile.react","MWLSThreadDisplayContext","MWXMAAttachmentItemListItemsBase.react","MWXText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var b=a.attachment,e=a.onPollOptionFacepilePress,f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return j.jsx(c("MWXMAAttachmentItemListItemsBase.react"),{attachment:b,renderDefaultListItem:function(a){return j.jsx("li",{className:"xwwskcc x1q0q8m5 xso031l x1l1xfun x13fuv20 x178xt8z x14vqqas xsag5q8 xz9dl7a",children:j.jsxs("div",{children:[j.jsx(c("MWChatPollFacepile.react"),{contactWithBorder:!1,contacts:a.contacts.map(function(a){return{name:void 0,profile_picture_url:a.url}}),countOverride:a.totalCount!=null?(i||(i=d("I64"))).to_int32(a.totalCount):void 0,limit:9,overflowStyle:"overlayLastPhoto",size:"large"}),a.titleText!=null?j.jsx("div",{className:"xsgj6o6 x1xmf6yo",children:j.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:2,type:"body4",children:a.titleText})}):null]})},(i||(i=d("I64"))).to_string(a.id))},renderPercentageListItem:function(a,b){return j.jsxs("li",{className:"x14vqqas",children:[j.jsxs("div",{className:"x78zum5 x1qughib",children:[a.titleText!=null?j.jsx(c("MWXText.react"),{numberOfLines:f==="Inbox"?3:1,type:"headline4",children:a.titleText}):null,j.jsx("div",{className:"x1i64zmx",children:j.jsx(c("MWChatPollFacepile.react"),{contacts:a.contacts.map(function(a){return{name:void 0,profile_picture_url:a.url}}),countOverride:a.totalCount!=null?(i||(i=d("I64"))).to_int32(a.totalCount):void 0,direction:"reversed",gap:"negative",onPress:e!=null?function(){e(a.id)}:void 0,size:"small"})})]}),j.jsx("div",{className:"x1wpzbip x1lq5wgf xgqcy7u x30kzoy x9jhf4c xdk7pt xod5an3 x1xmf6yo",children:j.jsx("div",{className:"xsqyzxx x1lq5wgf xgqcy7u x30kzoy x9jhf4c xdk7pt",style:{width:(i||(i=d("I64"))).to_string(b)+"%"}})})]},i.to_string(a.id))}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXIconChevronLeft",["MWXSvgIcon","SVGIcon","cr:9088","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9088")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXMAAttachmentSubtitleDecoration.react",["ix","Int64Hooks","LSIntEnum","MNXMASubtitleDecorationType","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){var b=a.subtitleDecorationType;return d("Int64Hooks").useMemoInt64(function(){switch((j||(j=d("LSIntEnum"))).toNumber(b)){case c("MNXMASubtitleDecorationType").THREADS_ICON:return k.jsx(c("MWXIcon.react"),{color:"secondary",icon:d("fbicon")._(h("380222"),16)});default:return null}},[b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAIconParser",["ConstUriUtils","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case"clear":case"staticWhite":case"white":case"white70":case"black":case"black50":case"black34":case"black20":case"black12":case"black6":case"black4":case"bluegrey75":case"bluegrey50":case"placeholder-icon":case"blue":case"purple":case"gray":case"background":case"scarlet":case"steel":case"coregreen":case"coral":case"sky":case"coreblue":case"emerald":return"gray";case"red":return"cherry";case"green":return"lime";case"honey":return"lemon";default:c("recoverableViolation")("Unknown Icon color: "+a,"messenger_web_sharing");return"gray"}}function a(a){if(a==null)return;if(a.startsWith("https")||a.startsWith("blob"))return a;if(!a.startsWith("ls"))return;a=a.replace("ls","http");a=d("ConstUriUtils").getUri(a);if(a==null)return;var b=a.getQueryParam("icon");a=a.getQueryParam("circleColor");if(typeof b==="string"&&typeof a==="string"){a=h(a);return{color:a,icon:b}}return}g.parse=a}),98);
__d("MWXMAIconParser.react",["ix","MWPXMAIconParser","fbicon","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){switch(a){case"airplane":return d("fbicon")._(h("571771"),20);case"calendar":return d("fbicon")._(h("481118"),20);case"calendar-add":return d("fbicon")._(h("640913"),20);case"camcorder":return d("fbicon")._(h("493174"),20);case"camcorder-incoming":return d("fbicon")._(h("1096148"),20);case"camcorder-missed":return d("fbicon")._(h("662989"),20);case"camcorder-outgoing":return d("fbicon")._(h("1096150"),20);case"camcorder-plus":return d("fbicon")._(h("662993"),20);case"checkmark-circle":return d("fbicon")._(h("498146"),20);case"cross-circle":return d("fbicon")._(h("1501526"),20);case"currency-peso":return d("fbicon")._(h("1174630"),20);case"currency-pound":return d("fbicon")._(h("1174587"),20);case"currency-taka":return d("fbicon")._(h("182108"),20);case"currency-thai-baht":return d("fbicon")._(h("876716"),20);case"currency-usd":return d("fbicon")._(h("847056"),20);case"document-complete":return d("fbicon")._(h("728245"),20);case"friend-generic":return d("fbicon")._(h("502671"),20);case"friend-generic-checkmark":return d("fbicon")._(h("538342"),20);case"group":return d("fbicon")._(h("485091"),20);case"group-block":return d("fbicon")._(h("714636"),20);case"location":return d("fbicon")._(h("795388"),20);case"pin":return d("fbicon")._(h("481942"),20);case"phone":return d("fbicon")._(h("558161"),20);case"phone-incoming":return d("fbicon")._(h("1096151"),20);case"phone-outgoing":return d("fbicon")._(h("1096154"),20);case"shield":return d("fbicon")._(h("492714"),20);case"phone-missed":return d("fbicon")._(h("847457"),20);case"question-circle":return d("fbicon")._(h("1604445"),20);case"tag":return d("fbicon")._(h("502473"),20);case"watch":return d("fbicon")._(h("607169"),20);case"map":return d("fbicon")._(h("645715"),20);case"house-keyhole":return d("fbicon")._(h("1670302"),20);case"document":return d("fbicon")._(h("728245"),20);case"checkmark":return d("fbicon")._(h("477814"),20);case"shopping-cart":return d("fbicon")._(h("763120"),20);case"cross":return d("fbicon")._(h("478233"),20);default:c("recoverableViolation")("Unknown XMA Icon: "+a,"messenger_web_sharing");return}}function a(a){a=d("MWPXMAIconParser").parse(a);if(a==null)return;if(typeof a==="string")return a;var b=a.color;a=a.icon;a=i(a);if(a!=null)return{color:b,icon:a}}g.parse=a}),98);
__d("MWXMAAttachmentItemMainText.react",["fbt","I64","LSIntEnum","Locale","MNLSXMALayoutType","MNXMASubtitleDecorationType","MWXIconChevronLeft","MWXIconChevronRight","MWXIconStrict.react","MWXMAAttachmentSubtitleDecoration.react","MWXMAIconParser.react","MWXText.react","MWXTextPairing.react","gkx","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||d("react"),n={hscroll:{paddingEnd:"xsyo7zv",paddingStart:"x16hj40l",$$css:!0},root:{maxWidth:"x193iq5w",whiteSpace:"x126k92a",width:"xh8yej3",$$css:!0},subthreadXMADescriptionRow:{justifyContent:"x1nhvcw1",$$css:!0},subthreadXMARow:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"x1qughib",$$css:!0},withIcon:{paddingBottom:"xg8j3zb",paddingTop:"xyqdw3p",$$css:!0}},o=c("gkx")("24147");function a(a){var b,e=a.attachment,f=a.attachmentItem,g=a.bodyLineLimit,j=a.facePileElement,p=a.getFaviconUrlXMA,q=a.headlineLineLimit,r=a.isHscroll;a.isStandalone;var s=a.outgoing;s=s===void 0?!1:s;var t=a.subtitleText,u=a.title;a=a.xmaLayout;b=(k||(k=d("I64"))).equal((b=e.xmaLayoutType)!=null?b:(k||(k=d("I64"))).zero,(l||(l=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT));f=d("MWXMAIconParser.react").parse((p=p(e,f))!=null?p:"");p=h._("__JHASH__SFJQf-uN6yj__JHASH__");var v=h._("__JHASH__-LANapr3SYq__JHASH__"),w=d("Locale").isRTL()?c("MWXIconChevronLeft"):c("MWXIconChevronRight");w=u!==""?b&&o?m.jsxs("div",{className:"x6s0dn4 x78zum5 x1qughib",children:[m.jsx(c("MWXText.react"),{color:s?"white":"secondary",type:"meta2",children:u}),m.jsx(c("MWXIconStrict.react"),{color:s?"white":"secondary",icon:w,size:12})]}):m.jsx(c("MWXTextPairing.react"),{headline:b?p:u,headlineLineLimit:q,level:4,testid:void 0,textAlign:e.attachmentLoggingType==="xma_view_event"?"center":"start"}):null;q=t!==""?b&&o?m.jsxs("div",{className:(i||(i=c("stylex")))([n.subthreadXMARow,n.subthreadXMADescriptionRow]),children:[j,m.jsx("div",{className:"x1k70j0n",children:m.jsx(c("MWXText.react"),{color:s?"white":"secondary",type:"meta2",children:e.replyCount==null||(k||(k=d("I64"))).equal(e.replyCount,(k||(k=d("I64"))).zero)?t:(k||(k=d("I64"))).gt((p=e.replyCount)!=null?p:(k||(k=d("I64"))).zero,(k||(k=d("I64"))).of_int32(20))?h._("__JHASH__Dd3JSX2bl8X__JHASH__"):h._("__JHASH__J-X-Y424pwe__JHASH__",[h._plural((k||(k=d("I64"))).to_int32((u=e.replyCount)!=null?u:(k||(k=d("I64"))).zero),"number")])})})]}):m.jsx("div",{className:"x889kno",children:m.jsx(c("MWXTextPairing.react"),{body:b?v:t,bodyColor:"secondary",bodyLineLimit:g,level:4,testid:void 0})}):null;s=(j=e.subtitleDecorationType)!=null?j:(k||(k=d("I64"))).zero;p=(l||(l=d("LSIntEnum"))).toNumber(s)===c("MNXMASubtitleDecorationType").THREADS_ICON?m.jsx("div",{className:"x1emribx x1k70j0n",children:m.jsx(c("MWXMAAttachmentSubtitleDecoration.react"),{subtitleDecorationType:s})}):null;u=e.captionBodyText!=null?m.jsx(c("MWXText.react"),{color:"primary",type:"meta3",children:e.captionBodyText}):null;return m.jsxs("div",{className:(i||(i=c("stylex")))(n.root,f==null?r?n.hscroll:!1:n.withIcon),children:[a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&w!==null?m.jsx("div",{className:"xahult9",children:w}):w,u,m.jsxs("div",{className:"x6s0dn4 x78zum5",children:[p,q]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXMAEventFacepiles.react",["FDSPressableFacepile.react","I64","MWXText.react","ReQL","ReQLSuspense","react","stylex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=j||d("react"),m={facepile:{display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",paddingTop:"x889kno",paddingBottom:"x1a8lsjc",$$css:!0},root_center_aligned:{display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},root_start_aligned:{display:"x78zum5",justifyContent:"x1nhvcw1",$$css:!0}};function a(a){var b=a.avatarText,e=a.count,g=a.ctaId,j=a.size;j=j===void 0?32:j;var n=a.urls;a=a.xstyle;var o=g!=null?(k||(k=d("I64"))).to_string(g):"",p=(h||(h=c("useReStore")))();o=d("ReQLSuspense").useFirst(function(){return g!=null?d("ReQL").fromTableAscending(p.tables.attachment_ctas).getKeyRange(g):d("ReQL").empty()},[p,o],f.id+":51");var q=e!=null?(k||(k=d("I64"))).le(e,(k||(k=d("I64"))).of_int32(9)):!1;o=q?void 0:{target:"_blank",url:o==null?void 0:o.actionUrl};q=q?n.map(function(a){return{source:{uri:a}}}):n.slice(0,9).map(function(a){return{source:{uri:a}}});var r=b==null?m.root_center_aligned:m.root_start_aligned,s=b!=null?l.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:b}):void 0;return q.length>0?l.jsx("div",{className:(i||(i=c("stylex")))(r),"data-testid":void 0,children:l.jsx("div",{className:(i||(i=c("stylex")))(m.facepile,a),role:"gridcell",children:l.jsx(c("FDSPressableFacepile.react"),{count:e!=null?(k||(k=d("I64"))).to_int32(e):n.length,isOverlapping:!0,isTextInline:b!=null,items:q,linkProps:o,size:j,text:s})})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getLSMediaAttachmentAvatarViewUrlList",["I64","LSMediaUrlUtils","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.avatarViewUrlExpirationTimestampList,e=a.avatarViewUrlFallbackList;a=a.avatarViewUrlList;if(a==null)if(b!=null)return[];else if(e!=null)return e.split(", ");else return[];if(b==null)return[];if(e==null)return[];a=a.split(", ");var f=b.split(", "),g=e.split(", ");return a.map(function(a,b){var e;try{e=d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(f[b]))}catch(a){e=!0}if(e){return(e=c("rewriteFallbackUrl")(g[b]))!=null?e:""}else return a})}g["default"]=a}),98);
__d("MWXMAAttachmentItemBody.react",["I64","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MDSTextPairing.react","MNLSXMALayoutType","MWLSThread","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemCtaButton.react","MWXMAAttachmentItemIcon.react","MWXMAAttachmentItemListItems.react","MWXMAAttachmentItemMainText.react","MWXMAEventFacepiles.react","MWXMAIconParser.react","MessengerWebUXLoggerXMAEventLoggingImpl","ReQL","ReQLSuspense","getLSMediaAttachmentAvatarViewUrlList","react","stylex","useReStore","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=j||d("react"),n={buttonsOnly:{marginTop:"xdj266r",$$css:!0},buttonsWrapper:{justifySelf:"x1qab1bc",marginTop:"x14vqqas",$$css:!0},description:{display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",marginEnd:"xw3qccf",$$css:!0},hasFavicon:{paddingEnd:"x4uap5",paddingStart:"xkhd6sd",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",minHeight:"xisnujt",$$css:!0},rootWithHeaderAndNoMedia:{marginTop:"xdj266r",$$css:!0},subthreadFacepiles:{marginEnd:"xmo9yow",marginLeft:null,marginRight:null,paddingTop:"xexx8yu",paddingBottom:"x18d9i69",$$css:!0},xmaUnifiedtyles:{marginTop:"x14vqqas",marginEnd:"xktsk01",marginBottom:"x1yztbdb",marginStart:"x1d52u69",$$css:!0}};function a(a){var b,e,g=a.attachment,j=a.attachmentItem,r=a.bodyLineLimit,s=a.ctaPopoverMenu,t=a.facepiles,u=a.getFaviconUrlXMA,v=a.getPlayableUrl,w=a.getPreviewUrlXMA,x=a.headlineLineLimit,y=a.isHscroll,z=a.isPressable,A=a.isStandalone,B=a.onPollOptionFacepilePress,C=a.outgoing;C=C===void 0?!1:C;a=a.xmaLayout;b=d("MWXMAIconParser.react").parse((b=u(g,j))!=null?b:"");e=(k||(k=d("I64"))).equal((e=g.xmaLayoutType)!=null?e:(k||(k=d("I64"))).zero,(l||(l=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT));var D=j.titleText==null&&j.subtitleText==null&&b==null,E=j.titleText!=null||!A?j.titleText:g.titleText,F=j.subtitleText!=null||!A?j.subtitleText:g.subtitleText,G=c("getLSMediaAttachmentAvatarViewUrlList")(g);t=(t=t)!=null?t:G.length!==0&&!e?[m.jsx(c("MWXMAEventFacepiles.react"),{avatarText:g.avatarViewContextText,count:g.avatarCount,ctaId:j.attachmentCta1Id,urls:G},"xma-event-facepiles")]:[];e=E==null&&F==null?[]:[m.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:g,attachmentItem:j,isPressable:z,children:m.jsxs("div",{className:(h||(h=c("stylex")))(n.description,b==null?!1:n.hasFavicon),children:[m.jsx(c("MWXMAAttachmentItemIcon.react"),{icon:b}),m.jsx(c("MWXMAAttachmentItemMainText.react"),{attachment:g,attachmentItem:j,bodyLineLimit:r,facePileElement:(k||(k=d("I64"))).equal((e=g.avatarCount)!=null?e:(k||(k=d("I64"))).zero,(k||(k=d("I64"))).zero)?null:m.jsx(c("MWXMAEventFacepiles.react"),{avatarText:g.avatarViewContextText,count:g.avatarCount,ctaId:j.attachmentCta1Id,size:16,urls:G,xstyle:n.subthreadFacepiles}),getFaviconUrlXMA:u,headlineLineLimit:x,isHscroll:y,isStandalone:A,outgoing:C,subtitleText:(z=F)!=null?z:"",title:(b=E)!=null?b:"",xmaLayout:a})]})},"xma-action-trigger")];G=g.listItemsDescriptionText;u=g.listItemsDescriptionSubtitleText;y=g.cta2IconType;A=g.cta3IconType;C=g.listItemId1;F=g.listItemsSecondaryDescriptionText;z=g.messageId;E=g.threadKey;b=j.attachmentCta1Id;var H=j.attachmentCta2Id,I=j.attachmentCta3Id,J=j.cta1IconType,K=j.cta1Title,L=j.cta1Type,M=j.cta2Title,N=j.cta2Type,O=j.cta3Title,P=j.cta3Type;D=L!=null&&K!=null&&b!=null?[m.jsxs("div",{className:(h||(h=c("stylex")))(n.buttonsWrapper,D?n.buttonsOnly:!1),children:[m.jsx(c("MWXMAAttachmentItemCtaButton.react"),{attachmentId:g.attachmentFbid,ctaIconType:J,ctaId:b,messageId:z,threadKey:E,title:K,type:L}),N!=null&&M!=null&&H!=null?m.jsxs(m.Fragment,{children:[m.jsx(c("MWXMAAttachmentItemCtaButton.react"),{attachmentId:g.attachmentFbid,ctaIconType:y,ctaId:H,messageId:z,popoverMenu:s,threadKey:E,title:M,type:N}),P!=null&&O!=null&&I!=null?m.jsx(c("MWXMAAttachmentItemCtaButton.react"),{ctaIconType:A,ctaId:I,messageId:z,threadKey:E,title:O,type:P}):null]}):null]},"xma-cta-button")]:[];J=G!=null?[m.jsx(o,{headlineLineLimit:x,listItemsDescriptionText:G},"xma-list-items-description-text")]:[];b=u!=null?[m.jsx(p,{bodyLineLimit:r,value:u},"xma-list-items-description-subtitle-text")]:[];K=C!=null?[m.jsx(c("MWXMAAttachmentItemListItems.react"),{attachment:g,onPollOptionFacepilePress:B},"list-item-1")]:[];L=F!=null?[m.jsx(q,{bodyLineLimit:r,listItemsSecondaryDescriptionText:F},"xma-list-items-secondary-description-text")]:[];y=[e,J,b,t,K,L,D].reduce(function(a,b){return a.concat(b)},[]);H=d("LSMediaUrlAttachment").previewUrl(g)!=null||d("LSMediaUrlAttachmentItem").previewUrl(j)!=null||d("LSMediaUrlAttachmentItem").playableUrl(j)!=null||w(g,j)!=null||v(g,j)!=null;var Q=(i||(i=c("useReStore")))();s=d("MWLSThread").useThread(E,function(a){return a.threadType});M=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(Q.tables.messages.index("messageId")).getKeyRange(g.messageId)},[Q,g.messageId],f.id+":336");N=d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsImpressionLoggerRef({attachment:g,clickCategory:1,message:M,threadType:s});return y.length===0?null:m.jsx("div",{className:(h||(h=c("stylex")))(n.root,a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?n.xmaUnifiedtyles:!1,a!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&!H&&g.headerTitle!=null?n.rootWithHeaderAndNoMedia:!1),ref:N,children:y.map(function(a,b){return m.jsx(m.Fragment,{children:a},String(b))})})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b=a.headlineLineLimit;a=a.listItemsDescriptionText;return m.jsx("div",{className:"x78zum5 x1q0g3np x1iyjqo2 xl56j7k xw3qccf",children:m.jsx(c("MDSTextPairing.react"),{headline:a,headlineLineLimit:b,level:4,textAlign:"center"})})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.bodyLineLimit;a=a.value;return m.jsx("div",{className:"x78zum5 xl56j7k xwib8y2 x889kno",children:m.jsx(c("MDSTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:b,level:4,textAlign:"center"})})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.bodyLineLimit;a=a.listItemsSecondaryDescriptionText;return m.jsx("div",{className:"xod5an3",children:m.jsx(c("MDSTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:b,level:4})})}q.displayName=q.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemAttribution.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.attachment;a=a;var b=a.attributionAppIcon;a=a.attributionAppName;return b!=null&&a!=null?i.jsxs("div",{className:"x6s0dn4 x1gn5b1j x230xth x78zum5 x1rfph6h x1iorvi4 xsyo7zv xjkvuk6 x16hj40l",children:[i.jsx("img",{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu xlup9mm x1kky2od",src:b}),i.jsx("span",{className:"xzsf02u x1nxh6w3 x1mnrxsn x13faqbe",children:a})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXIconClock",["MWXSvgIcon","SVGIcon","cr:9095","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9095")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXMAEarlyAccessOverlay.react",["fbt","I64","LSIntEnum","MNXMAPreviewImageDecorationType","MWXColumn.react","MWXColumnItem.react","MWXIconClock","MWXIconStrict.react","MWXRow.react","MWXRowItem.react","MWXText.react","ServerTime","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;var m=b.useEffect,n=b.useMemo,o=b.useState,p={pill:{backgroundColor:"xatbrnm",borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",$$css:!0}};function a(a){var b=a.attachment;a=o(d("ServerTime").getMillis());var e=a[0],f=a[1];m(function(){if(b.previewOverlayCountdownExpiry!=null&&b.previewImageDecorationType!==null&&(j||(j=d("I64"))).equal(b.previewImageDecorationType,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").PILL))&&c("gkx")("1643")){var a=window.setInterval(function(){f(d("ServerTime").getMillis())},1e3);return function(){return window.clearInterval(a)}}},[b.previewImageDecorationType,b.previewOverlayCountdownExpiry,e]);a=n(function(){var a=b.previewOverlayCountdownExpiry;if(a!=null){a=(j||(j=d("I64"))).to_float(a)*1e3-e;var c=Math.floor(a/36e5),f=Math.floor(a/6e4)%60;a=Math.floor(a/1e3)%60;return c<0&&f<0&&a<0?null:c?h._("__JHASH__z-6zXNtvXEV__JHASH__",[h._param("hours",c)]):f?h._("__JHASH__J0Qi9lOhYJe__JHASH__",[h._param("minutes",f)]):a?h._("__JHASH__0RhXAr4DyYr__JHASH__",[h._param("seconds",a)]):null}},[b.previewOverlayCountdownExpiry,e]);if(b.previewImageDecorationType==null||!c("gkx")("1643"))return null;if((j||(j=d("I64"))).equal(b.previewImageDecorationType,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").BLUR)))return l.jsx("div",{className:"x1h6ucep x1ey2m1c x78zum5 xds687c x10l6tqk x17qophe x13vifvy",children:l.jsx(c("MWXRow.react"),{align:"center",expanding:!0,children:l.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:l.jsxs(c("MWXColumn.react"),{spacing:16,children:[l.jsx(c("MWXColumnItem.react"),{align:"center",children:l.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconClock"),size:20})}),l.jsx(c("MWXColumnItem.react"),{align:"center",children:l.jsx(c("MWXText.react"),{color:"white",type:"body2",children:h._("__JHASH__wNWq__FwzYH__JHASH__")})})]})})})});return(j||(j=d("I64"))).equal(b.previewImageDecorationType,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").PILL))?a!=null&&l.jsx("div",{className:"x1ey2m1c x78zum5 xds687c x10l6tqk x17qophe x13vifvy",children:l.jsx(c("MWXRow.react"),{align:"end",expanding:!0,verticalAlign:"top",children:l.jsxs(c("MWXRow.react"),{paddingHorizontal:8,paddingVertical:0,spacingHorizontal:4,xstyle:p.pill,children:[l.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:l.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconClock"),size:16})}),l.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:l.jsx(c("MWXText.react"),{color:"white",type:"body4",children:a})})]})})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXMAInformedTreatment.react",["fbt","CometBlurredBackgroundImage.react","EyeCrossFilled24.svg.react","InfoCircleFilled20.svg.react","MWXColumn.react","MWXColumnItem.react","MWXIcon.react","MWXImage.react","MWXText.react","MessengerWebUXLogger","SVGIcon","WAArmadilloXMA.pb","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={overlay:{paddingTop:"xexx8yu",paddingEnd:"x1iji9kk",paddingBottom:"x18d9i69",paddingStart:"x1sln4lm",$$css:!0},post:{flexGrow:"x1iyjqo2",height:"x5yr21d",objectFit:"xl1xv1r",width:"xh8yej3",$$css:!0}},l={ALTERED_MEDIA:{icon:d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")),text:h._("__JHASH__5H5N5-Xsncf__JHASH__")},ALTERED_PHOTO:{icon:d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")),text:h._("__JHASH__MMwXoLKk349__JHASH__")},CRUEL:{icon:d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")),text:h._("__JHASH__i1O1Uvt1vZ6__JHASH__")},FALSE_NEWS:{icon:d("SVGIcon").svgIcon(c("InfoCircleFilled20.svg.react")),text:h._("__JHASH__MnSycojlY-Q__JHASH__")},MISLEADING_NEWS:{icon:d("SVGIcon").svgIcon(c("InfoCircleFilled20.svg.react")),text:h._("__JHASH__CYwjewQWzi8__JHASH__")},MISSING_CONTEXT:{icon:d("SVGIcon").svgIcon(c("InfoCircleFilled20.svg.react")),text:h._("__JHASH__RL7VH1G5kZU__JHASH__")},SENSITIVE:{icon:d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")),text:h._("__JHASH__sovQqayBAJd__JHASH__")},VIOLENCE:{icon:d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")),text:h._("__JHASH__sovQqayBAJd__JHASH__")}},m=h._("__JHASH__zDjOAdn9yE8__JHASH__");function a(a){var b=a.dimension,e=a.gatingTitle,f=a.gatingType,g=a.mediaRenderQpl,h=a.previewUrl,i=h===void 0?"":h,n=a.xstyle,o=c("gkx")("23219"),p=function(a){var b;return((b=l[a])==null?void 0:b.icon)==null?d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")):l[a].icon},q=function(a){var b;return((b=l[a])==null?void 0:b.text)==null?null:l[a].text};h=function(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.WARNING_SCREENS:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE:return j.jsx("div",{className:"x10l6tqk xtzzx4i xwa60dl x11lhmoz xh8yej3",children:j.jsxs(c("MWXColumn.react"),{spacing:12,verticalAlign:"center",children:[j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx(c("MWXIcon.react"),{color:"white",icon:p(e),size:32})}),j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXText.react"),{align:"center",color:"white",numberOfLines:1,type:o?"bodyLink3":"bodyLink4",children:q(e)})}),j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXText.react"),{align:"center",color:"white",type:o?"meta3":"meta4",children:m})})]})});case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.MEDIA_LABEL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.POST_LABEL:return j.jsxs("div",{className:"x6s0dn4 x1gevrdp x1fk37vd xdy0ngz xqb0rpr x1tp0a3f x107yiy2 xv8uw2v x1tfwpuw x2g32xy x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv xe80o0v x78zum5 x1k3u6ij xpse7mg x1ihrfj4 x10w6t97 xyqdw3p x1iji9kk xg8j3zb x16hj40l x10l6tqk x1tk7jg1 xuxw1ft x1vvkbs",children:[j.jsx(c("MWXIcon.react"),{color:"white",icon:p(e),size:24}),j.jsx(c("MWXText.react"),{align:"center",color:"white",type:o?"bodyLink3":"bodyLink4",children:q(e)})]});default:return null}};a=function(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.MEDIA_LABEL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.POST_LABEL:return j.jsx("div",{style:b,children:j.jsx(c("MWXImage.react"),{alt:"",onError:function(){return g==null?void 0:g.endFail("load-image-error")},onLoad:function(){return g==null?void 0:g.endSuccess()},src:i,xstyle:k.post})});default:return j.jsxs(j.Fragment,{children:[j.jsx(c("CometBlurredBackgroundImage.react"),{alt:"",onError:function(){return g==null?void 0:g.endFail("load-image-error")},onLoad:function(){return g==null?void 0:g.endSuccess()},src:i,xstyle:[k.post,n,k.overlay]}),j.jsx("div",{className:"x18l40ae x1ey2m1c xds687c xtea3wc x47corl x10l6tqk x17qophe x13vifvy"})]})}};var r=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"inform_treatment_chat_impression"});return j.jsxs("div",{className:"x78zum5 x1m3v4wt x1n2onr6 xh8yej3",ref:r,children:[a(parseInt(f,10)),h(parseInt(f,10))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXMAAttachmentItemImage.react",["CometImageCover.react","I64","LSIntEnum","MNLSXMALayoutType","MNXMAPreviewImageDecorationType","MWXMAEarlyAccessOverlay.react","MWXMAInformedTreatment.react","gkx","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=a.attachment,e=a.attachmentItem,f=a.cardWidth,g=a.isStandalone,h=a.mediaRenderQpl,l=a.previewUrl;a=a.xmaLayout;var m=e.previewWidth==null?0:(i||(i=d("I64"))).to_int32(e.previewWidth),n=e.previewHeight==null?0:(i||(i=d("I64"))).to_int32(e.previewHeight),o=e.defaultCtaType;o==="xma_montage_share"?o=!0:o=e.imageUrl==null?g:m===n;e=m!==0?n!==0?m/n:0:0;b.xmaLayoutType!=null&&(i||(i=d("I64"))).equal(b.xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA))&&(e===0&&(e=2),o=!0);g=f;f={height:(e===0?106:g/e).toString()+"px",width:g.toString()+"px"};var p={};a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&(n>m&&(f.height=g.toString()+"px",f.width=(e===0?106:g*e).toString()+"px"),p=babelHelpers["extends"]({aspectRatio:void 0,flexGrow:"0",margin:"auto"},f));a=b.previewImageDecorationType!=null&&(i||(i=d("I64"))).equal(b.previewImageDecorationType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").BLUR))&&c("gkx")("1643");n=a?{filter:"blur(15px)",transform:"scale(1.1)"}:{};if(l.length===0||l===""){h==null?void 0:h.addPoint("empty_preview_url");return null}m={height:(e===0?g-106:g/e).toString()+"px",width:g.toString()+"px"};if(b.gatingTitle!=null&&b.gatingType!=null)return k.jsx(c("MWXMAInformedTreatment.react"),{dimension:m,gatingTitle:b.gatingTitle,gatingType:b.gatingType,mediaRenderQpl:h,previewUrl:l});return o?k.jsxs("div",{className:"x78zum5 x6ikm8r x10wlt62 x1n2onr6 xh8yej3",children:[k.jsx("img",{alt:"",onError:function(){return h==null?void 0:h.endFail("load-image-error")},onLoad:function(){return h==null?void 0:h.endSuccess()},src:l,style:babelHelpers["extends"]({aspectRatio:e,flexGrow:"1",height:"auto",maxWidth:"100%",objectFit:"cover"},p,n)}),k.jsx(c("MWXMAEarlyAccessOverlay.react"),{attachment:b})]}):k.jsx("div",{className:"x78zum5 x6ikm8r x10wlt62 x1n2onr6 xh8yej3",style:f,children:k.jsx(c("CometImageCover.react"),{alt:"",onError:function(){return h==null?void 0:h.endFail("load-image-error")},onLoad:function(){return h==null?void 0:h.endSuccess()},src:l,style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemDefaultPreview.react",["CometObjectFitContainer.react","CometPlaceholder.react","I64","MDSGlimmer.react","MWLSThreadDisplayContext","MWPBaseXMAAttachmentItem.react","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemAttribution.react","MWXMAAttachmentItemImage.react","deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useEffect,l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWChatVideoPlayer.react").__setRef("MWXMAAttachmentItemDefaultPreview.react")),m={glimmer:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0}};function a(a){var b,e=a.attachment,f=a.attachmentItem,g=a.cardWidth,h=a.getPlayableUrl,m=a.getPreviewUrlXMA,n=a.isPressable,p=a.isStandalone,q=a.mediaRenderQpl;a=a.xmaLayout;b=(b=e.shouldAutoplayVideo)!=null?b:!1;var r=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();r=r==="Inbox";r=d("MWPBaseXMAAttachmentItem.react").getXMAAttachmentItemPreview({attachment:e,attachmentItem:f,getPreviewUrl:m,preferLargePreview:r});m=m(e,f);h=h(e,f);var s=(r.type==="Video"||r.type==="Image")&&r.url.length>0;k(function(){s||(q==null?void 0:q.endSuccess())},[s,q]);switch(r.type){case"Video":return h==null?null:j.jsxs(c("MWXMAAttachmentActionTrigger.react"),{attachment:e,attachmentItem:f,isPressable:n,children:[j.jsx(o,{attachmentItem:f,children:j.jsx(l,{controls:b?"none":"mwchat",fbid:f.attachmentFbid,hideExpandButton:!1,mediaRenderQpl:q,originalHeight:f.previewHeight!=null?(i||(i=d("I64"))).to_int32(f.previewHeight):0,originalWidth:f.previewWidth!=null?(i||(i=d("I64"))).to_int32(f.previewWidth):0,sdSrc:h,shouldForcePauseOnClick:!0})}),b?j.jsx(c("MWXMAAttachmentItemAttribution.react"),{attachment:e}):null]});case"Image":return m==null?null:j.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:e,attachmentItem:f,isPressable:n,children:j.jsx(c("MWXMAAttachmentItemImage.react"),{attachment:e,attachmentItem:f,cardWidth:g,isStandalone:p,mediaRenderQpl:q,previewUrl:m,xmaLayout:a})});case"Unsupported":return null}}a.displayName=a.name+" [from "+f.id+"]";function n(){return j.jsx("div",{className:"x78zum5 x5yr21d x6ikm8r x10wlt62 x10l6tqk xh8yej3",children:j.jsx(c("MDSGlimmer.react"),{index:0,xstyle:m.glimmer})})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b,e=a.attachmentItem;a=a.children;b=(i||(i=d("I64"))).to_int32((b=e.previewWidth)!=null?b:(i||(i=d("I64"))).zero);e=i.to_int32((e=e.previewHeight)!=null?e:(i||(i=d("I64"))).zero);b=b!==0?e!==0?b/e:0:0;e=e>250&&b<.8;return j.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:e?.8:b,children:j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(n,{}),children:a})})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemHeaderIcon.react",["CometImageCover.react","FDSSkittleIcon.react","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.icon;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;if(typeof b==="string"){a=a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?"40px":"32px";return i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:i.jsx(c("CometImageCover.react"),{alt:"Icon for this message's header",src:b,style:{borderRadius:"50%",height:a,width:a}})})}return i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:i.jsx(c("FDSSkittleIcon.react"),{color:b.color,icon:b.icon,size:36})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemHeader.react",["ix","I64","LSIntEnum","LSVerifiedType","MWXIcon.react","MWXMAAttachmentItemHeaderIcon.react","MWXMAIconParser.react","MWXText.react","MWXTextPairing.react","fbicon","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||d("react"),n={root:{alignItems:"x6s0dn4",display:"x78zum5",marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",$$css:!0},withBorder:{borderBottomColor:"x1nb4dca",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0}};function a(a){var b=a.attachment,e=a.getHeaderUrlXMA;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var f=b.headerTitle;if(f==null)return null;var g=b.headerSubtitleText;e=e(b);e=e==null?void 0:d("MWXMAIconParser.react").parse(e);var j=a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT;b=b.verifiedType!=null?(k||(k=d("I64"))).equal(b.verifiedType,(l||(l=d("LSIntEnum"))).ofNumber(c("LSVerifiedType").DEFAULT)):!1;return m.jsxs("div",{className:(i||(i=c("stylex")))(n.root,j?n.withBorder:!1),children:[e!=null&&m.jsx(c("MWXMAAttachmentItemHeaderIcon.react"),{icon:e,xmaLayout:a}),j&&g!==null&&g!=null&&g!==""?m.jsx(c("MWXTextPairing.react"),{headline:f,level:4,meta:g}):m.jsx(c("MWXText.react"),{type:"bodyLink3",children:f}),b?m.jsx("div",{className:"x78zum5 xsgj6o6",children:m.jsx(c("MWXIcon.react"),{color:"highlight",icon:d("fbicon")._(h("494936"),12)})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemDefaultXMAContent.react",["LSIntEnum","MNLSXMALayoutType","MWRollCallXMAAttachmentItem.react","MWXMAAttachmentItemBody.react","MWXMAAttachmentItemDefaultPreview.react","MWXMAAttachmentItemHeader.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var b=a.attachment,e=a.attachmentItem,f=a.bodyLineLimit,g=a.cardWidth,h=a.ctaPopoverMenu,k=a.facepiles,l=a.getFaviconUrlXMA,m=a.getHeaderUrlXMA,n=a.getPlayableUrl,o=a.getPreviewUrlXMA,p=a.headlineLineLimit,q=a.isHscroll,r=a.isPressable,s=a.isStandalone,t=a.mediaRenderQpl,u=a.onPollOptionFacepilePress,v=a.outgoing;v=v===void 0?!1:v;a=a.xmaLayout;var w=b.defaultCtaType,x=b.xmaLayoutType!==void 0&&(i||(i=d("LSIntEnum"))).toNumber(b.xmaLayoutType)===c("MNLSXMALayoutType").SHARED_STACK;if(x)return j.jsx(c("MWRollCallXMAAttachmentItem.react"),{attachmentItem:e,mediaRenderQpl:t});return w==="xma_montage_share"?j.jsx(c("MWXMAAttachmentItemDefaultPreview.react"),{attachment:b,attachmentItem:e,cardWidth:g,getPlayableUrl:n,getPreviewUrlXMA:o,isPressable:r,isStandalone:s,mediaRenderQpl:t,xmaLayout:a}):j.jsxs(j.Fragment,{children:[j.jsx(c("MWXMAAttachmentItemHeader.react"),{attachment:b,getHeaderUrlXMA:m,xmaLayout:a}),j.jsx(c("MWXMAAttachmentItemDefaultPreview.react"),{attachment:b,attachmentItem:e,cardWidth:g,getPlayableUrl:n,getPreviewUrlXMA:o,isPressable:r,isStandalone:s,mediaRenderQpl:t,xmaLayout:a}),j.jsx(c("MWXMAAttachmentItemBody.react"),{attachment:b,attachmentItem:e,bodyLineLimit:f,ctaPopoverMenu:h,facepiles:k,getFaviconUrlXMA:l,getPlayableUrl:n,getPreviewUrlXMA:o,headlineLineLimit:p,isHscroll:q,isPressable:r,isStandalone:s,onPollOptionFacepilePress:u,outgoing:v,xmaLayout:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAPrivateAttachment.react",["fbt","ix","IconSource","MWXIcon.react","MWXMAAttachmentActionTrigger.react","MWXMAInformedTreatment.react","MWXText.react","emptyFunction","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useEffect,m={sensitiveContent:{alignItems:"x6s0dn4",backdropFilter:"x1qb2erx",backgroundColor:"x1av1boa",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",justifyContent:"xl56j7k",textAlign:"x2b8uid",width:"xni59qk",$$css:!0}};function a(a){var b=a.attachment,d=a.attachmentItem,e=a.getPreviewUrlXMA;e=e===void 0?c("emptyFunction"):e;var f=a.isPressable;a=a.mediaRenderQpl;var g=b.defaultCtaType;e=e(b,d);if(b.gatingTitle!=null&&b.gatingType!=null)return k.jsxs(k.Fragment,{children:[k.jsx(c("MWXMAInformedTreatment.react"),{gatingTitle:b.gatingTitle,gatingType:b.gatingType,mediaRenderQpl:a,previewUrl:e,xstyle:m.sensitiveContent}),k.jsx(o,{attachment:b,attachmentItem:d,isPressable:f})]});return g==="xma_montage_share"?k.jsx(n,{attachment:b,mediaRenderQpl:a}):k.jsxs(k.Fragment,{children:[k.jsx(n,{attachment:b,mediaRenderQpl:a}),k.jsx(o,{attachment:b,attachmentItem:d,isPressable:f})]})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=a.attachment,d=a.mediaRenderQpl;l(function(){d==null?void 0:d.endSuccess()},[d]);a=new(c("IconSource"))("FB",i("1423125"),32);b=b.defaultCtaType;if(b==="xma_montage_share")return k.jsx("div",{className:"x6s0dn4 x1qb2erx xjw5052 x78zum5 xdt5ytf x1dr9wh xl56j7k x2b8uid xni59qk",children:k.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:k.jsx(c("MWXIcon.react"),{icon:a})})});b=h._("__JHASH__EXLuTpYr-at__JHASH__");return k.jsxs("div",{className:"x6s0dn4 xzudefj x78zum5 xdt5ytf x1iu8u7t xl56j7k x2b8uid xh8yej3",children:[k.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:k.jsx(c("MWXIcon.react"),{icon:a})}),k.jsx(c("MWXText.react"),{color:"white",type:"bodyLink4",children:b})]})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.attachment,d=a.attachmentItem;a=a.isPressable;return k.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:b,attachmentItem:d,isPressable:a,children:k.jsx("div",{className:"x78zum5 x1q0g3np x1iyjqo2 xw3qccf",children:k.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 xl56j7k x14vqqas xq8finb xod5an3 x16n37ib x193iq5w xisnujt x1jzhcrs xh8yej3",children:k.jsx(c("MWXText.react"),{type:"meta4",children:h._("__JHASH__N1DOsSnTIti__JHASH__")})})})})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXMAAttachmentItem.react",["I64","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MNLSXMALayoutType","MWCMThreadTypes.react","MWLSThreadDisplayContext","MWPBaseXMAAttachmentItem.react","MWPThreadCapabilitiesContext","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemDefaultXMAContent.react","MWXMAPrivateAttachment.react","ReQL","ReQLSuspense","WAArmadilloXMA.pb","react","stylex","useReStore","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||(l=d("react")),n=l.useCallback,o={root:{display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",$$css:!0},withBorder:{borderTopColor:"x1exxf4d",borderEndColor:"x1y71gwh",borderBottomColor:"x1nb4dca",borderStartColor:"xu1343h",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",$$css:!0}},p=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),q=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]);function a(a){var b,e=a.attachment,g=a.attachmentItem,l=a.bodyLineLimit;l=l===void 0?3:l;var r=a.cardWidth;r=r===void 0?300:r;var s=a.ctaPopoverMenu,t=a.facepiles,u=a.getFaviconUrlXMA,v=a.getHeaderUrlXMA;v=v===void 0?d("LSMediaUrlAttachment").headerImageUrl:v;var w=a.getPlayableUrl,x=a.getPreviewUrlXMA,y=a.headlineLineLimit;y=y===void 0?3:y;var z=a.isHscroll,A=a.isStandalone,B=a.mediaRenderQpl,C=a.onPollOptionFacepilePress,D=a.outgoing;D=D===void 0?!1:D;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var E=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),F=E.rtcVideoCallEnabled;E=E.rtcVoiceCallEnabled;var G=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="Inbox",H=n(function(a,b){a=d("MWPBaseXMAAttachmentItem.react").getXMAAttachmentItemPreview({attachment:a,attachmentItem:b,preferLargePreview:G});switch(a.type){case"Video":case"Image":return a.url;case"Unsupported":return}},[G]),I=(h||(h=c("useReStore")))(),J=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(I.tables.threads,["threadType"]).getKeyRange(e.threadKey)},[I,e.threadKey],f.id+":121"),K=e.defaultCtaType;E=K!=null?q.has(K)&&!E||p.has(K)&&!F:!1;F=(K=e.shouldAutoplayVideo)!=null?K:!1;K=F&&e.attributionAppIcon!=null&&e.attributionAppName!=null;F=(k||(k=c("stylex")))(o.root,K?o.withBorder:!1);K=g.attachmentCta1Id!=null;var L=e.gatingType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE.toString();J=J?d("MWCMThreadTypes.react").isUnjoinedCMThread(J.threadType):!1;b=(i||(i=d("I64"))).equal((b=e.xmaLayoutType)!=null?b:(i||(i=d("I64"))).zero,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT));var M=e.cta1Type==="xma_join_community"||e.cta1Type==="xma_join_community_chat";J=J&&b||E||M;return m.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:e,attachmentItem:g,isPressable:!K&&!J,children:m.jsx("div",{className:F,"data-testid":void 0,children:L?m.jsx(c("MWXMAPrivateAttachment.react"),{attachment:e,attachmentItem:g,getPreviewUrlXMA:(b=x)!=null?b:H,isPressable:K&&!J,mediaRenderQpl:B}):m.jsx(c("MWXMAAttachmentItemDefaultXMAContent.react"),{attachment:e,attachmentItem:g,bodyLineLimit:l,cardWidth:r,ctaPopoverMenu:s,facepiles:t,getFaviconUrlXMA:(E=u)!=null?E:function(a,b){return(a=(a=d("LSMediaUrlAttachment").faviconUrl(a))!=null?a:d("LSMediaUrlAttachmentItem").faviconUrl(b))!=null?a:""},getHeaderUrlXMA:v,getPlayableUrl:(M=w)!=null?M:H,getPreviewUrlXMA:(F=x)!=null?F:H,headlineLineLimit:y,isHscroll:z,isPressable:K&&!J,isStandalone:A,mediaRenderQpl:B,onPollOptionFacepilePress:C,outgoing:D,xmaLayout:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentHorizontalItems.react",["fbt","CometHScroll.react","I64","MWXMAAttachmentItem.react","MWXMessageBubbleCornerStyles.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m=284,n={flexibleContainer:{"@media (max-width: 1439px)_maxWidth":"x1bu0bv6","@media (min-width: 1440px)_maxWidth":"x6vbh5p",$$css:!0},spacer:{marginTop:"xvijh9v",$$css:!0},topElement:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0}};function a(a){var b=a.attachmentItems,e=a.fullWidthContainer;e=e===void 0?!1:e;var f=a.hasText,g=f===void 0?!1:f,k=a.xstyle,o=a.cardWidth,p=babelHelpers.objectWithoutPropertiesLoose(a,["attachmentItems","fullWidthContainer","hasText","xstyle","cardWidth"]),q=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles();return l.jsx("div",{className:(i||(i=c("stylex")))(!e&&n.flexibleContainer),children:l.jsx(d("CometHScroll.react").Container,{accessibilityLabel:h._("__JHASH__grvWiY5ySlo__JHASH__"),cardWidth:o!=null?{type:"fixed",width:o}:{minWidth:m,type:"responsive"},gap:8,children:b.map(function(a,b){return l.jsx(d("CometHScroll.react").Child,{expanding:!0,children:l.jsx("div",{className:"x2bj2ny x5yr21d xh8yej3",children:l.jsx("div",{className:(i||(i=c("stylex")))(q,k,b===0&&g&&n.topElement,g&&n.spacer),children:l.jsx(c("MWXMAAttachmentItem.react"),babelHelpers["extends"]({},p,{attachmentItem:a,cardWidth:o,isStandalone:!1}))})})},(j||(j=d("I64"))).to_string(a.attachmentIndex))})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPResponsiveImageGrid.react",["BaseImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={gridImage:{bottom:"x1ey2m1c",end:"xds687c",left:null,right:null,height:"x5yr21d",objectFit:"xl1xv1r",objectPosition:"x115dhu7",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",$$css:!0}};function a(a){a=a.urls;return i.jsx("ul",{className:"x78zum5 x1a02dak x8182xy x1kgmq87",children:a.map(function(a){return i.jsx("li",{className:"x1yu6fn4",children:i.jsx("div",{className:"xqtp20y x12mruv9 xr9ek0c x1vrad04 x1n2onr6",children:i.jsx(c("BaseImage.react"),{src:a,xstyle:j.gridImage})})},a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAIgProfile.react",["MWPResponsiveImageGrid.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k=function(a){a=a.previewUrl;return a};function a(a){var b=a.attachmentItems;a=j(function(){return b.map(k).filter(Boolean)},[b]);return i.jsx("div",{className:"x193iq5w xgqtt45 xdzyupr",children:i.jsx(c("MWPResponsiveImageGrid.react"),{urls:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemIgProfile.react",["LSMediaUrlAttachment","MWPXMAIgProfile.react","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemHeader.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useEffect;function a(a){var b=a.attachment,e=a.attachmentItems,f=a.getHeaderUrlXMA;f=f===void 0?d("LSMediaUrlAttachment").headerImageUrl:f;var g=a.mediaRenderQpl;a=a.xstyle;k(function(){g==null?void 0:g.endSuccess()},[g]);var i=e[0];return j.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:b,attachmentItem:i,isPressable:!0,children:j.jsxs("div",{className:(h||(h=c("stylex")))(a),"data-testid":void 0,children:[j.jsx(c("MWXMAAttachmentItemHeader.react"),{attachment:b,getHeaderUrlXMA:f}),j.jsx(c("MWPXMAIgProfile.react"),{attachmentItems:e})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRollCallTimerPill.react",["fbt","I64","MWXText.react","react","useInterval"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useMemo,m=b.useState;function n(a){var b=1e3,c=b*60,d=c*60,e=d*24;a=a;var f=Math.floor(a/e);a-=f*e;e=Math.floor(a/d);a-=e*d;d=Math.floor(a/c);a-=d*c;c=Math.floor(a/b);a-=c*b;return{days:f,hours:e,minutes:d,seconds:c}}function a(a){var b=a.attachment;a=l(function(){var a;return(j||(j=d("I64"))).to_float((a=b.countdownTimestampMs)!=null?a:(j||(j=d("I64"))).zero)},[b.countdownTimestampMs]);var e=m(Date.now()),f=e[0],g=e[1];e=f>a;c("useInterval")(function(){g(Date.now())},e?6e4:1e3,[g]);if(!e){e=n(a-f);var i=e.minutes;e=e.seconds;i=("0"+i).slice(-2)+":"+("0"+e).slice(-2)}else if(b.cta1Type==="xma_roll_call_open_viewer")i=h._("__JHASH__iEcmesFoHMR__JHASH__");else{e=n(f-a);f=e.days;a=e.hours;e=e.minutes;f>30?i=h._("__JHASH__FgpGUEY9N0G__JHASH__"):f>0?i=h._("__JHASH__UZjF4IaHC-f__JHASH__",[h._param("days",f)]):a>0?i=h._("__JHASH__4LZO7x78s0P__JHASH__",[h._param("hours",a)]):i=h._("__JHASH__JXYYWJwIx9x__JHASH__",[h._param("minutes",Math.max(1,e))])}return k.jsx("div",{className:"x1h0vfkc x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x9f619 x78zum5 xdt5ytf x1qx5ct2 xl56j7k xkrivgy x1gryazu x1sxyh0 xurb0ha xeq5yr9",children:k.jsx(c("MWXText.react"),{numberOfLines:1,type:"meta4",children:i})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXMAAttachmentSharedStackFrontCard.react",["I64","LSAuthorityLevel","LSIntEnum","MWChatPollFacepile.react","MWLSThread","MWRollCallTimerPill.react","MWXMAAttachmentItemCtaButton.react","MWXSpinner.react","MWXText.react","MessengerWebUXLoggerXMAEventLoggingImpl","ReQL","ReQLSuspense","getLSMediaAttachmentAvatarViewUrlList","react","stylex","useCurrentDisplayMode","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=j||(j=d("react")),n=j.useEffect,o={frontCard:{backgroundColor:"x9bbmet",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x28gwc1",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",overflowX:"xw2csxc",overflowY:"x1odjw0f",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",width:"xh8yej3",$$css:!0},frontCardDarkMode:{boxShadow:"xdxoyvu",$$css:!0}};function a(a){var b=a.attachment,e=a.mediaRenderQpl;a=a.xstyle;var g=c("getLSMediaAttachmentAvatarViewUrlList")(b),j=b.countdownTimestampMs;j=j!=null&&!(l||(l=d("I64"))).equal(j,(l||(l=d("I64"))).zero)?m.jsx(c("MWRollCallTimerPill.react"),{attachment:b}):null;var p=(h||(h=c("useReStore")))(),q=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(p.tables.messages.index("messageId")).getKeyRange(b.messageId)},[p,b.messageId],f.id+":81"),r=d("MWLSThread").useThread(b.threadKey,function(a){return a.threadType});q=d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsImpressionLoggerRef({attachment:b,clickCategory:1,message:q,threadType:r});r=(k||(k=d("LSIntEnum"))).toNumber(b.authorityLevel)===c("LSAuthorityLevel").OPTIMISTIC;var s=c("useCurrentDisplayMode")()==="dark";n(function(){e==null?void 0:e.endSuccess()},[e]);return m.jsxs("div",{className:(i||(i=c("stylex")))(o.frontCard,s&&o.frontCardDarkMode,a),ref:q,children:[j,m.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x1xmf6yo",children:m.jsx(c("MWXText.react"),{align:"center",numberOfLines:3,type:"headlineEmphasized4",children:b.titleText})}),m.jsx("div",{className:"xr1yuqi xkrivgy x4ii5y1 x1gryazu",children:r?m.jsx(c("MWXSpinner.react"),{color:"disabled",size:24}):m.jsx(c("MWChatPollFacepile.react"),{contacts:g.map(function(a){return{name:void 0,profile_picture_url:a}}),direction:"reversed",gap:"negative",size:"large"})}),m.jsx("div",{className:"x1xmf6yo",children:b.attachmentCta1Id!=null&&b.cta1Title!=null&&b.cta1Type!=null?m.jsx(c("MWXMAAttachmentItemCtaButton.react"),{attachmentId:b.attachmentFbid,ctaId:b.attachmentCta1Id,messageId:b.messageId,threadKey:b.threadKey,title:b.cta1Title,type:b.cta1Type}):null})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSharedStackItem.react",["MWXMAAttachmentItem.react","MWXMAAttachmentSharedStackConstants","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={stackItem:{borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",bottom:"x1ey2m1c",boxShadow:"x28gwc1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",start:"x17qophe",$$css:!0}};function a(a){var b=a.attachment,e=a.attachmentItem,f=a.index,g=a.mediaRenderQpl,i=a.totalItems;a=a.xstyle;var l=f%2===0?-4:4,m=0,n=0;switch(f){case 0:m=0;n=-12;break;case 1:m=58;n=-20;break;case 2:m=34;n=-28;break}return(b.defaultCtaType==="xma_prompt_open_viewer_for_text"||b.defaultCtaType==="xma_roll_call_open_viewer")&&e.previewUrl===void 0&&e.titleText===void 0?null:j.jsx("div",{className:(h||(h=c("stylex")))(k.stackItem,a),style:{height:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT,transform:"rotate("+l+"deg) translateX("+m+"px) translateY("+n+"px)",width:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH,zIndex:i-f},children:j.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:e,cardWidth:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH,isHscroll:!1,isStandalone:!1,mediaRenderQpl:g})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSharedStackLayout.react",["MWXMAAttachmentSharedStackConstants","MWXMAAttachmentSharedStackItem.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={centered:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},stackContainer:{position:"x1n2onr6",$$css:!0}};function a(a){var b=a.attachment,e=a.attachmentItems,f=a.centered;f=f===void 0?!1:f;var g=a.children;a=a.xstyle;var i=e.slice(0,3);e=d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT+32;var l=d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH+64;return j.jsxs("div",{className:(h||(h=c("stylex")))(k.stackContainer,a,f&&k.centered),style:{height:e,width:l},children:[i.map(function(a,d){return j.jsx(c("MWXMAAttachmentSharedStackItem.react"),{attachment:b,attachmentItem:a,index:d,mediaRenderQpl:null,totalItems:i.length},d)}),j.jsx("div",{className:"x1ey2m1c x10l6tqk x3f4u1h",style:{height:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT,width:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH,zIndex:i.length+1},children:g})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSubthreadShortcutLayout.react",["MWXMessageBubbleCornerStyles.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={background:{backgroundColor:"x1xr0vuk",$$css:!0},centered:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},outgoingBackground:{backgroundAttachment:"x1nr1p0w",backgroundColor:"x11jlvup",backgroundImage:"xl54vp5",color:"x14ctfv",$$css:!0}};function a(a){var b=a.children,e=a.outgoing;a=a.xstyle;var f=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles();return j.jsx("div",{className:(h||(h=c("stylex")))(f,a,k.centered,e?k.outgoingBackground:k.background),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentVerticalLayout.react",["CometPlaceholder.react","MWLSThreadDisplayContext","MWXGlimmer.react","MWXMessageBubbleCornerStyles.react","qex","react","react-strict-dom","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={centered:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},glimmer:{height:"x1m3v4wt",width:"xdzyupr",$$css:!0},glimmerChatTabWidth:{width:"x1t9vceh",$$css:!0},glimmerMissingPreview:{height:"xqvfhly",$$css:!0}};function a(a){var b=a.attachment,e=a.centered;e=e===void 0?!1:e;var f=a.children,g=a.connectBottom,h=a.connectTop,k=a.hasText;k=k===void 0?!1:k;var l=a.outgoing,m=a.xmaLayout;a=a.xstyle;var n=c("qex")._("1494")===!0;l=l?"right":"left";k=n?k:h;l=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:l,connectBottom:g,connectTop:h,flatten:m!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&k?"top":"none"});g=[l,e&&j.centered];h=(b==null?void 0:b.previewHeightLarge)==null&&(b==null?void 0:b.previewHeight)==null;m=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab";return i.jsx(c("CometPlaceholder.react"),{fallback:n&&i.jsx(c("MWXGlimmer.react"),{index:1,xstyle:[j.glimmer,m&&j.glimmerChatTabWidth,h&&j.glimmerMissingPreview].concat(g)}),name:"MWXMAAttachment",children:i.jsx(d("react-strict-dom").html.div,{style:[a,g],children:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachment.react",["I64","Int64Hooks","LSIntEnum","LSXmaContentType","MNLSXMALayoutType","MWChatTypingIndicator.react","MWLSThreadDisplayContext","MWXMAAttachmentHorizontalItems.react","MWXMAAttachmentItem.react","MWXMAAttachmentItemIgProfile.react","MWXMAAttachmentSharedStackFrontCard.react","MWXMAAttachmentSharedStackLayout.react","MWXMAAttachmentSubthreadShortcutLayout.react","MWXMAAttachmentVerticalLayout.react","MWXMessageBubble.react","ReQL","ReQLSuspense","isReceiverFetchReceivingEnabled","react","recoverableViolation","stylex","useReStore","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||d("react");function n(a){return{attachmentCta1Id:a.attachmentCta1Id,attachmentCta2Id:a.attachmentCta2Id,attachmentCta3Id:a.attachmentCta3Id,attachmentFbid:a.attachmentFbid,attachmentIndex:a.attachmentIndex,cta1Title:a.cta1Title,cta1Type:a.cta1Type,cta2Title:a.cta2Title,cta2Type:a.cta2Type,cta3Title:a.cta3Title,cta3Type:a.cta3Type,dashManifest:a.dashManifest,defaultActionEnableExtensions:!1,defaultActionUrl:void 0,defaultButtonType:void 0,defaultCtaId:a.defaultCtaId,defaultCtaTitle:a.defaultCtaTitle,defaultCtaType:a.defaultCtaType,defaultWebviewHeightRatio:void 0,faviconUrl:a.faviconUrl,faviconUrlExpirationTimestampMs:a.faviconUrlExpirationTimestampMs,faviconUrlFallback:a.faviconUrlFallback,imageUrl:a.imageUrl,messageId:a.messageId,originalPageSenderId:a.originalPageSenderId,playableUrl:a.playableUrl,playableUrlExpirationTimestampMs:a.playableUrlExpirationTimestampMs,playableUrlFallback:a.playableUrlFallback,playableUrlMimeType:a.playableUrlMimeType,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewUrlExpirationTimestampMs:a.previewUrlExpirationTimestampMs,previewUrlFallback:a.previewUrlFallback,previewUrlLarge:a.previewUrlLarge,previewUrlMimeType:a.previewUrlMimeType,previewWidth:a.previewWidth,subtitleText:a.subtitleText,threadKey:a.threadKey,titleText:a.titleText}}var o={cardWidth:{maxWidth:"xw5ewwj",width:"xh8yej3",$$css:!0},cardWidthChatTab:{maxWidth:"x1i5r0r9",width:"xh8yej3",$$css:!0},outgoing_xma:{marginStart:"x1gryazu",marginLeft:null,marginRight:null,$$css:!0}},p={card:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",verticalAlign:"xxymvpz",$$css:!0},opaqueCard:{backgroundColor:"x1xr0vuk",$$css:!0},rootForHScrollInChatTab:{maxWidth:"xaka53j",$$css:!0}};function a(a){var b=a.attachment,e=a.bodyLineLimit,g=a.cardWidth,l=a.connectBottom,q=a.connectTop,r=a.ctaPopoverMenu,s=a.facepiles,t=a.fullWidthContainer;t=t===void 0?!1:t;var u=a.getFaviconUrlXMA,v=a.getHeaderUrlXMA,w=a.getPlayableUrl,x=a.getPreviewUrlXMA,y=a.hasText;y=y===void 0?!1:y;var z=a.headlineLineLimit,A=a.mediaRenderQpl,B=a.onPollOptionFacepilePress,C=a.outgoing,D=a.xmaLayout;D=D===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:D;a=a.xstyle;var E=(h||(h=c("useReStore")))(),F=b.attachmentFbid,G=b.attachmentType,H=b.cta1Type,I=b.defaultCtaType,J=b.isBorderless,K=b.xmaContentType,L=b.xmaLayoutType,M=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(E.tables.attachment_items).getKeyRange(F)},[F,E],f.id+":156"),N=d("Int64Hooks").useMemoInt64(function(){return L!=null?[(j||(j=d("I64"))).equal(L,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").HSCROLL)),(j||(j=d("I64"))).equal(L,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").XCENTER)),(j||(j=d("I64"))).equal(L,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SINGLE)),(j||(j=d("I64"))).equal(L,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SHARED_STACK)),(j||(j=d("I64"))).equal(L,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT)),(j||(j=d("I64"))).equal(L,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA))]:[!1,!1,!1]},[L]),O=N[0],P=N[1],Q=N[2],R=N[3],S=N[4];N=N[5];var T=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),U=null;K!=null&&(j||(j=d("I64"))).equal(K,(k||(k=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").MSG_RECEIVER_FETCH))&&c("isReceiverFetchReceivingEnabled")()?(A==null?void 0:A.addPoint("fetch_xma_data_receiver_fetch"),U=m.jsx(c("MWXMessageBubble.react"),{align:"left",color:"incoming",connectBottom:!1,connectTop:!1,precedesXMA:!1,children:m.jsx(c("MWChatTypingIndicator.react"),{})})):R?U=m.jsx(c("MWXMAAttachmentSharedStackLayout.react"),{attachment:b,attachmentItems:M,children:m.jsx(c("MWXMAAttachmentSharedStackFrontCard.react"),{attachment:b,mediaRenderQpl:A})}):S?U=m.jsx(c("MWXMAAttachmentSubthreadShortcutLayout.react"),{outgoing:C,xstyle:p.card,children:m.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:M[0],bodyLineLimit:e,cardWidth:g,ctaPopoverMenu:r,facepiles:s,getFaviconUrlXMA:u,getHeaderUrlXMA:v,getPlayableUrl:w,getPreviewUrlXMA:x,headlineLineLimit:z,isHscroll:O,isStandalone:!0,mediaRenderQpl:A,outgoing:C,xmaLayout:D})}):O?U=m.jsx(c("MWXMAAttachmentHorizontalItems.react"),{attachment:b,attachmentItems:M,bodyLineLimit:e,cardWidth:g,ctaPopoverMenu:r,facepiles:s,fullWidthContainer:t,getFaviconUrlXMA:u,getHeaderUrlXMA:v,getPlayableUrl:w,getPreviewUrlXMA:x,hasText:y,headlineLineLimit:z,isHscroll:O,mediaRenderQpl:A,xmaLayout:D,xstyle:[p.card,p.opaqueCard]}):Q&&M.length===6?U=m.jsx(c("MWXMAAttachmentVerticalLayout.react"),{attachment:b,centered:!0,connectBottom:l,connectTop:q,outgoing:C,xmaLayout:D,xstyle:[p.card,p.opaqueCard],children:m.jsx(c("MWXMAAttachmentItemIgProfile.react"),{attachment:b,attachmentItems:M,getHeaderUrlXMA:v,mediaRenderQpl:A})}):P&&M.length===1?U=m.jsx(c("MWXMAAttachmentVerticalLayout.react"),{attachment:b,centered:!0,connectBottom:l,connectTop:q,outgoing:C,xmaLayout:D,xstyle:[p.card,p.opaqueCard],children:m.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:M[0],bodyLineLimit:e,cardWidth:g,ctaPopoverMenu:r,facepiles:s,getFaviconUrlXMA:u,getHeaderUrlXMA:v,getPlayableUrl:w,getPreviewUrlXMA:x,headlineLineLimit:z,isHscroll:O,isStandalone:!0,mediaRenderQpl:A,onPollOptionFacepilePress:B,xmaLayout:D})}):M.length===0?U=m.jsx(c("MWXMAAttachmentVerticalLayout.react"),{attachment:b,connectBottom:l,connectTop:q,hasText:y,outgoing:C,xmaLayout:D,xstyle:[p.card,J!==!0&&p.opaqueCard],children:m.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:n(b),bodyLineLimit:e,cardWidth:g,ctaPopoverMenu:r,facepiles:s,getFaviconUrlXMA:u,getHeaderUrlXMA:v,getPlayableUrl:w,getPreviewUrlXMA:x,headlineLineLimit:z,isHscroll:O,isStandalone:!0,mediaRenderQpl:A,xmaLayout:D})}):M.length===1?U=m.jsx(c("MWXMAAttachmentVerticalLayout.react"),{attachment:b,connectBottom:l,connectTop:q,hasText:y,outgoing:C,xmaLayout:D,xstyle:[p.card,p.opaqueCard],children:m.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:M[0],bodyLineLimit:e,cardWidth:g,ctaPopoverMenu:r,facepiles:s,getFaviconUrlXMA:u,getHeaderUrlXMA:v,getPlayableUrl:w,getPreviewUrlXMA:x,headlineLineLimit:z,isHscroll:O,isStandalone:!0,mediaRenderQpl:A,outgoing:C,xmaLayout:D})}):(A==null?void 0:A.endFail("unknown_combination_of_xma_items_and_layout"),c("recoverableViolation")("Unknown combination of XMA items and layout. n Attachment Items: "+String(M.length)+", XMA Layout Type: "+(L==null?"na":(j||(j=d("I64"))).to_string(L))+", Attachment Type: "+(j||(j=d("I64"))).to_string(G)+",  XMA content Type: "+(K==null?"na":(j||(j=d("I64"))).to_string(K))+", default CTA type: "+(I==null?"na":I)+", CTA 1 type: "+(H==null?"na":H),"messenger_web_sharing",void 0,{trackOnly:!0}));R=D===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?[o.cardWidth,C&&o.outgoing_xma]:o.cardWidth;S=T==="ChatTab";t=N?S?o.cardWidthChatTab:o.cardWidth:a;return m.jsx("div",{className:(i||(i=c("stylex")))(O&&S&&p.rootForHScrollInChatTab,!O&&!P&&R,t),children:U})}a.displayName=a.name+" [from "+f.id+"]";g.xmaCardStyles=o;g.MWXMAAttachment=a}),98);
__d("MWMessageListAttachmentContainer.react",["CometErrorBoundary.react","MWChatBubbleEmphasisRing.react","MWLSThreadDisplayContext","MWMessageListAttachment.react","MWPMessageIsReply","MWPMessageListAttachment.react","MWV2ChatFileV2.react","MWV2ChatImagesGrid.react","MWV2UnsupportedAttachment.react","MWXMAAttachment.react","MWXMessageBubble.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.connectBottom,e=a.connectTop,f=a.hasEmphasisRing;f=f===void 0?!1:f;var g=a.hasText,h=g===void 0?!1:g,j=a.message,k=a.navigateToRouteForMediaViewer,l=a.outgoing,m=a.xstyle;g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var n=g==="ChatTab"?180:void 0;return i.jsx(c("MWPMessageListAttachment.react"),{connectBottom:b,connectTop:e,message:j,renderAudioAttachment:function(a){return i.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentAudio,{attachment:a,connectBottom:b,connectTop:e,isReply:c("MWPMessageIsReply")(j),message:j,outgoing:l})},renderEmphasisRing:f?function(a,b){return i.jsx(c("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:e,hasXMA:a,outgoing:l,precedesXMA:!1,children:b})}:void 0,renderEphemeralMediaAttachment:function(){return null},renderFileAttachment:function(a){return i.jsx(c("MWXMessageBubble.react"),{align:l?"right":"left",color:"incoming",connectBottom:b,connectTop:e,style:{padding:0},children:i.jsx(c("MWV2ChatFileV2.react"),{attachment:a})})},renderImageAttachment:function(c,b,a,e){return i.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentImage,{attachment:c,connectBottom:a,connectTop:b,message:j,navigateToRouteForMediaViewer:k,outgoing:l,renderUnsupportedAttachment:e})},renderImageGrid:function(a){return i.jsx(c("MWV2ChatImagesGrid.react"),{attachments:a})},renderStickerAttachment:function(a){return i.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentSticker,{attachment:a})},renderUnsupportedAttachment:function(a){return i.jsx(c("MWXMessageBubble.react"),{align:l?"right":"left",color:"incoming",connectBottom:b,connectTop:e,children:i.jsx(c("MWV2UnsupportedAttachment.react"),{attachment:a})})},renderVideoAttachment:function(a){return i.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentVideo,{attachment:a,connectTop:e,message:j,navigateToRouteForMediaViewer:k,outgoing:l})},renderXMAAttachment:function(a){return i.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return i.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentError,{connectBottom:b,connectTop:e,xstyle:m})},children:i.jsx(d("MWXMAAttachment.react").MWXMAAttachment,{attachment:a,cardWidth:n,connectBottom:b,connectTop:e,hasText:h,mediaRenderQpl:null,outgoing:l,xstyle:m})})}})}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("MWMessageSendingContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;e=b.createContext;var j=b.useContext,k=b.useMemo,l=b.useRef,m=e({findSendingMessage:c("emptyFunction").thatReturnsFalse,trackSendingMessage:c("emptyFunction"),untrackSendingMessage:c("emptyFunction")});function a(a){a=a.children;var b=l(new Set()),c=k(function(){return{findSendingMessage:function(a){return b.current.has(a)},trackSendingMessage:function(a){b.current.add(a)},untrackSendingMessage:function(a){b.current["delete"](a)}}},[b]);return i.jsx(m.Provider,{value:c,children:a})}a.displayName=a.name+" [from "+f.id+"]";d={Provider:a,useHook:function(){return j(m)}};g["default"]=d}),98);
__d("MWStatusText.react",["MWXText.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={alignLeft:{paddingStart:"xtt4iyq",$$css:!0},alignRight:{paddingEnd:"x1sxyh0",$$css:!0},color:{color:"x1xf6ywa",$$css:!0},mask:{backgroundColor:"x1eb86dx",$$css:!0}};function a(a){var b=a.alignLeft;b=b===void 0?!1:b;var e=a.error,f=a.text;a=a.xstyle;return i.jsx(d("react-strict-dom").html.span,{role:"none",style:[b?j.alignLeft:j.alignRight,j.mask,a],children:i.jsx(c("MWXText.react"),{align:b===!0?"start":"end",color:e===!0?"negative":"secondary",testid:void 0,type:"meta4",children:i.jsx(d("react-strict-dom").html.span,{style:j.color,children:f})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageOutgoingStatus.react",["MWMessageDeliverySentTimestamp","MWMessageDeliveryStatus","MWMessageSendingContext.react","MWStatusText.react","clearTimeout","react","react-strict-dom","setTimeout","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useMemo,l=b.useRef,m=b.useState,n=3e3,o={mountAnimation:{animationDuration:"x4afe7t",animationName:"x1nuzdyh",animationTimingFunction:"x4hg4is",display:"x1rg5ohu",$$css:!0},statusText:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",$$css:!0},statusTextRow:{backgroundColor:"x1eb86dx",display:"x78zum5",justifyContent:"x13a6bvl",$$css:!0}};function a(a){var b=a.alignLeft,e=a.isLastMessage,f=a.message,g=a.status,h=a.xstyle;a=m(!1);var p=a[0],q=a[1],r=l(null),s=l(!1);a=c("MWMessageSendingContext.react").useHook();var t=a.findSendingMessage,u=a.trackSendingMessage,v=a.untrackSendingMessage,w=c("useServerTime")();j(function(){v(f.offlineThreadingId);g.type==="Sending"?(u(f.offlineThreadingId),r.current=c("setTimeout")(function(){q(!0)},n)):r.current&&c("clearTimeout")(r.current);return function(){r.current&&c("clearTimeout")(r.current)}},[t,f.offlineThreadingId,g.type,u,v]);a=k(function(){g.type==="Sending"?u(f.offlineThreadingId):t(f.offlineThreadingId)&&(s.current=!0);var a=g.type==="Sending"||s.current;a=[o.statusText,a&&o.mountAnimation,h];switch(g.type){case"Sending":return p?i.jsx(c("MWStatusText.react"),{alignLeft:b,text:d("MWMessageDeliveryStatus").Titles.sending.toString(),xstyle:a}):null;case"Sent":case"Delivered":return e?i.jsx(c("MWStatusText.react"),{alignLeft:b,text:d("MWMessageDeliverySentTimestamp").getSentTitleWithTimestamp(f.timestampMs,w).toString(),xstyle:a}):null;case"Error":return i.jsx(c("MWStatusText.react"),{alignLeft:b,error:!0,text:d("MWMessageDeliveryStatus").Titles.error.toString(),xstyle:a});default:return null}},[b,t,e,f.offlineThreadingId,f.timestampMs,w,p,g.type,u,h]);return i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[o.statusTextRow],children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageUnsentTimestampText.react",["fbt","I64","getMessengerPreciseTimestamp","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){var b=a.timestampMs;a=a.unsentTimestampMs;return k.jsxs("div",{children:[k.jsx("div",{children:h._("__JHASH__L93MxMH-RPL__JHASH__",[h._param("time",c("getMessengerPreciseTimestamp")((j||(j=d("I64"))).to_float(b)))])}),k.jsx("div",{children:c("gkx")("24122")?h._("__JHASH__6L85PWgp0uQ__JHASH__",[h._param("time",c("getMessengerPreciseTimestamp")((j||(j=d("I64"))).to_float(a)))]):h._("__JHASH__exEcskNfDMO__JHASH__",[h._param("time",c("getMessengerPreciseTimestamp")((j||(j=d("I64"))).to_float(a)))])})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react",["LSCustomUpdateMuteManagementStoredProcedure","LSFactory","LSIntEnum","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useCallback;function a(a){var b=a.message,e=a.shouldMute,g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId)},[g,b.messageId,b.threadKey],f.id+":32");a=l(function(){if((j==null?void 0:j.targetId)==null)return;var a=j.targetId,h=e?(i||(i=d("LSIntEnum"))).ofNumber(0):(i||(i=d("LSIntEnum"))).ofNumber(1);c("promiseDone")(g.runInTransaction(function(d){return c("LSCustomUpdateMuteManagementStoredProcedure")(c("LSFactory")(d),{gameId:a,mutedUserId:b.threadKey,userActionType:h})},"readwrite",void 0,void 0,f.id+":55"))},[g,b.threadKey,e,j]);a=b.adminMsgCtaTitle!=null?k.jsx(c("MWXLink.react"),{onClick:a,target:"_blank",children:b.adminMsgCtaTitle}):void 0;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react",["I64","LSFactory","LSIntEnum","LSUpdateBotSubscriptionStoredProcedure","MWAdminTextLayout.react","MWXLink.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useCallback;function a(a){var b=a.message,e=a.shouldSubscribe,g=(h||(h=c("useReStore")))(),k=(i||(i=d("I64"))).to_string(b.threadKey),n=m(function(){var a=e?(j||(j=d("LSIntEnum"))).ofNumber(0):(j||(j=d("LSIntEnum"))).ofNumber(1);c("promiseDone")(g.runInTransaction(function(b){return c("LSUpdateBotSubscriptionStoredProcedure")(c("LSFactory")(b),{threadKey:(i||(i=d("I64"))).of_string(k),userActionType:a})},"readwrite",void 0,void 0,f.id+":41"))},[g,k,e]);a=b.adminMsgCtaTitle!=null?l.jsx(c("MWXLink.react"),{onClick:function(){return n()},target:"_blank",children:b.adminMsgCtaTitle}):void 0;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageManageNotificationsLazyDialogTrigger.react",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");var i=c("JSResourceForInteraction")("MWNotificationMessagesManageNotificationsDialog.react").__setRef("MWNotificationMessageManageNotificationsLazyDialogTrigger.react");function a(a){var b=a.isOptOut,d=a.renderer,e=a.targetId;a=a.threadKey;var f={isOptOut:b,targetId:e,threadKey:a};b=c("useMWXLazyDialog")(i);var g=b[0];e=function(){return g(f,c("emptyFunction"))};return d(e)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageManageNotificationsAdminMsgCta.react",["CometTextWithEntities.react","MWNotificationMessageManageNotificationsLazyDialogTrigger.react","MWXPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.isOptOut,d=a.targetId,e=a.threadKey,f=a.title;a=function(a){return i.jsx(c("MWXPressable.react"),{onPress:function(){return a()},children:i.jsx(c("CometTextWithEntities.react"),{text:f})})};return i.jsx(c("MWNotificationMessageManageNotificationsLazyDialogTrigger.react"),{isOptOut:b,renderer:a,targetId:d,threadKey:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageAuthor.react",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","MWCMIsCMSubthread","MWPContactContext.react","ReQL","ReQLSuspense","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useMemo;function n(a){var b=a.children,e=a.contactId,g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(e)},[g,e],f.id+":50");a=m(function(){var a=void 0;return{contact:j,nickname:a}},[j]);d("Int64Hooks").useEffectInt64(function(){c("promiseDone")(g.runInTransaction(function(a){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:i.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:i.ofNumber(c("LSContactIdType").FBID),contactType:i.ofNumber(c("LSContactType").USER),contactViewerRelationship:i.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:i.ofNumber(c("LSContactGender").UNKNOWN),id:e,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:i.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})},"readwrite",void 0,void 0,f.id+":64"))},[g,e]);return l.jsx(d("MWPContactContext.react").MWPContactContextProvider,{contact:a.contact,nickname:a.nickname,children:b})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.children,c=a.contact,e=a.nickname;a=m(function(){return{contact:c,nickname:e}},[c,e]);return l.jsx(d("MWPContactContext.react").MWPContactContextProvider,{contact:a.contact,nickname:a.nickname,children:b})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b,e=a.children,g=a.contactId,k=a.threadKey,m=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(m.tables.contacts).getKeyRange(g)},[g,m],f.id+":125");b=(b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(m.tables.participants,["nickname"]).getKeyRange(k,g)},[g,m,k],f.id+":129"))==null?void 0:b.nickname;var p=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(m.tables.threads,["parentThreadKey","secondaryParentThreadKey","threadType"]).getKeyRange(k).map(function(a){var b=a.parentThreadKey,e=a.secondaryParentThreadKey;a=a.threadType;a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(m.tables.contextual_profile_v1,["profileName"]).getKeyRange(g,c("MWCMIsCMSubthread")(a)&&e!=null?e:b),f.id+":154");return a==null?void 0:a.profileName})},[m,k,g],f.id+":145");p=p!=null?p:b;if(a!=null)if((j||(j=d("I64"))).ge(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT)))return l.jsx(o,{contact:a,nickname:p,children:e});else return l.jsx(n,{contactId:g,children:e});else return l.jsx(n,{contactId:g,children:e})}a.displayName=a.name+" [from "+f.id+"]";a=l.memo(a,function(a,b){if(a!=null&&b!=null&&(j||(j=d("I64"))).equal(a.contactId,b.contactId)&&(j||(j=d("I64"))).equal(a.threadKey,b.threadKey))return a.children===b.children;else return!1});function b(){var a=d("MWPContactContext.react").useMWPContactStableContext();a=a.authorName;return[a]}function e(){var a=d("MWPContactContext.react").useMWPContactFullContext();a=a.contact;var b=a!=null?a.name:void 0;return[b,a]}g.MissingContactProvider=n;g.Provider=o;g.MWPMessageAuthor=a;g.useAuthorName=b;g.useAuthorFullName=e}),98);
__d("MWPAccessibleEyebrowsText.react",["fbt","MWPMessageAuthor.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function a(a){var b=a.message;a=a.outgoing;var c=d("MWPMessageAuthor.react").useAuthorName();c=c[0];var e=a?h._("__JHASH__950lIWTelJN__JHASH__"):h._("__JHASH__uufWL2Zp_42__JHASH__");return!b.isAdminMessage&&j.jsx(d("react-strict-dom").html.span,{style:k.visuallyHidden,children:c!=null&&!a?c:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPMessageHasAttachment",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){if(!(h||(h=d("I64"))).equal(a.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(1))&&!(h||(h=d("I64"))).equal(a.displayedContentTypes,(h||(h=d("I64"))).add((i||(i=d("LSIntEnum"))).ofNumber(1),(i||(i=d("LSIntEnum"))).ofNumber(8192)))&&!(h||(h=d("I64"))).equal(a.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(128))&&!(h||(h=d("I64"))).equal(a.displayedContentTypes,(h||(h=d("I64"))).add((i||(i=d("LSIntEnum"))).ofNumber(128),(i||(i=d("LSIntEnum"))).ofNumber(8192))))return!(h||(h=d("I64"))).equal(a.displayedContentTypes,h.add((i||(i=d("LSIntEnum"))).ofNumber(1),i.ofNumber(512)));else return!1}g["default"]=a}),98);
__d("MWPMessageParsingUtils",["I64","LSBitFlag","LSIntEnum","LSMessageReplySourceTypeV2","gkx","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=280,k=3e5;function l(a){return!c("isStringNullOrEmpty")(a.text)}function m(a){a=a.replySourceTypeV2;return a==null?!1:!(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))}function n(a){a=a.replySourceTypeV2;return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))}function o(a){return((a=a.text)!=null?a:"").length>j}var p=[128,256,4096,c("gkx")("721")?null:4,512].filter(Boolean);function q(a){return a.isAdminMessage||p.some(function(b){return d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(b),a.displayedContentTypes)})||o(a)}function r(a,b){if(b===void 0)return!0;var c=Math.abs((h||(h=d("I64"))).to_float(a.timestampMs)-h.to_float(b.timestampMs))>k,e=n(a),f=h.equal(a.senderId,b.senderId);if(b.isUnsent||a.isUnsent||b.isExpired||a.isExpired||m(a)||!f||c||e||q(a))return!0;else return q(b)}function s(a,b){return b==null||r(a,b)}function t(a,b){return b==null||r(b,a)}function a(a,b,c){return c==="below"?l(a)?!0:!s(a,b):!1}function b(a,b,c){if(c==="below")return!t(a,b);else if(t(a,b))return!1;else return l(a)}e={shouldConnectBottom:b,shouldConnectTop:a};g.hasText=l;g.isReplyToSomething=m;g.isForwarded=n;g.isLongText=o;g.shouldBeStandalone=q;g.isInDifferentGroup=r;g.isStartOfGroup=s;g.isEndOfGroup=t;g.MessageWithAttachments=e}),98);
__d("MWPBaseMessageContent.react",["EntMessageReplyType","I64","LSIntEnum","MWPMessageHasAttachment","MWPMessageHasXMA","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageParsingUtils","MWPThreadCapabilitiesContext","gkx","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=a.attachmentRenderPosition,e=a.isEmojiOnly,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,h=a.isMessagePinned,l=a.isNextMessagePinned,m=a.isSearchPluginAttachment,n=a.message,o=a.nextMessage,p=a.outgoing,q=a.prevMessage,r=a.renderAttachment,s=a.renderEmoji,t=a.renderMessageBubble,u=a.shouldRenderMessageContent;a=a.xmaLayout;var v=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();v=v.disableLinks;var w=c("MWPMessageIsReply")(n),x=d("MWPMessageParsingUtils").hasText(n),y=c("MWPMessageHasXMA")(n);v=c("gkx")("24165")&&v&&y&&n.textHasLinks;var z=n.replyType!=null&&(i||(i=d("I64"))).equal(n.replyType,(j||(j=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP));z=!z&&y&&b==="below"&&!v&&!m;y=b==="below"?!w&&!f&&!h:!1;m=!g&&!l||(a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?z:!1);u?f=n.text!=null?e?w?k.jsx("div",{className:"x1n2onr6 x1vjfegm",children:s(n)}):w?null:k.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[y?k.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,k.jsx("div",{className:"x1n2onr6 x1vjfegm",children:s(n)})]}):n.text!==""?k.jsxs(k.Fragment,{children:[y||b==="above"?k.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,k.jsxs("div",{className:"x78zum5 xh8yej3",role:"none",children:[p?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,t(n,y,m,z,p),p?null:k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]})]}):null:null:f=null;var A;c("MWPMessageHasAttachment")(n)&&!v&&(A=r(d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectTop(n,q,b),d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectBottom(n,o,b),x));return k.jsxs(k.Fragment,{children:[b==="above"?A:null,f,b==="below"?A:null]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPBaseMessageContent=a}),98);
__d("MWPBaseMessageContentWithPinnedMessageSupport.react",["MWPBaseMessageContent.react","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.attachmentRenderPosition,e=a.isEmojiOnly,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,h=a.isSearchPluginAttachment,k=a.message,l=a.nextMessage,m=a.outgoing,n=a.prevMessage,o=a.renderAttachment,p=a.renderEmoji,q=a.renderMessageBubble,r=a.shouldRenderMessageContent,s=a.xmaLayout,t=c("useMWPIsMessagePinned")(k),u=c("useMWPIsMessagePinned")(l);return j(function(){return i.jsx(d("MWPBaseMessageContent.react").MWPBaseMessageContent,{attachmentRenderPosition:b,isEmojiOnly:e,isFirstMessageInGroup:f,isLastMessageInGroup:g,isMessagePinned:t,isNextMessagePinned:u,isSearchPluginAttachment:h,message:k,nextMessage:l,outgoing:m,prevMessage:n,renderAttachment:o,renderEmoji:p,renderMessageBubble:q,shouldRenderMessageContent:r,xmaLayout:s})},[b,e,f,g,t,u,k,l,m,n,o,p,q,r,s,h])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageIsEmojiOnly",["EmojiRenderer","EmoticonRenderer","ReStoreVaulting"],(function(a,b,c,d,e,f,g){"use strict";var h=/^[ \r\n\s]*$/;function a(a,b){if(a==null)return!1;var c=d("ReStoreVaulting").maybeUnvault(a);a=d("EmojiRenderer").parse(c).map(function(a){return{length:a.length,offset:a.offset}});b=b?d("EmoticonRenderer").parse(c).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];a=a.concat(b);if(a.length===0)return!1;b=a.sort(function(a,b){return a.offset-b.offset|0});var e={contents:0},f={contents:0};a=b.some(function(a){e.contents===a.offset?(e.contents=e.contents+a.length|0,f.contents=e.contents):f.contents=a.offset;var b=c.substring(e.contents,f.contents);e.contents=a.offset+a.length|0;return h.test(b)===!1});b=e.contents!==c.length&&!h.test(c.substring(f.contents));if(a)return!1;else return!b}g["default"]=a}),98);
__d("MWPBaseMessage.react",["LSBitFlag","LSIntEnum","MWBlockingProtectionContext.react","MWGroupBlockingProtectionUtils","MWPBaseMessageContentWithPinnedMessageSupport.react","MWPMessageListColumn.react","MWV2MessageIsEmojiOnly","MessengerWebUXLogger","react","react-strict-dom","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k={container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",position:"x1n2onr6",userSelect:"x1kxipp6",$$css:!0},outgoing:{alignItems:"xuk3077",$$css:!0},row_container:{display:"x78zum5",width:"xh8yej3",$$css:!0}};function l(a,b){if(d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(128),a.displayedContentTypes))return!0;else return c("MWV2MessageIsEmojiOnly")(a.text,b)}function a(a){var b=a.attachmentRenderPosition;b=b===void 0?"below":b;var e=a.checkEmoticon,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,h=a.isSearchPluginAttachment;h=h===void 0?!1:h;var i=a.message,m=a.nextMessage,n=a.outgoing,o=a.prevMessage,p=a.reactions;a.reactionsV2;var q=a.renderAttachment,r=a.renderEmoji,s=a.renderMessageBubble,t=a.renderMessageContainer,u=a.renderMessageFooter,v=a.renderMessageFromBlockee,w=a.renderUnsentMessage,x=a.shouldRenderMessageContent;x=x===void 0?!0:x;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var y=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"messagelist_message_impression"}),z=d("MWGroupBlockingProtectionUtils").useMWIsContactBlocked(i.threadKey),A=c("MWBlockingProtectionContext.react").useHook(),B=A.addMessageId;A=A.findMessageId;if(i.isUnsent)if(w!=null)return j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:w()});else return null;if(!A(i.messageId)&&z&&v!=null)return j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:v(function(){B(i.messageId)})});w=l(i,e);A=j.jsx(c("MWPBaseMessageContentWithPinnedMessageSupport.react"),{attachmentRenderPosition:b,isEmojiOnly:w,isFirstMessageInGroup:f,isLastMessageInGroup:g,isSearchPluginAttachment:h,message:i,nextMessage:m,outgoing:n,prevMessage:o,renderAttachment:q,renderEmoji:r,renderMessageBubble:s,shouldRenderMessageContent:x,xmaLayout:a});return j.jsxs(j.Fragment,{children:[j.jsxs(d("react-strict-dom").html.div,{ref:y,role:"none",style:k.row_container,children:[n?j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,t!=null?t(A,[k.container,n?k.outgoing:!1]):j.jsx(d("react-strict-dom").html.div,{style:[k.container,n?k.outgoing:!1],children:A}),n?null:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]}),j.jsxs(j.Fragment,{children:[w&&p.length>0?j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:5}):null,j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:u()})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageListRowCountdown.react",["MAWEphemeralMessageTimer.react","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={moveUpToAccountForReactions:{paddingBottom:"x1hhzuzn",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1c4vz4f",justifyContent:"xl56j7k",marginBottom:"x4ii5y1",marginTop:"xr1yuqi",paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var d=a.ephemeralDurationInSec,e=a.expirationTimestamp,f=a.handleMessageExpired;a=a.hasReactions;a=a===void 0?!1:a;return j.jsx("div",{"aria-hidden":b,className:(h||(h=c("stylex")))(k.root,a&&!c("gkx")("1799")?k.moveUpToAccountForReactions:!1),children:j.jsx(c("MAWEphemeralMessageTimer.react"),{ephemeralDurationInSec:d,expirationTimestamp:e,handleMessageExpired:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageListRow.react",["BaseThemeProvider.react","I64","LSIntEnum","MWCombineThemeConfigs","MWMessageDeliveryStatus","MWPBaseMessageListRowCountdown.react","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageParsingUtils","cr:7619","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i,n=m.useCallback,o=m.useMemo;function a(a){var b=a.children,c=a.message;a=a.prevMessage;c=d("MWPMessageParsingUtils").isStartOfGroup(c,a);return c?b():null}a.displayName=a.name+" [from "+f.id+"]";function p(a){return(j||(j=d("I64"))).equal(j.and_(a.displayedContentTypes,(k||(k=d("LSIntEnum"))).ofNumber(2048)),j.zero)}var q={container:{display:"x78zum5",$$css:!0},inner:{display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",$$css:!0},innerOutgoing:{flexDirection:"x15zctf7",$$css:!0},multiReact:{zIndex:"x1vjfegm",$$css:!0},multiReactIncoming:{marginStart:"x1liizu2",$$css:!0},multiReactOutgoing:{display:"x78zum5",flexDirection:"x15zctf7",marginEnd:"xw3qccf",marginStart:"x1mh8g0r",$$css:!0}};function e(a){var e=a.children,f=a.handleMessageExpired,g=a.hasReactions,i=a.message,j=a.outgoing,k=a.renderGutterItem,m=a.renderMessageActions,n=a.renderMultiReactions;a=a.renderProfile;var o=c("MWPMessageIsReply")(i),r=i.ephemeralExpirationTs,s=i.ephemeralDurationInSec,t=i.isUnsent,u=d("MWMessageDeliveryStatus").getFromSendStatus(i.sendStatusV2).type==="Sending";n=n&&n();var v=n!=null;a=c("gkx")("1799")&&b("cr:7619")!=null?l.jsx(b("cr:7619"),{addOnEnd:p(i)?l.jsxs(l.Fragment,{children:[r!=null&&!t?l.jsx(c("MWPBaseMessageListRowCountdown.react"),{ephemeralDurationInSec:s,expirationTimestamp:r,handleMessageExpired:f}):null,m(u)]}):null,addOnPaddingBottom:g?18:0,addOnStart:j?k():l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnProfile,{children:a()}),addOnStartVerticalAlign:"bottom",align:j?"right":"left",opaque:!j||o,testid:void 0,children:e}):l.jsxs("div",{className:"x78zum5",role:"none",children:[l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnProfile,{children:[j?null:a(),g&&!v?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:18}):null]}),l.jsxs("div",{className:(h||(h=c("stylex")))(q.inner,j?q.innerOutgoing:!1),"data-testid":void 0,role:"none",children:[l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnBubble,{paint:!j||o,children:e}),r!=null&&!t?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:l.jsx(c("MWPBaseMessageListRowCountdown.react"),{ephemeralDurationInSec:s,expirationTimestamp:r,handleMessageExpired:f,hasReactions:g})}):null,p(i)?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:m(u)}):null,l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]}),l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[k(),g?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:18}):null]})]});return v?l.jsxs("div",{className:"x78zum5 xdt5ytf x1n2onr6",role:"none",children:[a,l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:l.jsx("div",{className:(h||(h=c("stylex")))(q.container,q.multiReact,j?q.multiReactOutgoing:q.multiReactIncoming),children:n})})]}):a}e.displayName=e.name+" [from "+f.id+"]";function r(a){var b=a.children,c=a.message,e=a.nextMessage;a=a.showContent;c=d("MWPMessageParsingUtils").isEndOfGroup(c,e);return c||a===!0?b():null}r.displayName=r.name+" [from "+f.id+"]";m={"mwp-reply-background-color":"var(--comment-footer-background)"};var s={"mwp-reply-background-color":"var(--comment-footer-background)"},t={dark:s,light:m,type:"VARIABLES"};function u(a){var b=a.children,e=a.domElementRef;a.message;var f=a.role,g=a.setHovered,i=a.stopHoveringRef,j=a.theme,k=j===void 0?t:j,m=a.xstyle,p=n(function(){return g(function(){return!1})},[g]);return l.jsx(c("BaseThemeProvider.react"),{config:o(function(){return d("MWCombineThemeConfigs").combine(t,k)},[k]),children:function(a,d){return l.jsx("div",{className:(h||(h=c("stylex")))(a,m),onMouseEnter:function(){i.current&&i.current(),g(function(){return!0}),i.current=p},onMouseLeave:function(){if(i.current===p){p();i.current=function(){};return}},ref:e,role:f,style:babelHelpers["extends"]({},d),children:b})}})}u.displayName=u.name+" [from "+f.id+"]";g.MWPBaseMessageListRowBeforeContent=a;g.MWPBaseMessageListRowBody=e;g.MWPBaseMessageListRowFooter=r;g.MWPBaseMessageListRow=u}),98);
__d("MercuryTimestamp",["fbt","formatDate"],(function(a,b,c,d,e,f,g){a=864e5;var h=6*a,i={getFormatedTimestamp:function(a){var b=a/1e3;return i.getFormattedTimestampByBucket(b,i.getTimeBucket(a))},getAbsoluteTimestamp:function(a){if(a==null)return null;else{a=i.getFormatedTimestamp(a);return a.absolute}},getRelativeTimestamp:function(a){a=i.getFormatedTimestamp(a);return a.relative},getFormattedTimestampByBucket:function(a,c){switch(c){case 0:return{absolute:g._("__JHASH__EpdLnM9AeUo__JHASH__").toString(),relative:b("formatDate")(a,"g:ia")};case 1:return{absolute:b("formatDate")(a,"l"),relative:b("formatDate")(a,"D")};case 3:return{absolute:b("formatDate")(a,"F j"),relative:b("formatDate")(a,"M j")};default:return{absolute:b("formatDate")(a,"F j, Y"),relative:b("formatDate")(a,"n/j/y")}}},getTimeBucket:function(a){a=new Date(a);var b=new Date();b=new Date(b.getFullYear(),b.getMonth(),b.getDate());if(b<a)return 0;else if(b-h<a)return 1;else if(b.getFullYear()===a.getFullYear())return 3;else return 4},getPreciseTimestamp:function(a){return b("formatDate")(new Date(a),i.getPreciseFormat(a))},getPreciseFormat:function(a){a=i.getTimeBucket(a);switch(a){case 0:return"g:ia";case 1:return"l g:ia";case 3:return"F jS, g:ia";case 4:default:return"F j, Y g:i a"}}};e.exports=i}),130);
__d("MWPBaseMessageRowHeaderTimestamp.react",["I64","MercuryTimestamp","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.message,e=a.renderText,f=a.renderTimestamp;a=a.xstyle;return k.jsx("div",{className:(h||(h=c("stylex")))(a),children:e(f(c("MercuryTimestamp").getRelativeTimestamp((i||(i=d("I64"))).to_float(b.timestampMs))))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXHovercardTrigger.react",["BaseHovercardTrigger.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("BaseHovercardTrigger.react")}),98);
__d("useMWCMIsSenderAdModOrChatHost",["Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityAdminModerationActionsFetchStoredProcedure","MWCMGetValidId","MessagingSpecialThreadRole","MessagingSpecialThreadRoleBitOffset","ReQL","ReQLSuspense","asyncToGeneratorRuntime","pageID","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,g){var j=(i||(i=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){var i=function(){var i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("MWCMGetValidId").MWCMHasValidFbGroupId(a)&&(yield j.runInTransaction(function(b){return c("LSIssueCommunityAdminModerationActionsFetchStoredProcedure")(c("LSFactory")(b),{fbGroupId:a,requestId:c("pageID"),source:(h||(h=d("LSIntEnum"))).ofNumber(14),targetUserId:g,threadId:e})},"readwrite",void 0,void 0,f.id+":47"))});return function(){return i.apply(this,arguments)}}();c("promiseDone")(i())},[j,a,g,e]);var k=d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(j.tables.community_members.index("communityContact")).getKeyRange(a,g,c("pageID")):d("ReQL").empty()},[j,a,g],f.id+":66"),l=(k==null?void 0:k.isAdmin)==null?!1:k.isAdmin,m=(k==null?void 0:k.isModerator)==null?!1:k.isModerator;k=k!=null?d("MessagingSpecialThreadRoleBitOffset").has(c("MessagingSpecialThreadRole").CHAT_HOST,k):!1;return{isAdmin:l,isChatHost:k,isModerator:m}}g["default"]=a}),98);
__d("MWPMessageAdModOrHostText.react",["fbt","BaseMiddot.react","MWCMGetValidId","MWCMHostTextHovercard.entrypoint","MWXHovercardTrigger.react","MWXText.react","react","react-strict-dom","useMWCMIsSenderAdModOrChatHost"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b=a.communityId,e=a.senderId,f=a.shouldRenderSenderName;a=a.threadKey;b=c("useMWCMIsSenderAdModOrChatHost")(b,a,e);e=b.isAdmin;var g=b.isChatHost;b=b.isModerator;var i=h._("__JHASH__l4xCpI5VHpV__JHASH__"),k=h._("__JHASH__hz8R4t8GDy7__JHASH__");a=j.jsx(c("MWXHovercardTrigger.react"),{align:"middle",display:"inline-block",popoverEntryPoint:c("MWCMHostTextHovercard.entrypoint"),popoverOtherProps:{onClose:function(){},threadKey:a},popoverProps:{},position:"above",children:function(a){return j.jsx(c("MWXText.react"),{ref:a,type:"meta4",children:h._("__JHASH__bZRJOb_t9fa__JHASH__")})}});return j.jsx(j.Fragment,{children:f&&(e||b||g)&&j.jsxs(j.Fragment,{children:[j.jsx(c("BaseMiddot.react"),{}),j.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,children:e?i:b?k:a})]})})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.communityId,c=a.message;a=a.shouldRenderSenderName;return!d("MWCMGetValidId").MWCMHasValidFbGroupId(b,!1)?null:j.jsx(k,{communityId:b,senderId:c.senderId,shouldRenderSenderName:a,threadKey:c.threadKey})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXIconBadgeCheckmark",["MWXSvgIcon","SVGIcon","cr:9003","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9003")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconBot",["MWXSvgIcon","SVGIcon","cr:9019","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9019")),c("gkx")("23219"));g["default"]=a}),98);
__d("isMWEditedMessage",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.editCount!=null&&(h||(h=d("I64"))).gt(a.editCount,(h||(h=d("I64"))).zero);return b&&!a.isUnsent}g["default"]=a}),98);
__d("usePinnedTextAnimation",["react","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState,l={mountAnimation:{animationDuration:"x5hsz1j",animationName:"x127lhb5",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function a(a){var b=k(!1),d=b[0],e=b[1],f=j(a);i(function(){a!==f.current&&e(!0),f.current=a},[a]);return{mountAnimation:d?l.mountAnimation:null,shouldShow:c("useDebouncedValue")(a,200),unmountAnimation:l.unmountAnimation}}g["default"]=a}),98);
__d("MWPMessageEyebrows.react",["fbt","Actor","BaseMiddot.react","I64","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWEditedEyebrow.react","MWLSThread","MWMessageDisplayContext.react","MWPAccessibleEyebrowsText.react","MWPContactContext.react","MWPMessageAdModOrHostText.react","MWPMessageAuthor.react","MWPMessageListColumn.react","MWPThreadIsPage.react","MWXIconBadgeCheckmark","MWXIconBot","MWXIconStrict.react","MetaConfig","ReQL","ReQLSuspense","isMWEditedMessage","react","react-strict-dom","useMWPIsMessagePinned","usePinnedTextAnimation","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n={alignEnd:{justifyContent:"x13a6bvl",$$css:!0},alignStart:{justifyContent:"x1nhvcw1",$$css:!0},botBadge:{display:"x1rg5ohu",paddingStart:"x1e558r4",position:"x1n2onr6",top:"xs7f9wi",$$css:!0},color:{color:"x186z157",$$css:!0},container:{display:"x78zum5",marginTop:"x1anpbxc",paddingBottom:"x10b6aqq",paddingStart:"x1ye3gou",$$css:!0},separator:{paddingEnd:"x19um543",paddingStart:"x1m6msm",$$css:!0}};function o(a){var b=a.children;a=a.outgoing;return m.jsx(d("react-strict-dom").html.div,{style:[n.container,a?n.alignEnd:n.alignStart],children:b})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.message,e=a.outgoing,g=a.renderPaidPartnerShipText,l=a.renderPinnedText,p=a.renderTextWrapper;a=a.shouldRenderSenderName;var q=d("MWPMessageAuthor.react").useAuthorName();q=q[0];var r=d("MWPContactContext.react").useMWPContactStableContext(),s=r.contact;r=r.nickname;var t=d("Actor").useActor();t=t[0];var u=d("MWMessageDisplayContext.react").useMWMessageDisplayContext(),v=(i||(i=c("useReStore")))(),w=d("MWLSThread").useThread(b.threadKey,function(a){return a.parentThreadKey}),x=d("ReQLSuspense").useFirst(function(){return w?d("ReQL").fromTableAscending(v.tables.community_folders).getKeyRange(w).map(function(a){return a.folderId}):d("ReQL").empty()},[v,w],f.id+":109"),y=c("isMWEditedMessage")(b),z=d("MWPThreadIsPage.react").useIsPage(),A=d("MWLSThread").useThread(b.threadKey,function(a){return a.threadType}),B=A!=null&&d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(A);z=z&&!(j||(j=d("I64"))).equal(b.senderId,b.threadKey)&&!e;var C=a||z&&!B,D=s?d("LSContactBitOffset").has(77,s):!1,E=s?d("LSContactBitOffset").has(84,s):!1,F=c("useMWPIsMessagePinned")(b);a=c("usePinnedTextAnimation")(F);var G=a.mountAnimation,H=a.unmountAnimation,I=c("MetaConfig")._("113")&&s?!(j||(j=d("I64"))).equal(s.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1,J=b.isPaidPartnership===!0;z=C||F||y||J;a=(B=r)!=null?B:h._("__JHASH__4LwiFWKMkVy__JHASH__");s=t===(j||(j=d("I64"))).to_string(b.senderId);r=s?a.toString():q==null?void 0:q.toString();B=h._("__JHASH__G4Bi2CYTkJR__JHASH__");if(!z)return m.jsx(c("MWPAccessibleEyebrowsText.react"),{message:b,outgoing:e});t=function(a){var f=C&&a!=null||F||I;a=m.jsx(o,{outgoing:e,children:p(m.jsxs(d("react-strict-dom").html.span,{style:n.color,children:[C&&a!=null&&m.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,children:a}),m.jsx(c("MWPMessageAdModOrHostText.react"),{communityId:x,message:b,shouldRenderSenderName:C}),F&&!I&&m.jsx(d("react-strict-dom").html.span,{style:F?G:H,children:l(b,C)}),I&&m.jsxs(m.Fragment,{children:[m.jsx(d("react-strict-dom").html.span,{children:m.jsx(c("BaseMiddot.react"),{})}),m.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,children:h._("__JHASH__3kkmPi45q6Z__JHASH__")})]}),y&&m.jsx(d("MWEditedEyebrow.react").MWEditedEyebrow,{hasSeparator:f,threadType:A,xstyle:n.separator}),D===!0?m.jsx(d("react-strict-dom").html.span,{style:n.botBadge,children:m.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWXIconBot"),size:12})}):null,E&&m.jsx(d("react-strict-dom").html.span,{style:n.botBadge,children:m.jsx(c("MWXIconStrict.react"),{color:"primaryAccent",icon:c("MWXIconBadgeCheckmark"),size:12})}),J&&g!=null&&g(b)]}))});return u==="reportMessages"?m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:a}):m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:a})};return b.takedownState!=null?t(B.toString()):t(r)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPBaseMessageRowHeader.react",["BaseHeading.react","BaseRow.react","BaseRowItem.react","LSIntEnum","LSMessageReplySourceTypeV2","MWMessageDisplayContext.react","MWPBaseMessageRowHeaderTimestamp.react","MWPContactContext.react","MWPMessageEyebrows.react","MWPMessageIsReply","MWPMessageListColumn.react","MWPThreadIsPage.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l={alignEnd:{alignItems:"xuk3077",$$css:!0},header:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},timestamp:{marginTop:"x1anpbxc",paddingEnd:"x11eofan",paddingLeft:null,paddingRight:null,$$css:!0},timestampWithSnippet:{marginTop:"x1ok221b",paddingEnd:"x11eofan",paddingLeft:null,paddingRight:null,$$css:!0}};function m(a,b,e,f){var g=a.replySnippet;g=g!=null?g!=="":!1;var h=a.replySourceTypeV2!=null&&(j||(j=d("LSIntEnum"))).toNumber(a.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").FORWARD;if(g)return e(a,f);return!h?null:b(a,f)}function a(a){a._fbGroupId;var b=a.alwaysRenderSenderName;b=b===void 0?!1:b;var e=a.isAnyCMThread;e=e===void 0?!1:e;var f=a.isFirstMessageInGroup,g=a.isGroupThread,i=a.message,j=a.outgoing,n=a.renderForwardSnippet,o=a.renderMessageEyebrows,p=a.renderPaidPartnerShipText,q=a.renderPinnedText,r=a.renderReplySnippet,s=a.renderTextWrapper;a=a.renderTimestamp;var t=c("MWPMessageIsReply")(i);n=m(i,n,r,j);r=d("MWPContactContext.react").useMWPContactStableContext();r=r.nickname;var u=d("MWMessageDisplayContext.react").useMWMessageDisplayContext();r=f&&r!=null&&e;e=b||g&&f&&!j&&!t||r;n!=null?b=k.jsx("div",{className:(h||(h=c("stylex")))(l.header,j?l.alignEnd:!1),role:"none",children:u==="reportMessages"?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:n}):k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:n})}):o!=null?b=o(i,j,s,e):b=k.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:i.threadKey,children:k.jsx(c("MWPMessageEyebrows.react"),{message:i,outgoing:j,renderPaidPartnerShipText:p,renderPinnedText:q,renderTextWrapper:s,shouldRenderSenderName:e})});g=n!=null?l.timestampWithSnippet:l.timestamp;t=a!=null?k.jsx(c("MWPBaseMessageRowHeaderTimestamp.react"),{message:i,renderText:s,renderTimestamp:a,xstyle:g}):null;if(f)return k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsxs(c("BaseRow.react"),{direction:j?"backward":"forward",children:[k.jsx(c("BaseRowItem.react"),{children:k.jsx(c("BaseHeading.react"),{children:b})}),t!=null?k.jsx(c("BaseRowItem.react"),{children:k.jsx(c("BaseHeading.react"),{children:t})}):null]})});else return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWTheme.react",["I64","cr:4128","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h,l=k.createContext,m=k.useContext,n=k.useEffect,o=k.useMemo;function a(a,b){a=a!=null?a:.4;var c=parseInt(b.slice(1,3),16),d=parseInt(b.slice(3,5),16);b=parseInt(b.slice(5,7),16);a=a.toFixed(4);return"rgba("+c+","+d+","+b+","+a+")"}function e(a){return a.type==="solid"?a.color:a.colors[0]}function p(a){return"#"+a.slice(2)}function q(a){a=(i||(i=d("I64"))).to_int32(a);var b=(a&16711680)>>>16,c=(a&65280)>>>8;a=a&255;var e=function(a){return a.toString(16).padStart(2,"0")};return"#"+(e(b)+(e(c)+e(a)))}var r=l({clearTheme:c("emptyFunction"),setTheme:c("emptyFunction"),theme:b("cr:4128")});function s(){return m(r).theme}function t(){var a=m(r),b=a.clearTheme;a=a.setTheme;n(function(){return b},[b]);return[a,b]}function u(a){var b=a.children,d=a.clearTheme,e=a.setTheme,f=a.theme;a=o(function(){var a;return{clearTheme:(a=d)!=null?a:c("emptyFunction"),setTheme:(a=e)!=null?a:c("emptyFunction"),theme:f}},[d,e,f]);return j.jsx(r.Provider,{value:a,children:b})}u.displayName=u.name+" [from "+f.id+"]";function v(a){return a.type==="gradient"}g.defaultTheme=b("cr:4128");g.lighten=a;g.top=e;g.aRGBtoHex=p;g.intToHex=q;g.useTheme=s;g.usePreview=t;g.MWThemeProvider=u;g.isGradient=v}),98);
__d("MWPDateBreak.react",["BaseHeading.react","FDSTimestamp.react","MWTheme.react","MWXText.react","formatDate","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={mask:{backgroundColor:"x1eb86dx",$$css:!0},root:{marginBottom:"xjpr12u",marginTop:"xr9ek0c",textAlign:"x2b8uid",$$css:!0}};function l(a){var b=a.renderTextWrapper;a=a.timestamp;a=j.jsx("span",{className:"x186z157 xk50ysn",children:c("formatDate")(new Date(a),{future:"g:ia",older:"m/d/Y g:ia",thisYear:"M jS, g:ia",today:"g:ia",withinWeek:"D g:ia"})});return b!=null?b(a):a}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.renderTextWrapper;a=a.timestamp;var e=d("MWTheme.react").useTheme();return j.jsxs(c("BaseHeading.react"),{testid:void 0,children:[j.jsx("div",{className:"xzpqnlu x1hyvwdk xqtp20y x6ikm8r x10wlt62 xnalus7",children:j.jsx(c("FDSTimestamp.react"),{date:new Date(a)})}),j.jsx("div",{"aria-hidden":!0,className:(h||(h=c("stylex")))(k.root,d("MWTheme.react").isGradient(e)&&k.mask),"data-scope":"date_break",children:j.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:j.jsx(l,{renderTextWrapper:b,timestamp:a})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListFocusTable.react",["FocusRegion.react","MWMessageTableFocusTable.react","MWV2MessageListIsRowModalContext.react","emptyFunction","focusScopeQueries","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo;function l(a,b,c){return b["data-scope"]==="date_break"}function a(a){var b=a.ariaLabel,e=a.children,f=a.hasMessages,g=f===void 0?!0:f;f=a.modal;var h=a.onNavigate,m=h===void 0?c("emptyFunction"):h;h=a.setModal;var n=a.wrapX;n=n===void 0?!1:n;a=a.wrapY;a=a===void 0?!1:a;var o=j(function(a){m(a);var b=a.type;switch(b){case"PAGE_DOWN":case"PAGE_UP":break;default:return}b=b==="PAGE_DOWN";a.preventDefault();var c=a.currentRowIndex+(b?1:-1)|0,d=!1;while(!d){var e=a.getCell(c,a.currentCellIndex);if(e==null){var f=a.getCell(b?c-1|0:0,a.currentCellIndex);f!=null&&a.focusCell(f);d=!0}else{f=e.scopeRef.current;f=f!=null?f.DO_NOT_USE_queryFirstNode(l):null;f==null?c=b?c+1|0:c-1|0:(a.focusCell(e),d=!0)}}},[]),p=k(function(){return g?i.jsx("div",{"aria-label":b,className:"x1uipg7g xu3j5b3 xol2nv xlauuyb x26u7qi x19p7ews x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",role:"grid",children:e}):i.jsx("div",{className:"x1uipg7g xu3j5b3 xol2nv xlauuyb x26u7qi x19p7ews x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",children:e})},[b,e,g]);return i.jsx(d("MWV2MessageListIsRowModalContext.react").MWV2MessageListIsRowModalContextProvider,{value:h,children:i.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("MWMessageTableFocusTable.react").scopeQuery,stopOnFocusWithinPropagation:!1,children:i.jsx(d("MWMessageTableFocusTable.react").FocusTable[0],{allowModifiers:!0,disabled:f!=="",onNavigate:o,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapX:n,wrapY:a,children:p})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListRowWithKeyboardInteractions.react",["fbt","BaseHeadingContextWrapper.react","CometScreenReaderText.react","FDSTimestamp.react","FocusInertRegion.react","FocusRegion.react","FocusWithinHandler.react","I64","KeyCommandHandler.react","MDSTextPairing.react","MWEditMessageOverlay.react","MWMessageCellFocusTable.react","MWMessageCellKeyCommands.react","MWMessageTableFocusTable.react","MWPBaseMessageListRow.react","MWPMessageAuthor.react","MWV2MessageListIsRowModalContext.react","MWV2MessageRowActionsContext.react","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReactDOMComet","emptyFunction","focusScopeQueries","gkx","react","setTimeout","stylex","useCometTheme","useMAWEditMessageData","useMWPEditMessageDeemphasizer","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));b=j;e=b.forwardRef;var m=b.useCallback,n=b.useEffect,o=b.useId,p=b.useMemo,q=b.useRef,r={cell:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0},cellFocusVisible:{zIndex:"x1vjfegm",$$css:!0},cellModal:{outline:"x1k66dxp",outlineOffset:"x1g40iwv","@media (-webkit-min-device-pixel-ratio: 0)_outline":"x1bkw7pg",$$css:!0},enterModalButton:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"x152obne",end:"xlr8s2x",left:null,right:null,paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x10l6tqk",top:"x1qiirwl",transform:"x105ttfm",zIndex:"x1vjfegm",$$css:!0},enterModalButtonVisible:{opacity:"x1hc1fzr",$$css:!0},row:{position:"x1n2onr6",$$css:!0},visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function s(a){var b=a.key;(b==="ArrowUp"||b==="ArrowDown"||b==="ArrowLeft"||b==="ArrowRight"||b==="PageUp"||b==="PageDown"||b==="Home"||b==="End")&&a.preventDefault()}var t=h._("__JHASH__U5V4JiyTDSI__JHASH__"),u=h._("__JHASH__GoIrDg5lzef__JHASH__"),v=h._("__JHASH__ctLNxPXr8we__JHASH__"),w=e(function(a,b){var d=a.ariaLabel,e=a.focusable,f=a.onPress,g=a.text;a=a.xstyle;var h=c("useCometTheme")("invert"),i=h[0];h=h[1];return l.jsx(i,{children:l.jsx(c("MWXPressable.react"),{"aria-label":d,focusable:e,onPress:function(){return f()},ref:b,xstyle:[h,r.enterModalButton,a],children:l.jsx(c("MDSTextPairing.react"),{body:g,bodyColor:"primary",level:4})})})});function a(a){var b=a.children,e=a.domElementRef,f=a.focusCellOnRender,g=f===void 0?!1:f,j=a.isDialogOpened,x=a.isFocused,y=a.isModal,z=a.message,A=a.messageDomID;f=a.outgoing;var B=a.setFocused,C=a.setHovered,D=a.setIsDialogOpened,E=a.stopHoveringRef;a=a.theme;var F=d("MWV2MessageListIsRowModalContext.react").useMWV2MessageListIsRowModal(),G=q(null),H=o(),I=m(function(){F(function(){return z.messageId}),c("setTimeout")(function(){d("FocusRegion.react").focusRegionById(H,d("focusScopeQueries").tabbableScopeQuery)},0)},[F,z.messageId,H]),J=function(){F(function(){return""});var a=G.current;if(a!=null)return a.focus()},K=c("FDSTimestamp.react").getTimestamp(c("useServerTime")(),new Date((k||(k=d("I64"))).to_float(z.timestampMs))),L=d("MWPMessageAuthor.react").useAuthorName();L=L[0];f=f?h._("__JHASH__g90cYI08lR4__JHASH__"):L!=null?L:h._("__JHASH__I4KHPAQ-RAf__JHASH__");var M=o(),N=l.jsx(c("CometScreenReaderText.react"),{id:M,text:h._("__JHASH__BGN2Md9i0L4__JHASH__",[h._param("Stringified timestamp of the incoming message",K),h._param("Name of the author of the incoming message",f)])}),O=o(),P=q(null),Q=c("gkx")("22803"),R=q(c("emptyFunction")),S=q(c("emptyFunction")),T=q(c("emptyFunction")),U=q(c("emptyFunction"));L=p(function(){return{isDialogOpened:j,setFocused:B,setIsDialogOpened:D}},[B,D,j]);K=p(function(){return{forwardMessage:T,openReactionsMenu:R,removeMessage:U,replyToMessage:S}},[R,S]);var V=c("useMAWEditMessageData")()!=null;f=c("useMWPEditMessageDeemphasizer")(z.messageId);var W=function(a){if(x!==a){B(function(){return a});return F(function(){if((a||j)&&y)return z.messageId;else return""})}},X=function(a){x!==a&&B(function(){return a});var b=P.current;if(a&&b!=null){c("setTimeout")(function(){try{return b.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(a){return b.scrollIntoView(!1)}},0);return}};n(function(){if(g){var a;(a=G.current)==null?void 0:a.focus();(a=G.current)==null?void 0:a.scrollIntoView()}},[g]);return l.jsx(c("BaseHeadingContextWrapper.react"),{children:l.jsx(d("MWV2MessageRowIsRowFocusedContext.react").MWV2MessageRowIsRowFocusedContextProvider,{value:L,children:l.jsx(d("MWV2MessageRowActionsContext.react").MWV2MessageRowActionsContextProvider,{value:K,children:l.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRow,{domElementRef:e,message:z,role:"row",setHovered:V?c("emptyFunction"):C,stopHoveringRef:E,theme:a,xstyle:[r.row,f],children:l.jsxs(l.Fragment,{children:[l.jsx(d("MWMessageTableFocusTable.react").FocusTable[1],{children:l.jsx(c("FocusWithinHandler.react"),{onFocusChange:V?void 0:W,onFocusVisibleChange:V?void 0:X,children:function(a,e){a=l.jsx(d("MWMessageTableFocusTable.react").FocusTable[2],{children:l.jsx("div",{className:(i||(i=c("stylex")))(r.cell,y?r.cellModal:!1,e?r.cellFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.react").scopeID,ref:G,role:"gridcell",tabIndex:V?-1:0,children:l.jsx(c("FocusInertRegion.react"),{disabled:y,focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:y?l.jsxs(l.Fragment,{children:[l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:H,recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:l.jsx(c("KeyCommandHandler.react"),{onKeyDown:s,children:l.jsxs("div",{"aria-describedby":A,"aria-labelledby":M,id:O,role:"dialog",children:[b,y?N:null,l.jsx(w,{ariaLabel:u,focusable:!0,onPress:J,text:h._("__JHASH__PEyi9JodUw1__JHASH__"),xstyle:r.enterModalButtonVisible})]})})}),d("ReactDOMComet").createPortal(l.jsx("div",{"aria-owns":O}),document.body)]}):b})})});return l.jsxs(l.Fragment,{children:[l.jsx(d("MWMessageCellFocusTable.react").keyCommands,{onEnter:y||V?void 0:I,onEscape:y?J:void 0,onSpace:y||V?void 0:I,children:Q?l.jsx(d("MWMessageCellKeyCommands.react").keyCommands,{message:z,children:a}):a}),l.jsx("div",{role:"gridcell",children:l.jsx(w,{ariaLabel:y?h._("__JHASH__C-7ahaHTUI7__JHASH__"):t,focusable:y,onPress:I,ref:P,text:y?h._("__JHASH__C-7ahaHTUI7__JHASH__"):v,xstyle:e&&!y?r.enterModalButtonVisible:r.visuallyHidden})})]})}})}),l.jsx(c("MWEditMessageOverlay.react"),{messageId:z.messageId})]})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPMessageRowCalculateStatus.react",["GenderConst","I64","MAWThreadCutover","MWClickedMessageContext.react","MWMessageDeliveryStatus","MWPActor.react","MWPThreadCapabilitiesContext","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","gkx","react","useMWIsReadReceiptsDisabledForThread","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;j||(j=d("react"));b=j;var k=b.useEffect,l=b.useState;function m(){return c("gkx")("1770")}function a(a){var b=a.children,e=a.isBroadcastChannel,g=e===void 0?!1:e;e=a.isBroadcastThread;var j=a.isLargeGroup,l=a.isSecureGroupThread,m=a.message,p=a.nextMessage,q=d("MWPActor.react").useActor(),r=(h||(h=c("useReStore")))(),s=(i||(i=d("I64"))).equal(q,m.senderId),t=p!=null&&!(i||(i=d("I64"))).equal(q,p.senderId),u=m.isUnsent,v=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();v=v.seenCountV2Enabled;var w=!m.isUnsent&&v,x=p==null;v=c("useMWIsReadReceiptsDisabledForThread")(m.threadKey)&&c("gkx")("24094");var y=c("MWClickedMessageContext.react").useHook(),z=y.clickedMessageId,A=y.fetchMessageSeenCount,B=y.hasError;y=y.isLoading;var C=d("ReQLSuspense").useFirst(function(){return w?d("ReQL").fromTableAscending(r.tables.community_chat_message_seen_count,["seenCount"]).getKeyRange(m.threadKey,m.messageId):d("ReQL").empty()},[r,w,m.threadKey,m.messageId],f.id+":101");k(function(){g===!0&&x&&A(m.threadKey,m.messageId)},[A,m.messageId,m.threadKey,x,g,s]);var D=n(a,function(a){return!x&&a.length===0},[x]),E=o(function(){return d("ReQL").fromTableDescending(r.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["contactId"]).getKeyRange(m.threadKey).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,q)}).take(1)},function(a){return a.length>0},[m.threadKey,q]).length>0,F=o(function(){return d("ReQL").fromTableDescending(r.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["readWatermarkTimestampMs","contactId"]).getKeyRange(m.threadKey).bounds({gte:d("ReQL").key(m.timestampMs)}).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,q)}).take(1)},function(a){return E&&a.length>0},[m.timestampMs,m.threadKey,q,E]),G=F.length>0;F=o(function(){return d("ReQL").fromTableDescending(r.tables.participants.index("threadKeyDeliveredWatermarkTimestampMs"),["contactId"]).getKeyRange(m.threadKey).bounds({gte:d("ReQL").key(m.timestampMs)}).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,q)}).take(1)},function(a){return a.length>0||G},[m.threadKey,m.timestampMs,G,q]).length>0;var H=n(a,function(a){return G&&a.length===0},[G]);if(m.isAdminMessage)return b({type:"NoneStatus"});if(e)if(!w){if(!s||p!=null||u)return b({type:"NoneStatus"})}else{if(z!==m.messageId)return b({type:"NoneStatus"});if(y)return b({type:"Loading"});return B?b({type:"RetriableError"}):C!=null?b(d("MWMessageDeliveryStatus").seenCount((i||(i=d("I64"))).to_int32(C.seenCount))):b({type:"Loading"})}if(!s){if(l||j)return b({type:"NoneStatus"});return g===!0?C!=null?b(d("MWMessageDeliveryStatus").seenCount((i||(i=d("I64"))).to_int32(C.seenCount))):b({type:"NoneStatus"}):D.length>0?a.children(d("MWMessageDeliveryStatus").seenHead(D)):a.children({type:"NoneStatus"})}if(s&&x&&g&&(C!=null&&(i||(i=d("I64"))).to_int32(C.seenCount)>0))return b(d("MWMessageDeliveryStatus").seenCount((i||(i=d("I64"))).to_int32(C.seenCount)));if(t&&l)return b({type:"NoneStatus"});if((i||(i=d("I64"))).equal(m.sendStatusV2,(i||(i=d("I64"))).of_int32(0)))return b({type:"NoneStatus"});if((i||(i=d("I64"))).equal(m.sendStatusV2,(i||(i=d("I64"))).of_int32(4))||(i||(i=d("I64"))).equal(m.sendStatusV2,(i||(i=d("I64"))).of_int32(5)))return b({type:"Error"});if((i||(i=d("I64"))).equal(m.sendStatusV2,(i||(i=d("I64"))).of_int32(1)))return b({type:"Sending"});if((i||(i=d("I64"))).equal(m.sendStatusV2,(i||(i=d("I64"))).of_int32(6)))return b({type:"Sent"});if(j)if(p!=null||u)return b({type:"NoneStatus"});else if((i||(i=d("I64"))).equal(m.sendStatusV2,(i||(i=d("I64"))).of_int32(2)))return b({type:"Delivered"});return G&&!v?H.length>0?b(d("MWMessageDeliveryStatus").seenHead(H)):b({type:"NoneStatus"}):F?b({type:"Delivered"}):b({type:"Sent"})}a.displayName=a.name+" [from "+f.id+"]";function n(a,b,e){var g=(h||(h=c("useReStore")))(),j=d("MWPActor.react").useActor(),k=a.message,l=a.nextMessage,n=c("useMWIsReadReceiptsDisabledForThread")(k.threadKey)&&c("gkx")("24094");a=d("MAWThreadCutover").useGetCutoverSecureThreadKey(a.isSecureThread&&m()?(i||(i=d("I64"))).to_string(k.threadKey):void 0);var p=a!=null?(i||(i=d("I64"))).of_string(a):null;a=o(function(){var a=l!=null?{gte:d("ReQL").key(k.timestampMs),lt:d("ReQL").key(l.timestampMs)}:{gte:d("ReQL").key(k.timestampMs)};a=d("ReQL").fromTableAscending(g.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["contactId","nickname","readActionTimestampMs"]).getKeyRange(k.threadKey).bounds(a).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,j)});var b={gte:d("ReQL").key(k.timestampMs)},c=p!=null?d("ReQL").fromTableAscending(g.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["contactId","nickname","readActionTimestampMs"]).getKeyRange(p).bounds(b).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,j)}):d("ReQL").empty();return d("ReQL").union(a,c).map(function(a){var b=d("ReQLSuspense").toArray(c,f.id+":418").some(function(b){return(i||(i=d("I64"))).equal(b.contactId,a.contactId)});return b?void 0:a}).filter(Boolean).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.tables.contacts,["id","name","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs"]).getKeyRange(a.contactId),f.id+":433");return[a,b]})},b,[g,k.threadKey,k.timestampMs,l==null?void 0:l.timestampMs,l==null,p==null,j].concat(e));return n?[]:a.map(function(a){var b,e=a[0];a=a[1];if(a==null)return;return{gender:c("GenderConst").UNKNOWN_SINGULAR,id:(i||(i=d("I64"))).to_string(a.id),imageSrc:c("getLSMediaContactProfilePictureUrl")(a),name:(b=e.nickname)!=null?b:a.name,timestamp:i.to_float(e.readActionTimestampMs)}}).filter(Boolean)}function o(a,b,c){var e=l(void 0),g=e[0];e=e[1];c=d("ReQLSuspense").useArray(function(){return g!=null?d("ReQL").empty():a()},[].concat(c,[g]),f.id+":493");b(c)&&g==null&&e(c);return g!=null?g:c}g["default"]=a}),98);
__d("MWV2AdminMsgArmadilloEphemeralChangeDuration.react",["MWAdminTextLayout.react","cr:7125","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.message;var d=a.adminMsgCtaTitle;d=d!=null&&b("cr:7125")!=null?i.jsx("div",{className:"xz94kzr x1rg5ohu xo1l8bm",children:i.jsx(b("cr:7125"),{threadKey:a.threadKey,title:d})}):null;return i.jsx(c("MWAdminTextLayout.react"),{cta:d,message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgDMLearnMore.react",["fbt","IGDDisappearingMessagesStrings","MWAdminTextLayout.react","MWXLink.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.message;return j.jsx(c("MWAdminTextLayout.react"),{cta:j.jsx(c("MWXLink.react"),{href:d("IGDDisappearingMessagesStrings").LEARN_MORE_LINK,target:"_blank",children:h._("__JHASH__t0_WbzixXKp__JHASH__")}),message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("XPolarisDirectInboxControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/direct/inbox/",Object.freeze({initial_e2ee_toggle_position:!1,recurring_notification:!1}),["/direct/t/{?thread_key}/","/direct/{?subpage}/{?folder}/"],void 0);b=a;g["default"]=b}),98);
__d("MWV2AdminMsgE2EECutoverRollback.react",["CurrentEnvironment","I64","MWAdminTextLayout.react","MWInboxRouteBuilder","MWXLink.react","ReQL","ReQLSuspense","WALoggerDeferred","XPolarisDirectInboxControllerRouteBuilder","react","react-strict-dom","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate the url, thread is missing in mi_act_mapping table for threadKey ",""]);k=function(){return a};return a}var l=j||d("react"),m={adminTextCta:{color:"xz94kzr",display:"x1rg5ohu",fontWeight:"xk50ysn",$$css:!0}};function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table).getKeyRange(b.threadKey).map(function(a){return(i||(i=d("I64"))).to_string(a.jid)})},[e,b.threadKey],f.id+":40");a=a!=null?c("CurrentEnvironment").instagramdotcom?c("XPolarisDirectInboxControllerRouteBuilder").buildExtraURL("/direct/t/{?thread_key}/",{thread_key:a}):d("MWInboxRouteBuilder").buildURL({thread_key:a}):(d("WALoggerDeferred").LOG(k(),(i||(i=d("I64"))).to_string(b.threadKey)),d("MWInboxRouteBuilder").buildHomeURL());var g=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":65");g=g==null?void 0:g.title;a=g!=null?l.jsx(d("react-strict-dom").html.div,{style:m.adminTextCta,children:l.jsx(c("MWXLink.react"),{href:a,target:"_self",children:g})}):null;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgE2EEDescription.react",["fbt","CurrentEnvironment","I64","JSResourceForInteraction","MDSLockSvgIcon.react","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","XInstagramHelpDotComContentControllerRouteBuilder","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m=c("JSResourceForInteraction")("MAWLearnMoreCutoverDialog.react").__setRef("MWV2AdminMsgE2EEDescription.react"),n=h._("__JHASH__8YEBJluoCs5__JHASH__");function a(a){var b,e=a.message,g=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(g.tables.admin_message_ctas).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(j||(j=d("I64"))).neg_one)},[g,e],f.id+":52");b=(b=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null?void 0:(b=b.setProtocol("https"))==null?void 0:b.toString();var h={},k=c("useMWXLazyDialog")(m),o=k[0];k=function(){return o(h)};a=a==null?void 0:a.title;b=a!=null?c("CurrentEnvironment").instagramdotcom?l.jsx(c("MWXLink.react"),{href:b,target:"_blank",children:n}):l.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:l.jsx(c("MWXLink.react"),{onClick:k,target:"_blank",children:a})}):null;return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"x1o583il x1rg5ohu x177n6bx x1n2onr6",children:l.jsx(c("MDSLockSvgIcon.react"),{color:"tertiary",size:16})}),l.jsx(c("MWAdminTextLayout.react"),{cta:b,message:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2AdminMsgICDC.react",["fbt","MWAdminTextLayout.react","MWXLink.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k="https://www.facebook.com/help/messenger-app/1577627185919537/?helpref=uf_permalink&parent_cms_id=1084673321594605";function a(a){a=a.message;return j.jsx(c("MWAdminTextLayout.react"),{cta:j.jsx(d("react-strict-dom").html.div,{children:j.jsx(c("MWXLink.react"),{href:k,target:"_blank",children:h._("__JHASH__t0_WbzixXKp__JHASH__")})}),message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2AdminMsgNotificationMessageManageNotifications.react",["I64","MWAdminTextLayout.react","MWNotificationMessageManageNotificationsAdminMsgCta.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.isOptOut,e=a.message,g=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(g.tables.admin_message_ctas).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[g,e],f.id+":35");var j=e.adminMsgCtaTitle,l=a==null?void 0:a.targetId;a=j!=null&&a!=null&&l!=null?k.jsx("div",{className:"x1rg5ohu x1s688f",children:k.jsx(c("MWNotificationMessageManageNotificationsAdminMsgCta.react"),{isOptOut:b,targetId:l,threadKey:e.threadKey,title:j})}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3008");b=d("FalcoLoggerInternal").create("p2b_differentiation_privacy_disclosure_open_click_web",a);e=b;g["default"]=e}),98);
__d("MWV2AdminMsgP2BPrivacyDisclosure.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgP2BPrivacyDisclosure.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":31");var g=c("useMWXLazyDialog")(l),j=g[0];g=a==null?void 0:a.title;a=g!=null?k.jsx(c("MWXLink.react"),{onClick:function(){j({entryPoint:"ADMIN_TEXT",threadKey:b.threadKey},function(){}),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"ADMIN_TEXT",page_id:(i||(i=d("I64"))).to_string(b.threadKey)}})},children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgPostMessageRemoveActions.react",["C4GFalcoLoggerDeferred","I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useCallback,m=c("JSResourceForInteraction")("MWCMAdmodRemoveMessageOtherActionsDialog.react").__setRef("MWV2AdminMsgPostMessageRemoveActions.react");function n(a){var b=a.senderId,e=a.threadKey;a=a.title;var f=c("useMWXLazyDialog")(m),g=f[0];f=l(function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"message_removed_more_actions_sheet_rendered",surface:"thread_view",thread_id:(j||(j=d("I64"))).to_string(e)}),g({senderId:b,threadKey:e})},[g,b,e]);return k.jsx(c("MWXLink.react"),{color:"highlight",onClick:f,role:"button",children:a})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(j||(j=d("I64"))).neg_one)},[e,b],f.id+":60");var g=a==null?void 0:a.title;a=a==null?void 0:a.actionUrl;var i=null;if(a!=null){a=new URL(a);i=a.searchParams.get("removed_msg_sender_id")}a=i!=null&&g!=null?k.jsx(n,{senderId:i,threadKey:b.threadKey,title:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgServiceBookingLegalDisclaimer.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgServiceBookingLegalDisclaimer.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":32");var g=c("useMWXLazyDialog")(l),j=g[0];g=a==null?void 0:a.title;a=g!=null?k.jsx(c("MWXLink.react"),{onClick:function(){return j({entryPoint:"ADMIN_TEXT",threadKey:b.threadKey},function(){})},children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgShowPinnedMessages.react",["I64","JSResourceForInteraction","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","MWPBumpEntityKey","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWV2AdminMsgShowPinnedMessages.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=c("useMWXLazyDialog")(l);var g=a[0];a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":32");var j=function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","see_all_admin_msg_cta");return g({threadKey:b.threadKey},function(){})};a=a==null?void 0:a.title;j=a!=null?k.jsx(c("MWAdminMsgCtaLink.react"),{onClick:j,children:a}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:j,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgViewMessagesDualThreadCutover.react",["I64","LSFactory","LSIntEnum","LSPlatformWaitForTaskCompletion","LSVerifyThreadRowExistsStoredProcedure","MWAdminTextLayout.react","MWXLink.react","MWXText.react","ReQL","WALoggerDeferred","asyncToGeneratorRuntime","promiseDone","react","useAsyncReStore","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Dual-thread-cutover] Failed to navitage to open messages thread ",""]);k=function(){return a};return a}var l=h||(h=d("react")),m=h.useCallback;function a(a){var e=a.message,f=c("useAsyncReStore")(),g=c("useMWNavigation")();a=m(function(){c("promiseDone")(f,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,f=(b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(e.threadKey))))==null?void 0:b.jid;f&&(yield c("LSPlatformWaitForTaskCompletion")(a,function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(i||(i=d("LSIntEnum"))).ofNumber(1),threadKey:f,threadType:i.ofNumber(1)})},"readwrite"));b=f?yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(f)):null;b?g.openTabOrInbox({clientThreadKey:b.clientThreadKey,threadKey:b.threadKey,threadType:b.threadType},"preCutoverThread"):void d("WALoggerDeferred").LOG(k(),(j||(j=d("I64"))).to_string(e.threadKey))});return function(b){return a.apply(this,arguments)}}())},[f,e.threadKey,g]);var h=e.adminMsgCtaTitle;a=h!=null?l.jsx(c("MWXLink.react"),{onClick:a,role:"button",children:l.jsx(c("MWXText.react"),{color:"blueLink",type:"body4",children:h})}):null;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgViewPoll.react",["I64","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","ReQL","ReQLSuspense","justknobx","react","useMWChatPollXMAActionHandler","useMWHasPollsVotingEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useCallback;function a(a){var b=a.message,e=(h||(h=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":28");a=c("useMWHasPollsVotingEnabled")(b.threadKey);var j=c("useMWChatPollXMAActionHandler")(),m=l(function(){j(g==null?void 0:g.targetId,g==null?void 0:g.targetTitle)},[g==null?void 0:g.targetId,g==null?void 0:g.targetTitle,j]);if(!c("justknobx")._("1987")||!a||g==null)return k.jsx(c("MWAdminTextLayout.react"),{message:b});a=g==null?void 0:g.title;m=a!=null?k.jsx(c("MWAdminMsgCtaLink.react"),{onClick:m,children:a}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:m,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgWebUrl.react",["I64","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":24");var g=a==null?void 0:a.title;a=a==null?void 0:a.actionUrl;a=g!=null&&a!=null?k.jsx(c("MWXLink.react"),{color:"primary",href:a,target:"_blank",children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2SBGProactiveChatMutationUrl.react",["CometRelay","I64","LWICometProactiveChatOptInMutation.react","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.message,e=a.opted_in,g=d("CometRelay").useRelayEnvironment(),j=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(j.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[j,b],f.id+":32");a=(a=a==null?void 0:a.title)!=null?a:"";var l=function(){return d("LWICometProactiveChatOptInMutation.react").commitProactiveChatOptInMutation({entryPoint:"sbg_messenger_xmat",environment:g,optInValue:e,setLoading:function(){},setOptedIn:function(){}})};l=a!=null?k.jsx(c("MWAdminMsgCtaLink.react"),{onClick:l,children:a}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:l,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatAdminMessage.react",["MWAdminTextLayout.react","MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react","MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react","MWV2AdminMsgArmadilloEphemeralChangeDuration.react","MWV2AdminMsgDMLearnMore.react","MWV2AdminMsgE2EECutoverRollback.react","MWV2AdminMsgE2EEDescription.react","MWV2AdminMsgICDC.react","MWV2AdminMsgNotificationMessageManageNotifications.react","MWV2AdminMsgP2BPrivacyDisclosure.react","MWV2AdminMsgPostMessageRemoveActions.react","MWV2AdminMsgServiceBookingLegalDisclaimer.react","MWV2AdminMsgShowPinnedMessages.react","MWV2AdminMsgViewMessagesDualThreadCutover.react","MWV2AdminMsgViewPoll.react","MWV2AdminMsgWebUrl.react","MWV2SBGProactiveChatMutationUrl.react","MWXText.react","gkx","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={color:{color:"x186z157",fontWeight:"xk50ysn",$$css:!0},container:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingStart:"x5ib6vp",paddingLeft:null,paddingRight:null,paddingEnd:"xc73u3c",$$css:!0},containerThatPrecedesAdminMessage:{paddingBottom:"x1a8lsjc",$$css:!0},containerThatProceedsAdminMessage:{paddingTop:"x889kno",$$css:!0},content:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",maxWidth:"x1ekjcvx",textAlign:"x2b8uid",wordBreak:"x13faqbe",$$css:!0}};function k(a){if(a!=null)return a.isAdminMessage;else return!1}function l(a){var b=a.children,c=a.nextMessage;a=a.prevMessage;return i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.container,k(a)?j.containerThatProceedsAdminMessage:!1,k(c)?j.containerThatPrecedesAdminMessage:!1],children:i.jsx(d("react-strict-dom").html.div,{style:j.content,children:b})})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.message;a.nextMessage;a.prevMessage;switch(b.adminMsgCtaType){case"admin_msg_armadillo_ephemeral_change_duration":return i.jsx(c("MWV2AdminMsgArmadilloEphemeralChangeDuration.react"),{message:b});case"admin_msg_dual_thread_cutover":return i.jsx(c("MWV2AdminMsgViewMessagesDualThreadCutover.react"),{message:b});case"admin_msg_web_url":return i.jsx(c("MWV2AdminMsgWebUrl.react"),{message:b});case"admin_msg_sbg_proactive_chat_opt_in":return i.jsx(c("MWV2SBGProactiveChatMutationUrl.react"),{message:b,opted_in:!0});case"admin_msg_sbg_proactive_chat_opt_out":return i.jsx(c("MWV2SBGProactiveChatMutationUrl.react"),{message:b,opted_in:!1});case"admin_msg_p2b_privacy_disclosure":if(c("gkx")("24144"))return i.jsx(c("MWV2AdminMsgP2BPrivacyDisclosure.react"),{message:b});else break;case"admin_notification_messages_opt_out":return i.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!0,message:b});case"admin_notification_messages_opt_in":return i.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!1,message:b});case"admin_msg_thread_level_cutover":return i.jsx(c("MWV2AdminMsgE2EEDescription.react"),{message:b});case"admin_msg_e2ee_thread":return null;case"admin_msg_cutover_rollback":return i.jsx(c("MWV2AdminMsgE2EECutoverRollback.react"),{message:b});case"xmat_instant_game_bot_message_subscribe":return i.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:b,shouldSubscribe:!0});case"xmat_instant_game_bot_message_unsubscribe":return i.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:b,shouldSubscribe:!1});case"admin_msg_view_pin_msgs_v2":return i.jsx(c("MWV2AdminMsgShowPinnedMessages.react"),{message:b});case"xmat_instant_game_custom_update_message_mute":return i.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:b,shouldMute:!0});case"xmat_instant_game_custom_update_message_unmute":return i.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:b,shouldMute:!1});case"admin_message_service_booking_legal_disclaimer":return i.jsx(c("MWV2AdminMsgServiceBookingLegalDisclaimer.react"),{message:b});case"admin_msg_admod_post_msg_remove_actions":return i.jsx(c("MWV2AdminMsgPostMessageRemoveActions.react"),{message:b});case"admin_msg_poll_details":return i.jsx(c("MWV2AdminMsgViewPoll.react"),{message:b});case"admin_msg_icdc":return i.jsx(c("MWV2AdminMsgICDC.react"),{message:b});case"admin_msg_ig_dm_learn_more":return i.jsx(c("MWV2AdminMsgDMLearnMore.react"),{message:b})}return i.jsx(c("MWAdminTextLayout.react"),{message:b})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.message,e=a.nextMessage;a=a.prevMessage;return b.adminMsgCtaType==="admin_msg_e2ee_thread"?null:i.jsx(l,{nextMessage:e,prevMessage:a,children:i.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:i.jsx(d("react-strict-dom").html.div,{style:j.color,children:i.jsx(m,{message:b})})})})}a.displayName=a.name+" [from "+f.id+"]";g.isAdminMessage=k;g.MWV2ChatAdminMessageContainer=l;g.MWV2ChatAdminMessage=a}),98);
__d("MWV2ChatBubble.react",["MWPMessageIsReply","MWXMessageBubble.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.message,d=a.xmaLayout,e=a.children,f=a.connectBottom,g=a.connectTop,h=a.outgoing;a=a.precedesXMA;b=c("MWPMessageIsReply")(b);return i.jsx(c("MWXMessageBubble.react"),{align:h?"right":"left",color:h?"outgoing":"incoming",connectBottom:f,connectTop:g,precedesXMA:a,variant:b?"opaque":"default",xmaLayout:d,children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatBubbleContainer.react",["MWChatBubbleEmphasisRing.react","MWV2ChatBubble.react","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.hasEmphasisRing;b=b===void 0?!1:b;var e=a.message,f=a.xmaLayout;f=f===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:f;var g=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["hasEmphasisRing","message","xmaLayout","children"]);g=i.jsx(c("MWV2ChatBubble.react"),babelHelpers["extends"]({children:g,message:e,xmaLayout:f},a));return b?i.jsx(c("MWChatBubbleEmphasisRing.react"),babelHelpers["extends"]({hasXMA:!1},a,{children:g})):g}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatEmojiHotLike.react",["cr:9766","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.hotEmojiSize;if(b("cr:9766")==null)return null;else return i.jsx(b("cr:9766"),{hotEmojiSize:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatEmoji.react",["CometTextWithEntities.react","I64","LSHotEmojiSize","LSIntEnum","MWChatBubbleEmphasisRing.react","MWChatTextTransform","MWV2ChatEmojiHotLike.react","ReStoreVaulting","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h.useMemo,m=(b={},b[c("LSHotEmojiSize").NONE]=32,b[c("LSHotEmojiSize").SMALL]=32,b[c("LSHotEmojiSize").MEDIUM]=56,b[c("LSHotEmojiSize").LARGE]=96,b);function a(a){var b=a.hasEmphasisRing;b=b===void 0?!1:b;var e=a.isSecureMessage;e=e===void 0?!1:e;a=a.message;var f=a.hotEmojiSize,g=f!=null&&((i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL))||(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM))||(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE))),h=f?(j||(j=d("LSIntEnum"))).unwrapIntEnum(f):c("LSHotEmojiSize").NONE;f=l(function(){return d("MWChatTextTransform").textTransformsWithOptions({size:c("gkx")("1561")?m[h]:32})},[h]);a=a.text;if(a==null)return null;a=d("ReStoreVaulting").maybeUnvault(a);if(e&&g&&a==="\ud83d\udc4d")return k.jsx(c("MWV2ChatEmojiHotLike.react"),{hotEmojiSize:h});e=k.jsx(c("CometTextWithEntities.react"),{text:a,transforms:f,withParagraphs:!0});return b?k.jsx(c("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:!1,hasXMA:!1,outgoing:!1,precedesXMA:!1,children:e}):e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatErrorBubble.react",["fbt","MWV2TombstonedMessage.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={vr:{height:"x36qwtl",width:"xh8yej3",$$css:!0},withBackground:{backgroundColor:"x1eb86dx",$$css:!0},withRepliedMessage:{zIndex:"x1vjfegm",$$css:!0}};function a(a){a=a.isReply;return j.jsxs(d("react-strict-dom").html.div,{style:a?k.withRepliedMessage:k.withBackground,children:[a?null:j.jsx(d("react-strict-dom").html.div,{style:[k.vr,k.withBackground]}),j.jsx(c("MWV2TombstonedMessage.react"),{xstyle:k.withBackground,children:h._("__JHASH__fgvjfNhcDBr__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2ChatSeenHeadsRow.react",["fbt","JSResourceForInteraction","MDSGlimmer.react","MWLSThreadDisplayContext","MWV2MessageRowIsRowFocusedContext.react","MWXImage.react","MWXPressable.react","MWXTooltip.react","MWXTooltipGroup.react","getFBTSafeGenderFromGenderConst","getMessengerPreciseTimestamp","react","react-strict-dom","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useRef,m=5,n=c("JSResourceForInteraction")("MWV2ChatSeenHeadsDialog.react").__setRef("MWV2ChatSeenHeadsRow.react"),o={heads:{display:"x78zum5",flexShrink:"x2lah0s",$$css:!0},img:{borderTopStartRadius:"x1rcc7c0",borderTopEndRadius:"xbtbmw4",borderBottomEndRadius:"x1lie4ck",borderBottomStartRadius:"x16hxpj1",height:"x1v9usgg",paddingEnd:"x19um543",paddingStart:"x1m6msm",verticalAlign:"xxymvpz",width:"x6jxa94",$$css:!0},mask:{backgroundColor:"x1eb86dx",$$css:!0},overflow:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",color:"xi81zsa",fontSize:"x1ncwhqj",fontWeight:"x117nqv4",lineHeight:"x1hkbg2g",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x150jy0e",paddingBottom:"x18d9i69",paddingStart:"x1e558r4",textAlign:"x2b8uid",$$css:!0},root:{display:"x78zum5",paddingBottom:"x1120s5i",$$css:!0},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0}};function p(a,b,e,f){if(!e)return[];e=Math.max(Math.floor(b-9),0);a=a.slice(e,b);var g="\n"+h._("__JHASH__8_D_WS90lqj__JHASH__",[h._param("Number of additional views",e,[0])]).toString();a=j.jsxs(d("react-strict-dom").html.ul,{children:[a.reverse().map(function(a,b){return j.jsx(d("react-strict-dom").html.li,{children:a.name},String(b))}),e>0?j.jsx(d("react-strict-dom").html.li,{children:g},"overflow"):null]});e=h._("__JHASH__hpZlVXKj1CE__JHASH__",[h._param("the number of additional viewers",b,[0])]);return[j.jsx(c("MWXTooltip.react"),{align:f==="Inbox"?"middle":"end",forceInlineDisplay:!0,label:e,position:"above",tooltip:a,children:j.jsx(d("react-strict-dom").html.span,{style:o.overflow,children:e})},"overflow")]}function q(a){var b=a.displayContext,d=a.index;a=a.user;var e=a.timestamp>0?h._("__JHASH__i65FoHjBJBT__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender)),h._param("seen time",c("getMessengerPreciseTimestamp")(a.timestamp))]):h._("__JHASH__o0y2JESDXU1__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))]);return j.jsx(c("MWXTooltip.react"),{align:b==="Inbox"?"middle":"end",forceInlineDisplay:!0,position:"above",tooltip:e,children:a.imageSrc===""?j.jsx(c("MDSGlimmer.react"),{index:d,xstyle:o.img}):j.jsx(c("MWXImage.react"),{alt:e,src:a.imageSrc,xstyle:o.img})})}q.displayName=q.name+" [from "+f.id+"]";function r(a,b){var c=a.length,d=c>m;c=Math.max(Math.floor(c-(d?m-1:m)),0);var e=a.slice(c);return[].concat(p(a,c,d,b),e.map(function(a,c){return j.jsx(q,{displayContext:b,index:c,user:a},a.id)}))}function a(a){var b=a.messageSeenBy,e=a.xstyle;a=k(d("MWV2MessageRowIsRowFocusedContext.react").context);var f=a.setFocused,g=a.setIsDialogOpened;a=b.length;var i=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),m=l(null),p={messageSeenBy:b},q=c("useMWXLazyDialog")(n),s=q[0],t=function(){return s(p,function(){g(function(){return!1}),f(function(){return!0})})};return j.jsxs(d("react-strict-dom").html.div,{role:"none",style:[o.root,o.mask],children:[j.jsx(d("react-strict-dom").html.div,{style:o.spacer}),j.jsx(c("MWXPressable.react"),{"aria-label":h._("__JHASH__JhvMDLpCFuF__JHASH__",[h._param("number of participants who have seen this message",String(a))]).toString(),onPress:function(){g(function(){return!0}),t()},overlayDisabled:!0,ref:m,xstyle:function(){return[o.heads,e]},children:j.jsx(c("MWXTooltipGroup.react"),{children:r(b,i)})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MessageProfileRangeTypeUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="p")return"p";else if(a==="thread"||a==="t")return"t";else if(a==="thread_active"||a==="a")return"a";else if(a==="s")return"s";else if(a==="ai")return"ai";else if(a==="c")return"cc";else if(a==="cu")return"cu";else return"n"}f.ofString=a}),66);
__d("URLScraper",["ArbiterMixin","DataStore","Event","URLMatcher","mixin"],(function(a,b,c,d,e,f,g){var h="scraperLastPermissiveMatch";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.input=b;d.enable();d.getValueFn=c;return d}var e=b.prototype;e.reset=function(){d("DataStore").set(this.input,h,null)};e.enable=function(){if(this.events)return;var a=function(a){window.setTimeout(this.check.bind(this,a),30)};this.events=c("Event").listen(this.input,{paste:a.bind(this,!1),keydown:a.bind(this,!0)})};e.disable=function(){if(!this.events)return;for(var a in this.events)this.events[a].remove();this.events=null};e.check=function(a){var c=this.getValueFn?this.getValueFn():this.input.value;if(a&&b.trigger(c))return;a=b.match(c);c=d("URLMatcher").permissiveMatch(c);c&&c!=d("DataStore").get(this.input,h)&&(d("DataStore").set(this.input,h,c),this.inform("match",{url:a||c,alt_url:c}))};return b}(c("mixin")(c("ArbiterMixin")));Object.assign(a,d("URLMatcher"));g["default"]=a}),98);
__d("getURLRanges",["URI","URLScraper","UnicodeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=[],e=0;while(!0){var f=(i||(i=d("UnicodeUtils"))).substr(a,e),g=c("URLScraper").match(f);if(!g)break;if(!(h||(h=c("URI"))).isValidURI(g))break;var j=g;/^[a-z][a-z0-9\-+.]+:\/\//i.test(g)||(j="http://"+g);var k=f.indexOf(g);f=i.strlen(f.substr(0,k));e+=f;k=g.length;b.push({offset:e,length:g.length,entity:{url:j}});e+=k}return b}g["default"]=a}),98);
__d("MWV2ChatTextParserUtils",["EmojiRenderer","EmoticonRenderer","I64","LSContactTypeExact","LSIntEnum","MWChatTextFormatting","MWLSContactTypeExactUtils","MessageProfileRangeTypeUtils","ReQL","ReQLSuspense","UnicodeUtils","XCometVanityURLControllerRouteBuilder","getURLRanges","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new RegExp("/^[ \\r\\n\\s]*$/");function a(a){var b=d("EmojiRenderer").parse(a).map(function(a){return{length:a.length,offset:a.offset}}),c=d("EmoticonRenderer").parse(a).map(function(a){return{length:a.chars.length,offset:a.offset}});b=b.concat(c).sort(function(a,b){return a.offset-b.offset|0});if(b.length===0)return!1;var e={contents:0},f={contents:0};c=b.some(function(b){e.contents===b.offset?(e.contents=e.contents+b.length|0,f.contents=e.contents):f.contents=b.offset;var c=a.substring(e.contents,f.contents);e.contents=b.offset+b.length|0;return k.test(c)===!1});b=e.contents!==a.length&&!k.test(a.substring(f.contents));if(c)return!1;else return!b}function b(a){var b=c("getURLRanges")(a),e=[];a=d("MWChatTextFormatting").getFormattingRanges(a);b.forEach(function(a){a={entity:{__typename:"Link",uri:a.entity.url},length:a.length,offset:a.offset};e.push(a)});return e.concat(a)}function l(a){if(c("gkx")("23433"))return"/t/"+a;else return"/messages/t/"+a}function m(a,b){try{a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange((h||(h=d("I64"))).of_string(b)),f.id+":109")}catch(b){a=void 0}if(a==null)return l(b);var e=a.contactTypeExact;if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").FB_USER)))return"https://www.facebook.com"+c("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b});if(!d("MWLSContactTypeExactUtils").isIgContact(e))return l(b);e=a.secondaryName;if(e!=null)return"https://www.instagram.com/"+e+"/";else return l(b)}function e(a,b,c,e,f,g){b=b.split(",");var i=c.split(","),k=e.split(","),n=f.split(",");return b.reduce(function(b,c,e){var f=d("MessageProfileRangeTypeUtils").ofString(n[e]),o=Number(i[e]);e=Number(k[e]);var p=(j||(j=d("UnicodeUtils"))).strlen(g.slice(0,e));p=e-p;e=e-p;f==="t"||f==="a"?b.push({entity:{__typename:"Profile",id:c,uri:l(c)},length:o,offset:e}):f==="p"?b.push({entity:{__typename:"Profile",id:c,uri:m(a,c)},length:o,offset:e}):f==="cc"?b.push({entity:{__typename:"CommunityChannel",threadKey:(h||(h=d("I64"))).of_string(c)},length:o,offset:e}):f==="s"||f==="cu"?b.push({entity:{__typename:"Command"},length:o,offset:e}):f==="ai"&&b.push({entity:{__typename:"Ai"},length:o,offset:e});return b},[])}g.isEmojiOnlyMessage=a;g.findRanges=b;g.findRangesForMentions=e}),98);
__d("MWV2ChatTextUtils",["MWPVisibleMessageContext.react","MWV2ChatTextParserUtils","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useMemo;function k(a,b,c){var e=b.mentionIds,f=b.mentionLengths,g=b.mentionOffsets;b=b.mentionTypes;return e!=null&&f!=null&&g!=null&&b!=null?d("MWV2ChatTextParserUtils").findRangesForMentions(a,e,f,g,b,c):[]}function l(a,b,c){if(a==null)return[];if(a.messageId!==c)return[];var d=b.indexOf(a.contextLine);if(d>-1)return a.highlights.map(function(a){return{entity:{__typename:"Highlight"},length:a.matchLength,offset:a.matchOffset+d}});else return[]}function a(a,b){var e=(h||(h=c("useReStore")))(),f=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),g=f.visibleMessage;return j(function(){return a==null||d("MWV2ChatTextParserUtils").isEmojiOnlyMessage(a)?[]:k(e,{mentionIds:b.mentionIds,mentionLengths:b.mentionLengths,mentionOffsets:b.mentionOffsets,mentionTypes:b.mentionTypes},a).concat(d("MWV2ChatTextParserUtils").findRanges(a)).concat(l(g==null?void 0:g,a,b.messageId))},[a,b.mentionIds,b.mentionLengths,b.mentionOffsets,b.mentionTypes,b.messageId,e,g])}g.useRanges=a}),98);
__d("MWXMessageTextWithEntities.react",["cr:5671","cr:5867","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){if(b("cr:5671")!=null)return i.jsx(b("cr:5671"),babelHelpers["extends"]({},a));if(b("cr:5867")!=null){var c=a.seeLessLinkProps,d=a.seeMoreLinkProps;a=babelHelpers.objectWithoutPropertiesLoose(a,["seeLessLinkProps","seeMoreLinkProps"]);c=(c=c)!=null?c:{};var e=c.color;c=babelHelpers.objectWithoutPropertiesLoose(c,["color"]);d=(d=d)!=null?d:{};var f=d.color;d=babelHelpers.objectWithoutPropertiesLoose(d,["color"]);return i.jsx(b("cr:5867"),babelHelpers["extends"]({seeLessLinkProps:babelHelpers["extends"]({color:e==="primary"?"primary":void 0},c),seeMoreLinkProps:babelHelpers["extends"]({color:f==="primary"?"primary":void 0},d)},a))}return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageBaseMessageListText.react",["MWChatTextTransform","MWXMessageTextWithEntities.react","MWXText.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={incoming:{color:"x18lvrbx",$$css:!0},outgoing:{color:"xyk4ms5",$$css:!0},regular:{marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function a(a){var b=a.outgoing,e=a.text,f=a.xstyle,g=a.ranges,h=a.renderers;a=a.transforms;return e==null?null:i.jsx(c("MWXText.react"),{color:b?"white":"primary",type:"body3",children:i.jsx(d("react-strict-dom").html.div,{dir:"auto",style:[j.regular,b?j.outgoing:j.incoming,f],children:i.jsx(c("MWXMessageTextWithEntities.react"),{ranges:g,renderers:h,text:e,transforms:(b=a)!=null?b:d("MWChatTextTransform").textTransforms,withParagraphs:!1})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageListText.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","MWChatTextTransform","MWXMessageBaseMessageListText.react","MWXMessageBlockQuote.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=a.message,e=a.xstyleForForwarded,f=a.xstyleForText,g=a.outgoing,h=a.ranges,l=a.renderers,m=a.text;a=a.transforms;if(m==null)return null;b=b.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(b.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));l=k.jsx(c("MWXMessageBaseMessageListText.react"),{outgoing:g,ranges:h,renderers:l,text:m,transforms:(h=a)!=null?h:d("MWChatTextTransform").textTransforms,xstyle:f});return b?k.jsx(c("MWXMessageBlockQuote.react"),{outgoing:g,xstyle:e,children:l}):l}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPCombineTextRenderers",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b={};a.forEach(function(a){if(a==null)return;var c=a[0];a=a[1];var d=b[c];b[c]=d!=null?d.concat([a]):[a]});return b}f["default"]=a}),66);
__d("getMAWLinkEntityRenderer.react",["MWMessageCellFocusTable.react","MWXLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.encryptedLink,e=a.target,f=a.testid,g=a.xstyle;return function(a,f){return i.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:i.jsx("span",{role:"gridcell",children:i.jsx(c("MWXLink.react"),{encryptedLink:b,href:f.uri,target:e,testid:void 0,xstyle:g,children:a})})})}}g["default"]=a}),98);
__d("useMWPLinkRendererFactory",["MWPThreadCapabilitiesContext","getMAWLinkEntityRenderer.react","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),e=b.disableLinks;return function(b,d,f,g){return c("gkx")("24165")&&e?void 0:[f,c("getMAWLinkEntityRenderer.react")({encryptedLink:a,target:g,testid:d,xstyle:b})]}}g["default"]=a}),98);
__d("useMWTextRenderers",["CometErrorBoundary.react","GroupsCometJoinChatDialog.entrypoint","I64","MWCMThreadTypes.react","MWChatTextFormatting","MWInboxCommunityThreadsRouteBuilder","MWLSThread","MWMessageCellFocusTable.react","MWNavigationContext","MWXLink.react","react","useCommunityFolder","useMWCMShouldGoToFullScreenChatHook","useMWNavigation","useMWPCombineTextRenderers","useMWPLinkRendererFactory","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useCallback,l=b.useMemo,m={bold:{fontWeight:"x1s688f",$$css:!0},colorForLink:{color:"x1heor9g",$$css:!0},highlight:{backgroundColor:"xacajkf",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",paddingTop:"x1nn3v0j",paddingEnd:"x4uap5",paddingBottom:"x1120s5i",paddingStart:"xkhd6sd",$$css:!0},underline:{color:"x1heor9g",textDecoration:"x1bvjpef",textDecorationLine:"xujl8zx",$$css:!0}};function n(a){var b=a.folder,e=a.node,f=a.thread;a=c("useMWNavigation")();var g=a.openTabOrInbox;a=(a=f.hasPendingInvitation)!=null?a:!1;var h=c("useMWCMShouldGoToFullScreenChatHook")(),k={invited:a,shouldGoToMessenger:h,surface:"unknown"};a={groupID:(i||(i=d("I64"))).to_string(b.fbGroupId),threadID:i.to_string(f.threadKey)};h=c("useMWXEntryPointDialog")(c("GroupsCometJoinChatDialog.entrypoint"),a);var l=h[0],m=function(){return l(k)};return j.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:j.jsx("span",{className:"x1s688f",role:"gridcell",children:j.jsx(c("MWXLink.react"),{onClick:function(){if(d("MWCMThreadTypes.react").isUnjoinedCMThread(f.threadType))return m();else return g({clientThreadKey:f.clientThreadKey,threadKey:f.threadKey,threadType:f.threadType},"mention")},children:e})})})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.folder,c=a.thread,e=(i||(i=d("I64"))).to_string(b.folderId),f=i.to_string(c.threadKey);b=k(function(){return d("MWInboxCommunityThreadsRouteBuilder").buildURL({folder_id:e,thread_key:f})},[e,f]);return j.jsx(d("MWNavigationContext").Provider,{children:a.children,value:b})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.communityLinkFallback,e=a.node;a=a.threadKey;a=d("MWLSThread").useThreadExn(a);var f=c("useCommunityFolder")(a);return f!=null?j.jsx(o,{folder:f,thread:a,children:j.jsx(n,{folder:f,node:e,thread:a})}):b}p.displayName=p.name+" [from "+f.id+"]";var q=["Command",function(a){return j.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:j.jsx("span",{className:"x1s688f",role:"gridcell",children:a})})}],r=["Ai",function(a){return j.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:j.jsx("span",{className:"x1s688f",role:"gridcell",children:a})})}],s=["CommunityChannel",function(a,b){var e=j.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:j.jsx("span",{className:"x1s688f",role:"gridcell",children:a})});return j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return e},children:j.jsx(p,{communityLinkFallback:e,node:a,threadKey:b.threadKey})})}];function a(a,b,e){var f=c("useMWPLinkRendererFactory")(b),g=c("useMWPCombineTextRenderers")(l(function(){return[f([m.underline],"chat_message_regular_link","Link",e),f([m.bold,m.colorForLink],"profile_link","Profile",e),f([m.highlight],"highlight","Highlight",e),q,r,s]},[f,e]));return l(function(){return babelHelpers["extends"]({},g,{MessengerTextFormatting:[a?d("MWChatTextFormatting").messageRenderer:d("MWChatTextFormatting").messageIncomingRenderer]})},[g,a])}g["default"]=a}),98);
__d("MWV2ChatText.react",["EntMessageReplyType","I64","LSIntEnum","MWUnvaultedText","MWV2ChatTextUtils","MWXMessageListText.react","react","useMWTextRenderers","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h.useMemo;function a(a){var b=a.isSecureMessage,e=a.message;a=a.outgoing;var f=c("useMWTextRenderers")(a,b),g=e.text;g=d("MWUnvaultedText").useMWUnvaultedText(b,g);var h=d("MWV2ChatTextUtils").useRanges(g,e);if(g==null)return null;return b&&e.replyType!=null&&(i||(i=d("I64"))).equal(e.replyType,(j||(j=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP))?k.jsx(n,{message:e,outgoing:a,ranges:h,renderers:f,text:g}):k.jsx(m,{isSecureMessage:b,message:e,outgoing:a,ranges:h,renderers:f,text:g})}a.displayName=a.name+" [from "+f.id+"]";function m(a){var b=a.isSecureMessage,e=a.message,f=a.outgoing,g=a.ranges,h=a.renderers;a=a.text;var i=l(function(){var a;return new Set((a=(a=e.mentionIds)==null?void 0:a.split==null?void 0:a.split(","))!=null?a:[])},[e.mentionIds]);i=(b=d("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(b?a:null,g,i))!=null?b:{textWithSubstitutions:a,updatedRanges:g};b=i.textWithSubstitutions;a=i.updatedRanges;return k.jsx(c("MWXMessageListText.react"),{message:e,outgoing:f,ranges:a,renderers:h,text:b})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b,e=a.message,f=a.outgoing,g=a.ranges,h=a.renderers;a=a.text;b=(b=d("useStringWithSubstitutions").useStringWithSubstitutions(a,e.threadKey))!=null?b:a;return k.jsx(c("MWXMessageListText.react"),{message:e,outgoing:f,ranges:g,renderers:h,text:b})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMAWUnsendContentInSecureThread",["fbt","MWPMessageAuthor.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=d("MWPMessageAuthor.react").useAuthorName();a=a[0];return a!=null?h._("__JHASH___lYaXtrKDTe__JHASH__",[h._param("first name",a)]):h._("__JHASH__I-2GRtvMpnJ__JHASH__")}g["default"]=a}),226);
__d("MWV2ChatUnsentMessage.react",["fbt","I64","MWCMIsAnyCMThread","MWLSThread","MWV2TombstonedMessage.react","MWXPressable.react","MWXText.react","ReQL","ReQLSuspense","XCometGroupAdminActivitiesControllerRouteBuilder","react","useCommunityFolder","useMAWUnsendContentInSecureThread","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||d("react"),m={linkText:{paddingStart:"x16hj40l",paddingLeft:null,paddingRight:null,paddingEnd:"xsyo7zv",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0}};function n(a){var b=a.attachment,d=a.isSecureMessage;a=a.message;var e=h._("__JHASH__I-2GRtvMpnJ__JHASH__");a=c("useMAWUnsendContentInSecureThread")(a);if(d)d=a;else if(b!=null){a=b.descriptionText;d=a!=null?a:e}else d=e;return l.jsx(c("MWV2TombstonedMessage.react"),{children:d})}n.displayName=n.name+" [from "+f.id+"]";function o(a){a=a.attachment;if(a!=null){a=a.descriptionText;a=a!=null?a:h._("__JHASH__eGohYC1zonu__JHASH__")}else a=h._("__JHASH__eGohYC1zonu__JHASH__");return l.jsx(c("MWV2TombstonedMessage.react"),{children:a})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.attachment;a=a.thread;a=c("useCommunityFolder")(a);if(b!=null){b=b.cta1Title;b=b!=null?b:h._("__JHASH__8jyfQXNgswL__JHASH__")}else b=h._("__JHASH__8jyfQXNgswL__JHASH__");if(a!=null)return l.jsx(c("MWXPressable.react"),{linkProps:{url:"https://www.facebook.com"+c("XCometGroupAdminActivitiesControllerRouteBuilder").buildURL({idorvanity:(k||(k=d("I64"))).to_string(a.fbGroupId)})},overlayDisabled:!0,xstyle:function(){return[m.linkText]},children:l.jsx(c("MWXText.react"),{color:"blueLink",type:"meta2",children:b})});else return null}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.isSecureMessage,e=a.message;a=a.outgoing;var g=(i||(i=c("useReStore")))(),h=e.messageId,j=e.threadKey,k=d("MWLSThread").useThread(j),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.attachments).getKeyRange(j,h)},[g,h,j],f.id+":134");if(m!=null){var q=m.cta1Type;q=q!=null?q==="xma_view_activity_log":!1}else q=!1;return l.jsxs(l.Fragment,{children:[a?l.jsx(o,{attachment:m}):l.jsx(n,{attachment:m,isSecureMessage:b,message:e}),k!=null&&q&&c("MWCMIsAnyCMThread")(k.threadType)?l.jsx(p,{attachment:m,thread:k}):null]})}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ChatUnsentMessage=a}),226);
__d("MWV2MessageActionsVisibility.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useRef;function a(){return i(function(){})}g.useStopHoveringRef=a}),98);
__d("MWV2MessageEndOfGroupContentTextOnly.react",["fbt","MWMessageDeliveryStatus","MWStatusText.react","intlSummarizeNumber","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={statusText:{paddingBottom:"xwib8y2",paddingTop:"x1iorvi4",$$css:!0}};function l(a){var b=a.alignLeft,d=a.enableSeenInfo;a=a.num;return!d?j.jsx(j.Fragment,{}):j.jsx(c("MWStatusText.react"),{alignLeft:b,text:h._("__JHASH__SlWkB_YFGR6__JHASH__",[h._param("seenByNumber",c("intlSummarizeNumber")(a))]).toString(),xstyle:k.statusText})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.alignLeft,e=a.enableSeenInfo;e=e===void 0?!0:e;a=a.status;var f=d("MWMessageDeliveryStatus").getBroadcastStatusTitle(a);switch(a.type){case"NoneStatus":return null;case"Error":return j.jsx(c("MWStatusText.react"),{error:!0,text:f.toString(),xstyle:k.statusText});case"SingleSeenHead":return j.jsx(l,{enableSeenInfo:e,num:1});case"MultipleSeenHeads":case"DeliveredAndRead":break;case"SeenCount":return j.jsx(l,{alignLeft:b,enableSeenInfo:e,num:a.count});case"Loading":return j.jsx(c("MWStatusText.react"),{alignLeft:b,text:f.toString(),xstyle:k.statusText});case"RetriableError":return j.jsx(c("MWStatusText.react"),{alignLeft:b,error:!0,text:f.toString(),xstyle:k.statusText});default:return j.jsx(c("MWStatusText.react"),{text:f.toString(),xstyle:k.statusText})}return j.jsx(l,{enableSeenInfo:e,num:a.heads.length})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2MessageEndOfGroupContent.react",["LSMessagingThreadTypeUtil","MWChatSingleSeenHeadRow.react","MWLSThread","MWMessageDeliveryStatus","MWMessageOutgoingStatus.react","MWPMessageListColumn.react","MWV2ChatSeenHeadsRow.react","MWV2MessageEndOfGroupContentTextOnly.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={baseStyle:{marginEnd:"x1emribx",marginTop:"x1gslohp",$$css:!0},lastMessage:{marginBottom:"x12nagc",$$css:!0},nonLastMessage:{marginBottom:"xod5an3",$$css:!0},seenHeads:{marginTop:"x1gslohp",marginEnd:"xw3qccf",marginBottom:"xjpr12u",marginStart:"x1mh8g0r",$$css:!0}};function a(a){var b=a.alignLeft,e=a.enableSeenInfo;e=e===void 0?!0:e;var f=a.hasTextBasedMessageReceipts,g=a.isLastMessage,h=a.isOutgoing,k=a.isTextOnly,l=a.message;a=a.status;var m=d("MWLSThread").useThread(l.threadKey,function(a){return d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)});if(g&&f&&a.type==="NoneStatus")return i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:22});if(k===!0)return i.jsx(c("MWV2MessageEndOfGroupContentTextOnly.react"),{alignLeft:b,enableSeenInfo:e,status:a});if(a.type==="MultipleSeenHeads")return i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:i.jsx(c("MWV2ChatSeenHeadsRow.react"),{messageSeenBy:a.heads,xstyle:[j.seenHeads,f&&(g?j.lastMessage:j.nonLastMessage),f&&j.baseStyle]})});if(f&&a.type==="SeenCount"&&(m===!0&&g))return i.jsx(c("MWV2MessageEndOfGroupContentTextOnly.react"),{alignLeft:b,enableSeenInfo:e,status:a});if(f&&a.type==="SingleSeenHead")return i.jsx(c("MWChatSingleSeenHeadRow.react"),{head:a.head,text:d("MWMessageDeliveryStatus").getSingleSeenHead(a.head),xstyle:[g?j.lastMessage:j.nonLastMessage,j.baseStyle]});return h&&f?i.jsx(c("MWMessageOutgoingStatus.react"),{alignLeft:b,isLastMessage:g,message:l,status:a,xstyle:[g?j.lastMessage:j.nonLastMessage,j.baseStyle]}):null}a.displayName=a.name+" [from "+f.id+"]";g.MWV2MessageEndOfGroupContent=a}),98);
__d("MWV2MessageProfilePhotoMenuQuery$Parameters",["MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"),metadata:{},name:"MWV2MessageProfilePhotoMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWV2MessageProfilePhotoMenu.entrypoint",["JSResourceForInteraction","MWV2MessageProfilePhotoMenuQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID;a=a.userID;return{queries:{messageProfilePhotoMenuQueryRef:{parameters:c("MWV2MessageProfilePhotoMenuQuery$Parameters"),variables:{groupID:b,userID:a}}}}},root:c("JSResourceForInteraction")("MWV2MessageProfilePhotoMenu.react").__setRef("MWV2MessageProfilePhotoMenu.entrypoint")};g["default"]=a}),98);
__d("MWV2MessageProfilePhotoContent.react",["fbt","CometEntryPointPopoverTrigger.react","CometImageCover.react","I64","LSContactBitOffset","MDSAccountSvgIcon.react","MDSGlimmer.react","MWCMIsAnyCMThread","MWLSThread","MWPActor.react","MWPreloadableQueries","MWV2MessageProfilePhotoMenu.entrypoint","MWXIcon.react","MWXPressable.react","MWXTooltip.react","QE2Logger","ReQLSuspense","SVGIcon","getLSMediaContactProfilePictureUrl","qex","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m=h._("__JHASH__G4Bi2CYTkJR__JHASH__"),n={glimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1fgtraw",width:"xgd8bvy",$$css:!0},profile:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",height:"x1fgtraw",width:"xgd8bvy",$$css:!0}};function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var e=a.contact,g=a.isGroupThread,h=a.isLastMessageInGroup,k=a.message;a=a.nickname;var o=d("MWPActor.react").useActor(),p=(i||(i=c("useReStore")))(),q=d("MWLSThread").useThread(k.threadKey),r=q==null?void 0:q.parentThreadKey;q=q==null?void 0:q.threadType;var s=d("ReQLSuspense").useFirst(function(){var a;return d("MWPreloadableQueries").getCommunityFolderQuery(p,(a=r)!=null?a:(j||(j=d("I64"))).zero).map(function(a){return a.fbGroupId})},[p,r],f.id+":79"),t=q?c("MWCMIsAnyCMThread")(q):!1;if(!h)return l.jsx("div",{className:"xgd8bvy"});if(k.takedownState!=null)q=l.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:m,children:l.jsx(c("MWXIcon.react"),{alt:m,icon:d("SVGIcon").legacySVGIcon(function(){return l.jsx(c("MDSAccountSvgIcon.react"),{color:"disabled",size:28,viewBox:"6 6 24 24"})})})});else if(e!=null&&c("getLSMediaContactProfilePictureUrl")(e)!==""){var u;h=a!=null?a+" ("+e.name+")":e.name;a=(a=d("LSContactBitOffset").has(77,e))!=null?a:!1;u=(u=d("LSContactBitOffset").has(84,e))!=null?u:!1;u=!u&&!a;a=u&&t&&c("qex")._("20")===!0;u=!t&&c("qex")._("1541")===!0;var v=l.jsx(c("CometImageCover.react"),{alt:e.name,src:c("getLSMediaContactProfilePictureUrl")(e),style:{borderRadius:"50%"}});q=l.jsx(c("MWXTooltip.react"),{align:"middle",onVisibilityChange:function(a){a&&(t?d("QE2Logger").logExposureForUser("cm_web_group_message_profile_photo_menu"):d("QE2Logger").logExposureForUser("mw_photo_context_menu_universe"))},position:"start",tooltip:h,children:a||u?l.jsx(c("CometEntryPointPopoverTrigger.react"),{entryPointParams:{groupID:(j||(j=d("I64"))).to_string((e=s)!=null?e:(j||(j=d("I64"))).zero),userID:(j||(j=d("I64"))).to_string(o)},otherProps:{isGroupThread:g,message:k},popoverEntryPoint:c("MWV2MessageProfilePhotoMenu.entrypoint"),position:"above",children:function(a,b,e,f,g,h){return l.jsx(c("MWXPressable.react"),{onHoverIn:f,onHoverOut:g,onPress:function(){t?d("QE2Logger").logExposureForUser("cm_web_group_message_profile_photo_menu"):d("QE2Logger").logExposureForUser("mw_photo_context_menu_universe"),b()},onPressIn:h,overlayRadius:"50%",ref:a,xstyle:n.profile,children:v})}}):v})}else q=l.jsx(c("MDSGlimmer.react"),{index:1,xstyle:n.glimmer});return l.jsx("div",{"aria-hidden":b,className:"xuk3077 x78zum5 x2lah0s x1fgtraw xgd8bvy",children:q})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2MessageProfilePhoto.react",["MWPContactContext.react","MWV2MessageProfilePhotoContent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var e=a.isGroupThread,f=a.isLastMessageInGroup;a=a.message;var g=d("MWPContactContext.react").useMWPContactStableContext(),h=g.contact;g=g.nickname;return i.jsx(c("MWV2MessageProfilePhotoContent.react"),{ariaHidden:b,contact:h,isGroupThread:e,isLastMessageInGroup:f,message:a,nickname:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageStartOfGroupContent.react",["I64","MWPDateBreak.react","MWPMessageListColumn.react","MWV2ChatAdminMessage.react","MWV2MessageRowSimple.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function k(a,b){if(b!=null)return(i||(i=d("I64"))).compare(i.abs(i.sub(a.timestampMs,b.timestampMs)),i.of_string("900000"))>0;else return!0}function l(a){var b=a.domElementRef,e=a.message,f=a.prevMessage;a=a.renderTextWrapper;if(k(e,f))return j.jsx(c("MWV2MessageRowSimple.react"),{domElementRef:b,children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:j.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessageContainer,{nextMessage:e,prevMessage:f,children:j.jsx(c("MWPDateBreak.react"),{renderTextWrapper:a,timestamp:(i||(i=d("I64"))).to_float(e.timestampMs)})})})});else return null}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.domElementRef,c=a.message,d=a.prevMessage;a=a.renderTextWrapper;return j.jsx(l,{domElementRef:b,message:c,prevMessage:d,renderTextWrapper:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageTimestampTooltip.react",["fbt","I64","LSIntEnum","MWMessageUnsentTimestampText.react","MWXTooltip.react","cr:1654","cr:6194","getMessengerPreciseTimestamp","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react")),m=i.useMemo;function n(a){a=a.ts;return l.jsx("div",{children:a!=null?"Uploaded to EB: "+a:null})}n.displayName=n.name+" [from "+f.id+"]";function o(a){a=a.ts;return l.jsx("div",{children:a!=null&&a>0?"Send Latency: "+a.toString()+"ms":null})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var e=a.children,f=a.message,g=b("cr:1654")==null?void 0:b("cr:1654")(f.messageId),i=b("cr:6194")==null?void 0:b("cr:6194")(f.messageId);a=m(function(){var a=f.isUnsent,b=f.unsentTimestampMs;if((j||(j=d("I64"))).equal(f.displayedContentTypes,(k||(k=d("LSIntEnum"))).ofNumber(65536))&&!c("gkx")("2161")){var e=h._("__JHASH__OwAZycr4-8G__JHASH__");return[e,e]}if(b!=null&&a)return[l.jsx(c("MWMessageUnsentTimestampText.react"),{timestampMs:f.timestampMs,unsentTimestampMs:b},"first"),h._("__JHASH__8eZEd_EeDsx__JHASH__")];e=h._("__JHASH__GNnexJRNZQN__JHASH__",[h._param("time",c("getMessengerPreciseTimestamp")((j||(j=d("I64"))).to_float(f.timestampMs)))]);return[l.jsxs("div",{children:[l.jsx(o,{ts:g}),l.jsx(n,{ts:i}),l.jsx("div",{children:e})]},"first"),e]},[f,g,i]);var p=a[0];a=a[1];return l.jsx(c("MWXTooltip.react"),{align:"middle",label:a,position:"start",tooltip:p,children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MessagesFilled20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M16 7.17a.755.755 0 0 0-1 .715v1.166A3.949 3.949 0 0 1 11.051 13H8.917a.753.753 0 0 0-.45.15l-1.345 1.008a.753.753 0 0 0-.032 1.181A2.933 2.933 0 0 0 8.949 16h2.717l2.534 1.9a.5.5 0 0 0 .3.1.508.508 0 0 0 .224-.053A.5.5 0 0 0 15 17.5V16h.051A2.949 2.949 0 0 0 18 13.051V10a3 3 0 0 0-2-2.83z"}),i.jsx("path",{d:"M11.051 12A2.952 2.952 0 0 0 14 9.051v-3.1A2.952 2.952 0 0 0 11.051 3h-6.1A2.952 2.952 0 0 0 2 5.949v3.1A2.952 2.952 0 0 0 4.949 12H5v1.5a.5.5 0 0 0 .276.447A.508.508 0 0 0 5.5 14a.5.5 0 0 0 .3-.1L8.334 12z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MessengerDefaultTheme",["CurrentEnvironment","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a={color:c("CurrentEnvironment").messengerdotcom?"#0099FF":"#0084FF",id:(h||(h=d("I64"))).of_string("196241301102133"),label:"Default Blue",type:"solid"};g["default"]=a}),98);
__d("ReplyFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{children:[i.jsx("path",{d:"M101 936.5c1.903 0 3.847.017 5.811 3.326.053.09.192.048.189-.057-.213-8.03-6-7.769-6-7.769v-2.75c0-.112-.17-.112-.25-.034l-4.712 4.978a.128.128 0 0 0 0 .182l4.712 4.879c.08.078.25.022.25-.091V936.5z",transform:"translate(354.5 145)"}),i.jsx("path",{fillRule:"nonzero",d:"M101.5 937.007c2.344.065 3.445.655 4.881 3.074.318.538 1.136.29 1.119-.326-.096-3.612-1.284-5.961-3.22-7.245a6.126 6.126 0 0 0-2.136-.888 6.042 6.042 0 0 0-.644-.1v-2.272c0-.673-.751-.733-1.1-.39l-4.725 4.99a.624.624 0 0 0 .011.881l4.704 4.87c.395.388 1.11.137 1.11-.437v-2.157zm-4.857-2.724 3.857-4.075v2.315l.527-.024c.207-.004.524.02.912.102a5.134 5.134 0 0 1 1.788.743c1.388.92 2.339 2.508 2.66 4.948-1.422-1.847-2.873-2.292-5.387-2.292h-.5v2.276l-3.857-3.993z",transform:"translate(354.5 145)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("ShareIosFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{fillRule:"nonzero",children:[i.jsx("path",{d:"M100.5 535h.475c.29 0 .525.235.525.524v4.952c0 .29-.235.524-.525.524h-4.95a.524.524 0 0 1-.525-.524v-4.952c0-.29.235-.524.525-.524h.475a.5.5 0 0 0 0-1h-.475c-.843 0-1.525.682-1.525 1.524v4.952c0 .842.682 1.524 1.525 1.524h4.95c.843 0 1.525-.682 1.525-1.524v-4.952c0-.842-.682-1.524-1.525-1.524h-.475a.5.5 0 0 0 0 1zm-.354-2.146a.5.5 0 1 0 .708-.708l-2-2a.5.5 0 0 0-.708 0l-2 2a.5.5 0 1 0 .708.708l1.646-1.647 1.646 1.647z",transform:"translate(357.5 543.5)"}),i.jsx("path",{d:"M99 537.5v-6.875a.5.5 0 0 0-1 0v6.875a.5.5 0 0 0 1 0z",transform:"translate(357.5 543.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("XComposerPhotoUploaderImmediate",["Promise","XComposerPhotoUploader","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;a={load:function(){return(h||(h=b("Promise"))).resolve(c("XComposerPhotoUploader"))},preload:c("emptyFunction")};g["default"]=a}),98);
__d("XmaEventsE2eeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1399");b=d("FalcoLoggerInternal").create("xma_events_e2ee",a);e=b;g["default"]=e}),98);
__d("acceptMAWMessageRequest",["I64","LSAddMessengerContactStoredProcedure","LSFactory","LSOptimisticAcceptMessageRequestStoredProcedure","MAWUpdateLSThreadCapabilities","Promise","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,g,j){if(!j||g==null)return;var k=g[1],l=babelHelpers["extends"]({},k,{contactViewerRelationship:(i||(i=d("I64"))).of_string("2")});c("promiseDone")(a.runInTransaction(function(a){return(h||(h=b("Promise"))).all([a.contacts.upsert([k.id],l),c("LSAddMessengerContactStoredProcedure")(c("LSFactory")(a),{contactId:k.id}),d("MAWUpdateLSThreadCapabilities").updateNonMessageRequestThreadTxn(a,e.threadKey),c("LSOptimisticAcceptMessageRequestStoredProcedure")(c("LSFactory")(a),{threadKey:e.threadKey})])},"readwrite",void 0,void 0,f.id+":37"))}g["default"]=a}),98);
__d("useMWPAriaLabelForMessageListGrid",["fbt","Int64Hooks","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){var b=d("MWPActor.react").useActor(),e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return a.threadName!=null?d("ReQL").empty():d("ReQL").leftJoin(d("ReQL").fromTableAscending(e.tables.participants,["contactId","nickname"]).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2"])).take(8)},[e,a.threadKey,a.threadName],f.id+":32");return d("Int64Hooks").useMemoInt64(function(){var c;if(a.threadName!=null)return h._("__JHASH__NOo4A_R8oVU__JHASH__",[h._param("name of conversation",a.threadName)]).toString();c=(c=d("MWPGetThreadTitle").computeThreadTitle(void 0,a.threadType,g,b))!=null?c:"";return h._("__JHASH__KCW8qihKWub__JHASH__",[h._param("participant list",c)]).toString()},[b,g,a.threadName,a.threadType])}g["default"]=a}),226);