;/*FB_PKG_DELIM*/

__d("CometTahoeChainingDepthLogging.react",["VideoPlayerHooks","react","useCometTahoeChainingDepth","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useLayoutEffect;function a(){var a=d("useCometTahoeChainingDepth").useChainingDepthContext(),b=a.chainingDepthState,e=a.chainingSessionID,f=(i||(i=d("VideoPlayerHooks"))).useController();a=c("useRoutePassthroughProps")();var g=a==null?void 0:a.chainingSeedVideoId;j(function(){b!=null&&e!=null&&(f.setAdditionalLogData("video_chaining_session_id",e),f.setAdditionalLogData("video_chaining_depth_level",b)),g!=null&&f.setAdditionalLogData("video_chaining_parent_video_id",String(g))},[b,e,f,g]);return null}g["default"]=a}),98);
__d("MAWAttachmentBlob.react",["I64","LSAuthorityLevel","LSIntEnum","MAWBridgeSendAndReceive","MAWDbMedia","MAWDbXMA","Promise","WAHashUtils","gkx","qex","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new Map(),l=new Map();function m(a,b,e){var f=k.get(a);if(f!=null){if(f.TAG===0)throw f.value;return f.value}f=!c("gkx")("2419")||isFinite(a)?d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByMediaId",{description:b,mediaId:d("MAWDbMedia").convertNumberToMediaId(Number.parseInt(a,10)),qplInstanceKey:e==null?void 0:e.getInstanceKey()}).then(function(b){k.set(a,{TAG:1,value:URL.createObjectURL((b=b)!=null?b:void 0)})})["catch"](function(b){k.set(a,{TAG:1,value:""}),c("recoverableViolation")("Unable to getBlobUrlByMediaId","messenger_web_media",{error:b})}):d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByHashedPlaintextHash",{description:b,plaintextHash:d("WAHashUtils").stringToPlaintextHash(a),qplInstanceKey:e==null?void 0:e.getInstanceKey()}).then(function(b){k.set(a,{TAG:1,value:URL.createObjectURL((b=b)!=null?b:void 0)})})["catch"](function(b){k.set(a,{TAG:1,value:""}),c("recoverableViolation")("Unable to getBlobDataUrlByHashedPlaintextHash","messenger_web_media",{error:b})});k.set(a,{TAG:0,value:f});throw f}function a(a,b,e){if(a==null){c("recoverableViolation")("Unable to getAttachmentBlob because attachment is null, from "+b,"messenger_web_media",void 0,{trackOnly:!0});e==null?void 0:e.endFail("attachment_is_null");return""}if(a.hasMedia===!1&&a.hasXma===!1){c("recoverableViolation")("Unable to getAttachmentBlob because attachment hasMedia and hasXma is false, from "+b,"messenger_web_media",void 0,{trackOnly:!0});e==null?void 0:e.endFail("attachmen_has_media_has_xma_false");return""}if(a.hasMedia!==!1){if((i||(i=d("I64"))).equal(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&c("qex")._("874")===!0){var f;f=(f=o(a))!=null?f:"";if(f==null||f.length===0){c("recoverableViolation")("Unable to getAttachmentBlob because optimistic attachment url is null or empty, from "+b,"messenger_web_media",void 0,{trackOnly:!0});e==null?void 0:e.endFail("no_optimistic_attachment_url");return""}e==null?void 0:e.addPoint("return_optimistic");return f}return m(a.attachmentFbid,b,e)}return a.hasXma!==!1?n(a,"preview",b,e):""}function n(a,e,f,g){if(a==null){g==null?void 0:g.endFail("attachment_is_null");return""}var i=l.get(a.attachmentFbid+e);if(i!=null){if(i.TAG===0)throw i.value;return i.value}g==null?void 0:g.addPoint("fetch_xma_blob_from_backend_start");i=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByXMAId",{description:f,infoType:e,xmaId:d("MAWDbXMA").convertNumberToXMAId(Number.parseInt(a.attachmentFbid,10))}).then(function(c){g==null?void 0:g.addPoint("fetch_xma_blob_from_backend_success");l.set(a.attachmentFbid+e,{TAG:1,value:c!=null?URL.createObjectURL(c):""});return(h||(h=b("Promise"))).resolve()})["catch"](function(b){g==null?void 0:g.endFail("fetch_xma_blob_from_backend_fail",{string:{error:b.message}}),l.set(a.attachmentFbid+e,{TAG:1,value:""}),c("recoverableViolation")("Unable to getInfoUrlXMA, from "+f,"messenger_web_media",{error:b},{trackOnly:!0})});l.set(a.attachmentFbid+e,{TAG:0,value:i});throw i}function o(a){return a==null?void 0:a.previewUrl}g.getAttachmentBlobNonOptional=m;g.getAttachmentBlob=a;g.getInfoUrlXMA=n}),98);
__d("MAWGetAttachmentThumbnailBlob",["I64","LSAuthorityLevel","LSIntEnum","MAWBridgeSendAndReceive","MAWDbMedia","Promise","WAHashUtils","gkx","nullthrows","qex","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new Map();function a(a,b,e){if(a==null){c("recoverableViolation")("Unable to getThumbnailBlobDataUrlByMediaId because attachment is null, from "+b,"messenger_web_media",void 0,{trackOnly:!0});e==null?void 0:e.endFail("attachment_is_null");return""}if(a.hasMedia===!1){c("recoverableViolation")("Unable to getThumbnailBlobDataUrlByMediaId because attachment hasMedia is false, from "+b,"messenger_web_media",void 0,{trackOnly:!0});e==null?void 0:e.endFail("attachment_has_media_false");return""}if((i||(i=d("I64"))).equal(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&c("qex")._("874")===!0){var f=l(a);if(f==null||f.length===0){c("recoverableViolation")("Unable to getThumbnailBlobDataUrlByMediaId because optimistic attachment url is null or empty, from "+b,"messenger_web_media",void 0,{trackOnly:!0});e==null?void 0:e.endFail("no_optimistic_attachment_url");return""}e==null?void 0:e.addPoint("return_optimistic");return f}f=k.get(a.attachmentFbid);if(f!=null){if(f.TAG==="loading")throw f.urlPromise;return f.url}e==null?void 0:e.addPoint("fetch_thumbnail_blob_from_backend_start");f=!c("gkx")("2419")||isFinite(a.attachmentFbid)?n(a,b,e):m(a,b,e);k.set(a.attachmentFbid,{TAG:"loading",urlPromise:f});throw f}function l(a){return a==null?void 0:a.previewUrl}function m(a,e,f){e=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThumbnailBlobDataUrlByHashedPlaintextHash",{description:e,plaintextHash:d("WAHashUtils").stringToPlaintextHash(a.attachmentFbid),qplInstanceKey:f==null?void 0:f.getInstanceKey()}).then(function(d){k.set(a.attachmentFbid,{TAG:"done",url:c("nullthrows")(d)});return(h||(h=b("Promise"))).resolve()})["catch"](function(d){k.set(a.attachmentFbid,{TAG:"done",url:""});c("recoverableViolation")("Unable to getThumbnailBlobDataUrlByHashedPlaintextHash, from plaintextHash","messenger_web_media",{error:d},{trackOnly:!0});return(h||(h=b("Promise"))).resolve()});return e}function n(a,e,f){var g=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThumbnailBlobDataUrlByMediaId",{description:e,mediaId:d("MAWDbMedia").convertNumberToMediaId(Number.parseInt(a.attachmentFbid,10)),qplInstanceKey:f==null?void 0:f.getInstanceKey()}).then(function(d){f==null?void 0:f.addPoint("fetch_thumbnail_blob_from_backend_success");k.set(a.attachmentFbid,{TAG:"done",url:c("nullthrows")(d)});return(h||(h=b("Promise"))).resolve()})["catch"](function(d){f==null?void 0:f.endFail("fetch_thumbnail_blob_from_backend_fail",{string:{error:d.message}});k.set(a.attachmentFbid,{TAG:"done",url:""});c("recoverableViolation")("Unable to getThumbnailBlobDataUrlByMediaId, from "+e,"messenger_web_media",{error:d},{trackOnly:!0});return(h||(h=b("Promise"))).resolve()});return g}g["default"]=a}),98);
__d("VideoPlayerDefaultControls_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControls_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplLive_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplNotLive_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerDefaultControls.react",["CometPlaceholder.react","CometRelay","CometWarningScreenContext","VideoPlayerDefaultControlsProperties","VideoPlayerDefaultControls_video.graphql","VideoPlayerFullscreenControl.react","VideoPlayerHooks","cr:1875194","deferredLoadComponent","emptyFunction","react","requireDeferred","useVideoPlayerBigPlayButtonOverlay","useVideoPlayerDefaultControlsVisibility"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l=(e=b("cr:1875194"))!=null?e:c("emptyFunction"),m=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerDefaultControlsImplLive.react").__setRef("VideoPlayerDefaultControls.react")),n=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerDefaultControlsImplNotLive.react").__setRef("VideoPlayerDefaultControls.react"));function a(a){var e,f=a.availableCaptionsLocales,g=a.forceVisible,i=a.forceVisibleOnMount,o=a.initialCaptionsUrl,p=a.mutedButtonVisibility,q=a.pictureInPictureControl,r=a.renderExpandControl,s=a.shouldRenderBigPlayButton,t=a.shouldRenderCaptionsControl,u=a.shouldRenderCostreamControl,v=a.shouldRenderExpandSidePanelControl,w=a.shouldRenderLivePauseControl,x=a.shouldRenderModeratorControl,y=a.shouldRenderQuietModeControl;a.shouldRenderSkipControl;var z=a.shouldRenderWatchAndScrollControl,A=a.shouldUnmuteForBigPlayButton,B=a.skipControl,C=a.subOrigin,D=a.video;a=a.videoTahoeUrl;D=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerDefaultControls_video.graphql"),D);e=(e=d("CometWarningScreenContext").useIsContentVisible())!=null?e:!1;var E=l();E=E!=null?E.isSilentAtPlayhead:!1;var F=(j||(j=d("VideoPlayerHooks"))).useMuted(),G=j.useIsLive();i=c("useVideoPlayerDefaultControlsVisibility")({forceVisible:g,forceVisibleOnMount:i});var H=i.isControlsVisible;i=i.onUserInteraction;s=c("useVideoPlayerBigPlayButtonOverlay")({forceVisible:s!=null?s:g===!1?!1:void 0,shouldUnmute:A});g=s.bigPlayButtonElement;A=s.bigPlayButtonIsVisible;s=H&&!A&&e;H=p===d("VideoPlayerDefaultControlsProperties").MutedButtonVisibility.SAME_AS_OTHER_CONTROLS?s:(F||s||E)&&!A;e=r!=null?r({onUserInteraction:i}):k.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:i});p=G?k.jsx(m,{expandControl:e,isControlsVisible:s,isVolumeControlVisible:H,onUserInteraction:i,pictureInPictureControl:q,shouldRenderCaptionsControl:t,shouldRenderCostreamControl:u,shouldRenderExpandSidePanelControl:v,shouldRenderModeratorControl:x,shouldRenderPauseControl:w,shouldRenderQuietModeControl:y,shouldRenderWatchAndScrollControl:z,subOrigin:C,video:D,videoTahoeUrl:a}):k.jsx(n,{availableCaptionsLocales:f,expandControl:e,initialCaptionsUrl:o,isControlsVisible:s,isVolumeControlVisible:H,onUserInteraction:i,shouldRenderCaptionsControl:t,shouldRenderExpandSidePanelControl:v,shouldRenderQuietModeControl:y,shouldRenderWatchAndScrollControl:z,skipControl:B,subOrigin:C,video:D,videoTahoeUrl:a});return k.jsxs(k.Fragment,{children:[g,k.jsx(c("CometPlaceholder.react"),{fallback:null,children:p})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("bs_caml_array",[],(function(a,b,c,d,e,f){"use strict";function a(b,c,a){var d=new Array(a),e=0;c=c;while(e<a)d[e]=b[c],e=e+1|0,c=c+1|0;return d}function g(a,b){while(!0){var c=b,d=a;if(!c)return d;b=c.tl;a=c.hd.length+d|0;continue}}function h(a,b,c){while(!0){var d=c,e=b;if(!d)return;var f=d.hd,g=f.length;e=e;var h=0;while(h<g)a[e]=f[h],e=e+1|0,h=h+1|0;c=d.tl;b=e;continue}}function b(a){var b=g(0,a);b=new Array(b);h(b,0,a);return b}function c(a,b,c){if(b<0||b>=a.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error()};a[b]=c}function d(a,b){if(b<0||b>=a.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error()};return a[b]}function e(a,b){var c=new Array(a);for(var d=0;d<a;++d)c[d]=b;return c}function i(a){var b=new Array(a);for(var c=0;c<a;++c)b[c]=0;return b}function j(b,c,d,e,a){if(e<=c){for(var f=0;f<a;++f)d[f+e|0]=b[f+c|0];return}for(f=a-1|0;f>=0;--f)d[f+e|0]=b[f+c|0]}function k(a){return a.slice(0)}f.dup=k;f.sub=a;f.concat=b;f.make=e;f.make_float=i;f.blit=j;f.get=d;f.set=c}),null);
__d("getMWPAttachmentMessageAnnouncement",["fbt","I64","LSIntEnum","MessagingAttachmentType"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a,b){b===void 0&&(b=!0);if(a.length===0)return void 0;if(a.length>1)return a.every(k)?h._("__JHASH__mLcLGv6kQjM__JHASH__",[h._param("count of images, greater than or equal to 2",String(a.length))]):void 0;a=a[0];var e=a.accessibilitySummaryText,f=a.attachmentType,g=a.filename;a=a.titleText;if((i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return a==null||!b?h._("__JHASH__CsGZwNmXaIO__JHASH__"):h._("__JHASH__i_Icu0jTUQc__JHASH__",[h._param("title of image",a)]);else if((i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__0rNBSLJGEDI__JHASH__");else if((i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)))return h._("__JHASH__rzmjU77gEOx__JHASH__");else if((i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)))return e==null||e===""||!b?h._("__JHASH__0TMOPValyqo__JHASH__"):h._("__JHASH__19lTPiBl0z4__JHASH__",[h._param("title of sticker",e)]);else if((i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)))return h._("__JHASH__sBZdmUKngae__JHASH__");else if((i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)))return g==null?h._("__JHASH__17xDOMabwon__JHASH__"):h._("__JHASH__FWMIh-m_eI7__JHASH__",[h._param("name of file",g)]);else return h._("__JHASH__PpAv-1cm1Lu__JHASH__")}function k(a){return(i||(i=d("I64"))).equal(a.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}g["default"]=a}),226);